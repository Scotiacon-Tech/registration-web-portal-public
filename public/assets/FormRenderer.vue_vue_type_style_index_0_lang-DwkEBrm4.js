import{i as ce,M as te,N as he,W as Le,r as M,w as ne,c as Re,n as t,D as P,G as z,y as _,f as r,v as a,H as J,Q as le,q as V,m as ye,A as q,x as K,F as p,k as Ue,z as Ke,a1 as Ce,P as xe,E as el,$ as Ae,b as ll,al as tl,p as ze,d as je,aa as al,ar as Pe,aM as nl,u as ul,aN as sl,l as ol,aO as Be}from"./index-BYUcw9ci.js";import{F as se}from"./form-Cqw16b_M.js";import{S as il}from"./submission-DAi9v6uc.js";import{u as qe}from"./useModel-hQOAsgZs.js";import{s as Te}from"./index-fwfMqYug.js";import{V as pe,b as _e,a as me,c as ke,d as De}from"./VList-Cum7EkRQ.js";import{V as j,a as Y}from"./VRow-YrLVLmgN.js";import{V as be}from"./VCheckbox-CsjOQ7UZ.js";import{V as Me}from"./filter-BoY0YxlF.js";import{T as rl}from"./ticket-DqurB3v3.js";import{d as Se,V as Q,p as dl,u as Qe,e as vl}from"./VContainer-xaul2nd_.js";import{c as ml}from"./copyToClipboard-BtcEYe2-.js";import{a as cl,l as fe,_ as He}from"./SaveButton.vue_vue_type_script_setup_true_lang-DUSCRHYx.js";import{u as Ze}from"./useStoreAPI-a2ygpJ6h.js";import{V as Ge}from"./forwardRefs-D5KRm88S.js";import{a as $e,V as Ie,m as fl,b as pl}from"./VTextField-BygSyDr1.js";import{V as Ye}from"./VTooltip-DqD8P3sC.js";import{V as hl}from"./VFileInput-2-lMFxCZ.js";import{V as Ne}from"./VForm-afX2XJRK.js";import{_ as gl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as bl}from"./VTextarea-cEgsTDu0.js";import{V as Xe}from"./VAutocomplete-CejfdLJm.js";import{m as yl,a as Oe,b as Ul,c as Il}from"./VCheckboxBtn-DPlI5KRA.js";import{G as Dl}from"./userData-9t2oRYkd.js";import{v as we}from"./v4-CtRu48qb.js";import{e as Tl,a as Vl,b as kl,c as Cl}from"./VCard-CMRRsx1d.js";var ae=(n=>(n.ACCOMMODATION="ACCOMMODATION",n.AGE="AGE",n.BADGE_IMAGE="BADGE_IMAGE",n.CHECKBOX="CHECKBOX",n.DATE="DATE",n.EXTRAS="EXTRAS",n.HTML="HTML",n.INTERESTS="INTERESTS",n.RADIO="RADIO",n.SELECT="SELECT",n.TEXT="TEXT",n.TEXTAREA="TEXTAREA",n.TICKET="TICKET",n.NUMBER="NUMBER",n))(ae||{});const Lt=[{title:"Accommodation",value:"ACCOMMODATION"},{title:"Additional Purchase",value:"EXTRAS"},{title:"Age Check",value:"AGE"},{title:"Badge Image",value:"BADGE_IMAGE"},{title:"Button",value:"RADIO"},{title:"Checkbox",value:"CHECKBOX"},{title:"Date",value:"DATE"},{title:"Dropdown",value:"SELECT"},{title:"HTML",value:"HTML"},{title:"Interests",value:"INTERESTS"},{title:"Text",value:"TEXT"},{title:"Textarea",value:"TEXTAREA"},{title:"Ticket",value:"TICKET"},{title:"Number",value:"NUMBER"}],Ve=n=>{n.sort((k,g)=>(k.Order?k.Order:0)-(g.Order?g.Order:0)),n.forEach((k,g)=>{k.Order=g})},Rt=(n,k)=>{const g=k.indexOf(n);if(g===0)return;const w=n.Order;n.Order=k[g-1].Order,k[g-1].Order=w,Ve(k)},xt=(n,k)=>{const g=k.indexOf(n);if(g>=k.length-1)return;const w=n.Order;n.Order=k[g+1].Order,k[g+1].Order=w,Ve(k)},Sl={class:"extrasList"},wl=ce({__name:"Extras",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(n,{emit:k}){const g=n,{admin:w=!1,convention:L,disabled:h=!1}=g,A=he(n,"modelValue"),I=k,B=Le.getInstance(),x=M({});try{x.value=JSON.parse(A.value)}catch{}const D=M([]),l=M([]);ne(g,()=>{R()}),ne(x.value,v=>{for(const E in v)if(v[E].checked){const u=D.value.map(o=>{var b;return(b=o.Options)==null?void 0:b.find(f=>f.OptionUUID===E)});if(u&&u.length>0)try{const o=u[0];v[E].choiceId===""&&o&&o.Choices&&o.Choices.length>0&&(v[E].choiceId=o.Choices[0].TagUUID),v[E].price=o==null?void 0:o.Price}catch{}}else v[E].choiceId="",v[E].price=0;A.value=JSON.stringify(v),i()});const U=Re({get:()=>D.value.map(v=>v.ExtraUUID),set:()=>{}}),R=()=>{var E;const v=((E=g.items.find(u=>u.Title==="SelectedExtras"))==null?void 0:E.Value)||"[]";try{const u=JSON.parse(v);D.value=l.value.filter(o=>u.find(b=>b===o.ExtraUUID))||[],U.value=[...D.value.map(o=>o.ExtraUUID)],D.value.forEach(o=>{var b;(b=o.Options)==null||b.forEach(f=>{x.value[f.OptionUUID]||(x.value[f.OptionUUID]={choiceId:"",checked:!1})})})}catch{}};"Extras"in L&&L.Extras.length?(l.value=L.Extras,R()):"ConventionUUID"in L&&(w?B==null||B.getConventionExtras(L.ConventionUUID).then(v=>{v&&(l.value=v,R())}):B==null||B.getAvailableConventionExtras(L.ConventionUUID).then(v=>{v&&(l.value=v,R())}));const i=(v=void 0)=>{setTimeout(()=>I("change",v),100)};return(v,E)=>(t(),P("div",Sl,[z("h4",null,_(v.label),1),r(pe,{opened:U.value,"onUpdate:opened":E[0]||(E[0]=u=>U.value=u)},{default:a(()=>[(t(!0),P(J,null,le(D.value,u=>(t(),V(_e,{key:u.ExtraUUID,value:u.ExtraUUID},{activator:a(({props:o})=>[r(me,ye({"prepend-icon":"mdi:mdi-group","append-icon":"",ref_for:!0},o),{default:a(()=>[u.Name?(t(),V(ke,{key:0},{default:a(()=>[z("strong",null,_(u.Name),1)]),_:2},1024)):q("",!0),u.Description?(t(),V(De,{key:1,class:"mt-2 d-inline"},{default:a(()=>[K(_(u.Description),1)]),_:2},1024)):q("",!0)]),_:2},1040)]),default:a(()=>[u.Options?(t(!0),P(J,{key:0},le(u.Options,o=>(t(),V(me,{key:o.OptionUUID,class:"override-pl"},{default:a(()=>[r(j,null,{default:a(()=>[r(Y,{cols:"12",sm:"6"},{default:a(()=>[r(be,{label:`${o.Name} ${o.Price&&o.Price!==0?`(${p(Te).currencySymbol}${o.Price})`:""}`,modelValue:x.value[o.OptionUUID].checked,"onUpdate:modelValue":b=>x.value[o.OptionUUID].checked=b,disabled:p(h),"hide-details":"",onChange:i},null,8,["label","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),o.Choices&&o.Choices.length>1&&x.value[o.OptionUUID].checked?(t(),V(Y,{key:0,cols:"12",sm:"6"},{default:a(()=>[r(Me,{items:o.Choices.sort((b,f)=>b.Title.localeCompare(f.Title)).map(b=>({value:b.TagUUID,title:b.Title})),modelValue:x.value[o.OptionUUID].choiceId,"onUpdate:modelValue":b=>x.value[o.OptionUUID].choiceId=b,"item-value":"value","item-title":"title",variant:"outlined",disabled:p(h),"hide-details":"",onChange:i},null,8,["items","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)):q("",!0)]),_:2},1024)]),_:2},1024))),128)):q("",!0)]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]))}}),El=["innerHTML"],Al=ce({__name:"HTML",props:{data:{}},setup(n){const k=n,g=M({html:""}),w=()=>{try{const L=JSON.parse(k.data);L&&(g.value=L)}catch{}};return w(),ne(k,()=>{w()}),(L,h)=>(t(),P("div",{innerHTML:g.value.html},null,8,El))}}),Ml={class:"interestList"},$l=ce({__name:"Interests",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(n,{emit:k}){const g=n,{admin:w=!1,convention:L,disabled:h=!1}=g,A=he(n,"modelValue"),I=k,B=Le.getInstance(),x=M({});try{x.value=JSON.parse(A.value)}catch{}const D=M([]),l=M([]);ne(x.value,v=>{A.value=JSON.stringify(v)});const U=M([]),R=()=>{var E;const v=((E=g.items.find(u=>u.Title==="SelectedInterests"))==null?void 0:E.Value)||"[]";try{const u=JSON.parse(v);D.value=l.value.filter(o=>u.find(b=>b===o.InterestUUID))||[],U.value=[...D.value.map(o=>o.InterestUUID)]}catch{}};"ConventionUUID"in L&&(w?B==null||B.getConventionInterests(L.ConventionUUID).then(v=>{v&&(l.value=v,R())}):B==null||B.getConventionInterests(L.ConventionUUID).then(v=>{v&&(l.value=v,R())})),ne(g,()=>{R()});const i=(v=void 0)=>{setTimeout(()=>I("change",v),100)};return(v,E)=>(t(),P("div",Ml,[z("h4",null,_(v.label),1),r(pe,{opened:U.value,"onUpdate:opened":E[0]||(E[0]=u=>U.value=u)},{default:a(()=>[(t(!0),P(J,null,le(D.value.sort((u,o)=>u.Order>o.Order?1:u.Order==o.Order?0:-1),u=>(t(),V(me,{key:u.InterestUUID},{default:a(()=>[r(j,null,{default:a(()=>[r(Y,null,{default:a(()=>[r(be,{label:`${u.Name} ${u.Price&&u.Price>0?`(${p(Te).currencySymbol}${u.Price})`:""}`,modelValue:x.value[u.InterestUUID],"onUpdate:modelValue":o=>x.value[u.InterestUUID]=o,disabled:p(h),messages:u.Description,onChange:i},null,8,["label","modelValue","onUpdate:modelValue","disabled","messages"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["opened"])]))}}),Fe=(n,k,g)=>{if(g>=n.length){let w=g-n.length+1;for(;w--;)n.push(void 0)}n.splice(g,0,n.splice(k,1)[0])},Ee=n=>(Ve(n),n),qt=n=>(k,g)=>k[n]<g[n]?-1:k[n]>g[n]?1:0,Ol={class:"ticketList"},Ll={key:0,class:"text-orange-darken-1"},Rl=ce({__name:"Tickets",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(n,{emit:k}){const g=n,{admin:w=!1,convention:L,disabled:h=!1,registrationGroup:A=void 0}=g,I=he(n,"modelValue"),B=k,x=Le.getInstance(),D=M({Ticket:[],AddonsChecked:[],ComponentsChecked:[]});try{D.value=JSON.parse(I.value),"ticket"in D.value&&(D.value.Ticket=D.value.ticket),"addonsChecked"in D.value&&(D.value.AddonsChecked=D.value.addonsChecked),"componentsChecked"in D.value&&(D.value.ComponentsChecked=D.value.componentsChecked)}catch{}const l=M([]),U=M([]),R=M([]),i=M({required:(b,f=void 0)=>()=>{if(h||!(A!=null&&A.Registration.Leader))return!0;if(f==null){if(D.value.Ticket.length===0&&g.required)return"Must select at least one ticket option.";if(b&&b.ComponentsRequired>0&&D.value.Ticket.includes(b.TicketUUID||"")){let G=0;if(b.TicketComponents.forEach(F=>{D.value.ComponentsChecked.forEach(W=>{F.TicketUUID===W&&(G+=1)})}),G<b.ComponentsRequired)return`Must select ticket ${b.ComponentsRequired} component${b.ComponentsRequired===1?"":"s"}`}}return!0}}),v=()=>{var f;const b=((f=g.items.find(G=>G.Title==="SelectedTickets"))==null?void 0:f.Value)||"[]";try{const G=JSON.parse(b);l.value=U.value.filter(F=>F.Type==="TICKET_TYPE_GROUP"&&G.find(W=>W===F.TicketUUID))||[],R.value=[...l.value.filter(F=>F.Type==="TICKET_TYPE_GROUP").map(F=>F.TicketUUID)]}catch{}};if("ConventionUUID"in L)if(w)x==null||x.getConventionTickets(L.ConventionUUID).then(b=>{b&&(U.value=b,v())});else{const b=g.items.find(f=>f.Title==="SelectedTickets");b&&(x==null||x.getFieldTickets(b.FieldUUID).then(f=>{f&&(U.value=f,v())}))}ne(g,()=>{v()});const E=b=>{D.value.Ticket.length>1&&D.value.Ticket.shift(),D.value.ComponentsChecked=[];const f=[];l.value.forEach(G=>{(D.value.Ticket.includes(G.TicketUUID)||D.value.ComponentsChecked.includes(G.TicketUUID))&&f.push(...G.AddonTickets.map(F=>F.TicketUUID))}),D.value.AddonsChecked=D.value.AddonsChecked.filter(G=>f.includes(G)),o(b)},u=b=>{const f=U.value.find(G=>G.TicketUUID===D.value.Ticket[0]);if(f)for(;D.value.ComponentsChecked.length>f.ComponentsRequired;)D.value.ComponentsChecked.shift();o(b)},o=(b=void 0)=>{I.value=JSON.stringify(D.value),setTimeout(()=>B("change",b),100)};try{A!=null&&A.TicketData&&(D.value=JSON.parse(A.TicketData),"ticket"in D.value&&(D.value.Ticket=D.value.ticket),"addonsChecked"in D.value&&(D.value.AddonsChecked=D.value.addonsChecked),"componentsChecked"in D.value&&(D.value.ComponentsChecked=D.value.componentsChecked),o())}catch{}return(b,f)=>{var G;return t(),P("div",Ol,[z("h4",null,[K(_(b.label)+" ",1),(G=p(A))!=null&&G.Registration.Leader?q("",!0):(t(),P("small",Ll,"(controlled by group leader)"))]),r(pe,{opened:R.value,"onUpdate:opened":f[4]||(f[4]=F=>R.value=F)},{default:a(()=>[(t(!0),P(J,null,le(p(Ee)(l.value.filter(F=>F.Type===p(rl).TICKET_TYPE_GROUP)),F=>(t(),P(J,{key:F.TicketUUID},[F.Tickets.length>0?(t(),V(_e,{key:0,value:F.TicketUUID},{activator:a(({props:W})=>[r(me,ye({ref_for:!0},W,{"prepend-icon":"mdi:mdi-group"}),{default:a(()=>[r(ke,null,{default:a(()=>[z("strong",null,_(F.Name),1)]),_:2},1024),r(De,{class:"d-inline"},{default:a(()=>[K(_(F.Description),1)]),_:2},1024)]),_:2},1040)]),default:a(()=>[(t(!0),P(J,null,le(F.Tickets,W=>(t(),V(me,{key:W.TicketUUID,class:"override-pl"},{default:a(()=>{var S;return[r(De,{class:"d-inline"},{default:a(()=>[K(_(W.Description),1)]),_:2},1024),r(be,{modelValue:D.value.Ticket,"onUpdate:modelValue":f[0]||(f[0]=d=>D.value.Ticket=d),value:W.TicketUUID,onChange:E,rules:[i.value.required(W)],"validate-on":"submit",disabled:p(h)||!((S=p(A))!=null&&S.Registration.Leader)},{label:a(()=>[r(Se,{icon:W.RequiresAccommodation?"mdi:mdi-home":W.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),K(" "+_(`${W.Name} ${W.Price>0?`(${p(Te).currencySymbol}${W.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"]),D.value.Ticket.length>0&&W.TicketUUID===D.value.Ticket[0]?(t(),P(J,{key:0},[W.AddonTickets.length?(t(),V(pe,{key:0},{default:a(()=>[(t(!0),P(J,null,le(p(Ee)(W.AddonTickets),d=>(t(),P(J,{key:d==null?void 0:d.TicketUUID},[d?(t(),V(me,{key:0},{default:a(()=>[r(ke,null,{default:a(()=>{var $;return[r(be,{modelValue:D.value.AddonsChecked,"onUpdate:modelValue":f[1]||(f[1]=C=>D.value.AddonsChecked=C),value:d.TicketUUID,onChange:f[2]||(f[2]=C=>{D.value.ComponentsChecked=[],o(C)}),disabled:p(h)||!(($=p(A))!=null&&$.Registration.Leader)},{label:a(()=>[r(Se,{icon:d.RequiresAccommodation?"mdi:mdi-home-plus":d.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),K(" "+_(`${d.Name} ${d.Price>0?`(${p(Te).currencySymbol}${d.Price})`:""}`),1)]),_:2},1032,["modelValue","value","disabled"])]}),_:2},1024),r(De,{class:"d-inline"},{default:a(()=>[K(_(d.Description),1)]),_:2},1024)]),_:2},1024)):q("",!0)],64))),128))]),_:2},1024)):q("",!0),W.TicketComponents.length?(t(),V(pe,{key:1},{default:a(()=>[(t(!0),P(J,null,le(p(Ee)(W.TicketComponents),d=>(t(),P(J,{key:d==null?void 0:d.TicketUUID},[d?(t(),V(me,{key:0},{default:a(()=>[r(ke,null,{default:a(()=>{var $;return[r(be,{modelValue:D.value.ComponentsChecked,"onUpdate:modelValue":f[3]||(f[3]=C=>D.value.ComponentsChecked=C),value:d.TicketUUID,onChange:u,rules:[i.value.required(W,d)],"validate-on":"submit",disabled:p(h)||!(($=p(A))!=null&&$.Registration.Leader)},{label:a(()=>[r(Se,{icon:d.RequiresAccommodation?"mdi:mdi-home-plus":d.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),K(" "+_(`${d.Name} ${d.Price>0?`(${p(Te).currencySymbol}${d.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"])]}),_:2},1024),r(De,null,{default:a(()=>[K(_(d.Description),1)]),_:2},1024)]),_:2},1024)):q("",!0)],64))),128))]),_:2},1024)):q("",!0)],64)):q("",!0)]}),_:2},1024))),128))]),_:2},1032,["value"])):q("",!0)],64))),128))]),_:1},8,["opened"])])}}}),xl={key:0},ql={class:"d-flex flex-wrap my-2"},Pl={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1 align-content-center"},Bl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Hl={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1"},Gl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Yl=["href"],Xl=ce({__name:"Accommodation",props:te({admin:{type:Boolean},convention:{},data:{},disabled:{type:Boolean},hint:{},items:{},label:{},name:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","update:items"],["update:modelValue"]),setup(n,{emit:k}){const g=n,{admin:w=!1,convention:L,disabled:h}=g,A=k,I=he(n,"modelValue"),B=qe(g,A,void 0,void 0,"items"),x=xe(),D=Ze(),l=el.getInstance(),U=M(Ue(I.value)),R=M([]),i=M(),v=M({sharing:!1}),E=()=>{try{const s=JSON.parse(g.data);s&&(v.value=s)}catch{}};E(),ne(g,()=>{E(),g.registrationGroup&&(R.value=g.registrationGroup.Members,i.value=g.registrationGroup.Registration)}),ne(U,s=>{I.value=Ue(s)},{deep:!0});const u=M(""),o=M(!1),b=()=>{var s;(s=i.value)!=null&&s.Leader&&x.getRegistrationInvite(L.ConventionUUID).then(T=>{if(T){const oe=new URL(location.href);oe.searchParams.set("token",T),u.value=oe.toString()}})},f=()=>{ml(u.value),b(),o.value=!0,setTimeout(()=>o.value=!1,2200)},G=(s=void 0)=>{setTimeout(()=>A("change",s),100)},F=M({required:s=>!g.required||s.length>0||"Selections Required"}),W=s=>s?`${s.Reference?`#${s.Reference}`:"(not registered)"} ${s.Name}`:"",S=()=>{var s;l.emit("registration.group.leave",(s=i.value)==null?void 0:s.RegistrationUUID)},d=s=>{l.emit("registration.group.remove.member",s)},$=M([]);ne(B,()=>{C()});const C=()=>{w?x.getConventionAccommodation(L.ConventionUUID).then(s=>{$.value=s.filter(T=>!!(B!=null&&B.value.find(oe=>oe.Value===T.AccommodationUUID)))||[]}):B.value.length>0&&x.getFieldAccommodation(B.value[0].FieldUUID).then(s=>{$.value=s.filter(T=>!!(B!=null&&B.value.find(oe=>oe.Value===T.AccommodationUUID)))||[]})};C(),(()=>{var s;if(g.registrationGroup)if(R.value=g.registrationGroup.Members,i.value=g.registrationGroup.Registration,(s=i.value)!=null&&s.Leader)b();else try{U.value=JSON.parse(g.registrationGroup.AccommodationData),G()}catch{}})();const X=M({column:0,id:""}),re=()=>{!h&&!U.value.includes(X.value.id)&&(X.value.column===0&&X.value.id!==""&&U.value.push(X.value.id),G())},de=()=>{const s=U.value.findIndex(T=>T===X.value.id);!h&&s>=0&&(U.value.splice(s,1),G())},ge=()=>{if(h||X.value.column!==1)return;const s=U.value.findIndex(T=>T===X.value.id);s<=0||(Fe(U.value,s,s-1),G())},Z=()=>{if(h||X.value.column!==1)return;const s=U.value.findIndex(T=>T===X.value.id);s>=U.value.length-1||(Fe(U.value,s,s+1),G())};return(s,T)=>{var oe;return t(),P(J,null,[z("h4",null,_(s.label),1),r(j,null,{default:a(()=>[r(Y,{cols:"12"},{default:a(()=>{var H,ee;return[R.value&&i.value&&v.value.sharing?(t(),P("div",xl,[T[16]||(T[16]=z("strong",null,"Your Sharing Group",-1)),!p(h)&&((H=R.value.find(N=>N.IsLeader))==null?void 0:H.UUID)!==i.value.RegistrationUUID?(t(),V(Q,{key:0,color:"red",variant:"text",onClick:S},{default:a(()=>T[10]||(T[10]=[K("(leave group)")])),_:1})):q("",!0),z("dl",ql,[T[12]||(T[12]=z("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 font-weight-bold pa-1 pt-4"}," Leader: ",-1)),z("dd",Pl,[r(Ge,{class:"rounded-circle d-inline-block",src:p(D).GetProfileImageURL(((ee=R.value.find(N=>N.IsLeader))==null?void 0:ee.UserUUID)||""),height:"32",width:"32"},null,8,["src"]),z("div",Bl,_(W(R.value.find(N=>N.IsLeader))),1)]),(t(!0),P(J,null,le(R.value,N=>(t(),P(J,{key:N.UUID},[N.IsLeader?q("",!0):(t(),P(J,{key:0},[T[11]||(T[11]=z("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 pa-1 pt-4"}," Member: ",-1)),z("dd",Hl,[r(Ge,{class:"rounded-circle d-inline-block",src:p(D).GetProfileImageURL(N.UserUUID),height:"32",width:"32"},null,8,["src"]),z("div",Gl,[K(_(W(N))+" ",1),i.value.Leader?(t(),V(Q,{key:0,variant:"text",class:"ml-4",icon:"mdi:mdi-close-circle",color:"red",size:"xs",title:"Remove Member",onClick:e=>d(N.UUID),disabled:p(h)},null,8,["onClick","disabled"])):q("",!0)])])],64))],64))),128))]),r(cl,{modelValue:o.value,"onUpdate:modelValue":T[0]||(T[0]=N=>o.value=N),message:"Invite Link Copied",timeout:2e3},null,8,["modelValue"]),u.value&&i.value.Leader&&!p(h)?(t(),P(J,{key:1},[z("a",{href:u.value,onClick:Ke(f,["prevent"]),class:"text-white text-decoration-none"},[r(Q,{color:"blue",class:"mb-2"},{default:a(()=>T[13]||(T[13]=[K("Get Invite Link")])),_:1})],8,Yl),T[14]||(T[14]=z("br",null,null,-1)),T[15]||(T[15]=z("small",null,"Link will be copied to clipboard for you to paste (ctrl+v) in to message or email",-1))],64)):q("",!0)])):q("",!0)]}),_:1})]),_:1}),i.value&&!i.value.Leader?(t(),V(j,{key:0},{default:a(()=>[r(Y,{cols:"10",md:"5"},{default:a(()=>[T[17]||(T[17]=z("strong",null,"Your Groups Accommodation",-1)),T[18]||(T[18]=z("br",null,null,-1)),T[19]||(T[19]=z("small",null,"(in order of preference, controlled by group leader)",-1)),r(pe,null,{default:a(()=>[(t(!0),P(J,null,le(U.value.map(H=>$.value.find(ee=>ee.AccommodationUUID==H)).filter(H=>H!==void 0),(H,ee)=>(t(),P(J,null,[H?(t(),V(me,{key:H.AccommodationUUID,title:`${ee+1}. ${H.Name}`,class:Ce(X.value.column===1&&X.value.id===H.AccommodationUUID?"bg-blue-accent-3":"border-dashed border")},null,8,["title","class"])):q("",!0)],64))),256))]),_:1})]),_:1})]),_:1})):(t(),V(j,{key:1},{default:a(()=>[r(Y,{cols:"12",md:"5"},{default:a(()=>[T[20]||(T[20]=z("strong",null,"Accommodation Options",-1)),T[21]||(T[21]=z("br",null,null,-1)),r(pe,null,{default:a(()=>[(t(!0),P(J,null,le($.value,H=>(t(),V(me,{key:H.AccommodationUUID,title:H.Name,class:Ce(X.value.column===0&&X.value.id===H.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:ee=>X.value={column:0,id:H.AccommodationUUID},"append-icon":p(h)?"":"mdi:mdi-gesture-tap",onDblclick:T[1]||(T[1]=ee=>re())},null,8,["title","class","onClick","append-icon"]))),128))]),_:1})]),_:1}),p(h)?q("",!0):(t(),V(Y,{key:0,cols:"12",md:"1"},{default:a(()=>[r(j,{class:"d-md-none"},{default:a(()=>[r(Y,{cols:"12",class:"text-center"},{default:a(()=>[r(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:T[2]||(T[2]=H=>re()),color:"primary",title:"Select"}),T[22]||(T[22]=K("   ")),r(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:T[3]||(T[3]=H=>de()),color:"secondary",title:"Remove"})]),_:1})]),_:1}),r(j,{class:"d-none d-md-flex h-100 align-content-center"},{default:a(()=>[r(Y,{cols:"12"},{default:a(()=>[r(Q,{icon:"mdi:mdi-arrow-right",size:"small",onClick:T[4]||(T[4]=H=>re()),color:"primary",title:"Select"})]),_:1}),r(Y,{cols:"12"},{default:a(()=>[r(Q,{icon:"mdi:mdi-arrow-left",size:"small",onClick:T[5]||(T[5]=H=>de()),color:"secondary",title:"Remove"})]),_:1})]),_:1})]),_:1})),r(Y,{cols:"10",md:"5"},{default:a(()=>[T[23]||(T[23]=z("strong",null,"Your Chosen Accommodation",-1)),r(pe,null,{default:a(()=>[(t(!0),P(J,null,le(U.value.map(H=>$.value.find(ee=>ee.AccommodationUUID==H)).filter(H=>H!==void 0),(H,ee)=>(t(),P(J,null,[H?(t(),V(me,{key:H.AccommodationUUID,title:`${ee+1}. ${H.Name}`,class:Ce(X.value.column===1&&X.value.id===H.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:N=>X.value={column:1,id:(H==null?void 0:H.AccommodationUUID)||""},"append-icon":p(h)?"":"mdi:mdi-gesture-tap",onDblclick:T[6]||(T[6]=N=>de())},null,8,["title","class","onClick","append-icon"])):q("",!0)],64))),256))]),_:1}),T[24]||(T[24]=z("small",null,"(in order of preference)",-1))]),_:1}),p(h)?q("",!0):(t(),V(Y,{key:1,cols:"2",md:"1"},{default:a(()=>[r(j,{class:"d-flex h-100 align-content-center mt-3"},{default:a(()=>[r(Y,{cols:"12"},{default:a(()=>[r(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:T[7]||(T[7]=H=>ge()),color:"primary",title:"Higher Priority"})]),_:1}),r(Y,{cols:"12"},{default:a(()=>[r(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:T[8]||(T[8]=H=>Z()),color:"secondary",title:"Lower Priority"})]),_:1})]),_:1})]),_:1}))]),_:1})),(oe=i.value)!=null&&oe.Leader?(t(),V($e,{key:2,modelValue:I.value,"onUpdate:modelValue":T[9]||(T[9]=H=>I.value=H),disabled:p(h)||!1,"persistent-hint":s.persistentHint||!1,"error-messages":s.errorMessages||"",rules:[F.value.required],class:"accommodation-field-warning"},null,8,["modelValue","disabled","persistent-hint","error-messages","rules"])):q("",!0)],64)}}}),Fl=ce({__name:"AgeCheck",props:te({disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(n,{emit:k}){const g=k,w=n,L=qe(w,g,void 0,void 0,"items"),h=he(n,"modelValue"),A=M({required:l=>!w.required||!!l||"Required.",min:l=>{var b,f;const U=new Date,R=U.getFullYear(),i=(U.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2}),v=U.getDate().toLocaleString("en-US",{minimumIntegerDigits:2}),E=((b=L.value.find(G=>G.Title=="MIN_AGE"))==null?void 0:b.Value)||"18",u=((f=L.value.find(G=>G.Title=="BEFORE_DATE"))==null?void 0:f.Value)||`${R}-${i}-${v}`,o=x(u);return B(l,u,parseInt(E))||`You must be at least ${E} years old by ${o.toLocaleDateString(navigator.language,{timeZone:"UTC"})}.`}}),I=()=>(g("blur"),!(A.value.min(h.value||"")!==!0||A.value.required(h.value||"")!==!0)),B=(l,U,R)=>{if(l>=U)return!1;const i=x(l),E=x(U).getTime()-i.getTime(),u=1e3*60*60*24*365.25;return E/u>=R},x=l=>{const[U,R,i]=l.split("-");return new Date(parseInt(U),parseInt(R)-1,parseInt(i))},D=(l=void 0)=>{setTimeout(()=>g("change",l),100)};return(l,U)=>(t(),V(Ie,{modelValue:h.value,"onUpdate:modelValue":U[0]||(U[0]=R=>h.value=R),type:"date",hint:l.hint||"",label:l.label||"",name:l.name||"",variant:"outlined",disabled:l.disabled||!1,"persistent-hint":l.persistentHint||!1,"error-messages":l.errorMessages||"",rules:[A.value.required,A.value.min],onBlur:I,onChange:D},null,8,["modelValue","hint","label","name","disabled","persistent-hint","error-messages","rules"]))}});function Je(n){const k=JSON.parse(n),g={charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0};return k&&(k.charge&&fe.isNumber(k.charge)&&(g.charge=k.charge),k.free&&fe.isNumber(k.free)&&(g.free=k.free),k.height&&fe.isNumber(k.height)&&(g.height=k.height),k.label&&fe.isBoolean(k.label)&&(g.label=k.label),k.maximum&&fe.isNumber(k.maximum)&&(g.maximum=k.maximum),k.tags&&Array.isArray(k.tags)&&(g.tags=k.tags),k.width&&fe.isNumber(k.width)&&(g.width=k.width)),g}const Jl={class:"text-center"},Wl={key:0},Kl={key:0,class:"image-progress my-auto mx-auto"},zl=["onMousemove","onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend"],jl=["src","onLoad","onDragstart","onKeydown","onKeyup"],_l={key:0},Ql={key:1},Zl=ce({__name:"BadgeImage",props:te({disabled:{type:Boolean},hint:{},field:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registration:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(n,{emit:k}){var N;const g=k,w=n,L=he(n,"modelValue"),h=M([]),A=M({charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0}),I=M(1),B=xe(),x=Ze(),D=Ae("badgeImageForm"),l=M(""),U=M([]),R=Ae("imageFileInput"),i=M([]),v=M([]),E=M([]),u=M(0),o=M(),b=M({imageNo:0,imageX:0,imageY:0,mouseDown:!1,mouseX:0,mouseY:0}),f=M(280),G=M(280),F=e=>{if(!i.value||e+1>i.value.length||!i.value[e])return;const y=i.value[e],m=h.value[e];m.left=parseInt(getComputedStyle(y).left),m.top=parseInt(getComputedStyle(y).top),m.height=y.height,m.width=y.width,L.value=JSON.stringify(h.value)},W=Re(()=>({"--preview-width":`${G.value}px`,"--preview-height":`${f.value}px`})),S=M([!1]);try{h.value=JSON.parse(L.value||"[]"),fe.isArray(h.value)||(fe.isObject(h.value)?h.value=[h.value]:h.value=[]),h.value.forEach((e,y)=>{e.fileUUID&&(v.value[y]=x.GetBadgeImageURL(e.fileUUID)),e.values||(w.field&&w.field.Values?e.values=w.field.Values.map(m=>({key:m.Value,value:""})):e.values=[]),w.field&&w.field.Values&&w.field.Values.forEach(m=>{e.values.find(c=>{if(c.key==m.Value)return!0})||e.values.push({key:m.Value,value:""})})}),I.value=h.value.length,w.field&&"Data"in w.field&&(A.value=Je(((N=w.field)==null?void 0:N.Data)||"")),I.value===0&&A.value.maximum===1&&(I.value=1)}catch{}w.registration&&B.getConBadgeDisplayName(w.registration.RegistrationUUID).then(e=>{e&&(l.value=e)}).catch(()=>{});const d=(e,y)=>{i.value[e]=y},$=e=>{var y;try{e.field&&"Data"in e.field&&(A.value=Je(((y=e.field)==null?void 0:y.Data)||"")),A.value.height&&(f.value=A.value.height),A.value.width&&(G.value=A.value.width)}catch{}C()},C=()=>{if(I.value>h.value.length)for(let e=0;e<I.value-h.value.length;e+=1){let y=[];w.field&&w.field.Values&&(y=w.field.Values.map(m=>({key:m.Value,value:""}))),h.value.push({fileUUID:"",height:0,label:"",left:0,top:0,values:y,width:0})}else I.value<h.value.length&&I.value>=0&&(h.value=h.value.slice(0,I.value));if(I.value>U.value.length){const e=U.value.length;for(let y=0;y<I.value-e;y+=1)U.value.push(!0)}else I.value<U.value.length&&I.value>=0&&(U.value=U.value.slice(0,I.value));if(I.value>v.value.length){const e=v.value.length;for(let y=0;y<I.value-e;y+=1)v.value.push("")}else I.value<v.value.length&&I.value>=0&&(v.value=v.value.slice(0,I.value));if(I.value>E.value.length){const e=E.value.length;for(let y=0;y<I.value-e;y+=1)E.value.push(!1)}else I.value<E.value.length&&I.value>=0&&(E.value=E.value.slice(0,I.value));if(I.value>S.value.length){const e=S.value.length;for(let y=0;y<I.value-e;y+=1)S.value.push(!1)}else I.value<S.value.length&&I.value>=0&&(S.value=S.value.slice(0,I.value));L.value=JSON.stringify(h.value)};ne(w,e=>{$(e)}),$(w),ne(I,()=>{C()});const O=M({required:e=>!w.required||!!e||"Required.",saved:e=>!U.value[e]||"File not uploaded."}),X=()=>(g("blur"),O.value.required(L.value||"")!==!0),re=(e,y=void 0)=>{h.value[e].top=0,h.value[e].left=0,h.value[e].width=0,h.value[e].height=0,ge(e).then(()=>{setTimeout(()=>{de(e)},100),setTimeout(()=>g("change",y),200)}).catch(()=>{})},de=e=>{if(!R.value)return;const m=R.value[e].$el.getElementsByTagName("input")[0];m&&m.files.length>0&&(v.value[e]=URL.createObjectURL(m.files[0]))},ge=async e=>{if(!D.value||!D.value[e])return;const y=new FormData(D.value[e].$el);U.value[e]=!1,E.value[e]=!0;const m=await x.SaveFormFile(y);m.Saved&&(E.value[e]=!1,U.value[e]=!0,h.value[e].fileUUID=m.FileUUID,S.value[e]=!0)},Z=(e,y)=>{const m=y.target;m.style.left="0px",m.style.top="0px",m.width>m.height?m.width=G.value*(m.width/m.height):m.width=G.value,m.classList.remove("d-none"),e>=0&&e<I.value&&F(e)},s=(e,y,m=0,ie=void 0)=>{if(ie&&ie.type)switch(ie.type){case"touchstart":case"touchend":ie.preventDefault();break}let c=500;if(!u.value)u.value=Date.now();else{const ve=Date.now()-u.value;ve>=3e3?c=1:ve>=2500?c=2:ve>=2e3?c=5:ve>=1500?c=12:ve>=1e3?c=25:ve>=500?c=50:ve>=250&&(c=100)}if(m!==c&&(clearInterval(o.value),o.value=setInterval(()=>{s(e,y,c)},c)),!i.value)return;const ue=i.value[e];switch(y){case 0:u.value=0,clearInterval(o.value),F(e);break;case 6:i.value&&i.value[e]&&(ue.width-=1);break;case 5:i.value&&i.value[e]&&(ue.width+=1);break;case 1:i.value&&i.value[e]&&(ue.style.top=`${(parseInt(getComputedStyle(ue).top)||0)-1}px`);break;case 2:i.value&&i.value[e]&&(ue.style.left=`${(parseInt(getComputedStyle(ue).left)||0)+1}px`);break;case 3:i.value&&i.value[e]&&(ue.style.top=`${(parseInt(getComputedStyle(ue).top)||0)+1}px`);break;case 4:i.value&&i.value[e]&&(ue.style.left=`${(parseInt(getComputedStyle(ue).left)||0)-1}px`);break}oe(e)},T=(e,y)=>{e===-1&&(e=b.value.imageNo);const m=i.value[e];switch(y.type){case"touchstart":y.preventDefault(),i.value&&i.value[e]&&(b.value.imageX=parseInt(getComputedStyle(i.value[e]).left)),i.value&&i.value[e]&&(b.value.imageY=parseInt(getComputedStyle(i.value[e]).top)),b.value.mouseX=y.touches[0].clientX,b.value.mouseY=y.touches[0].clientY,b.value.mouseDown=!0;break;case"mousedown":b.value.imageNo=e,i.value&&i.value[e]&&(b.value.imageX=parseInt(getComputedStyle(i.value[e]).left)),i.value&&i.value[e]&&(b.value.imageY=parseInt(getComputedStyle(i.value[e]).top)),b.value.mouseX=y.clientX,b.value.mouseY=y.clientY,b.value.mouseDown=!0;break;case"touchend":y.preventDefault();case"mouseup":b.value.mouseDown=!1,F(e);break;case"touchmove":if(!b.value.mouseDown)return;i.value&&i.value[e]&&(m.style.left=`${b.value.imageX+(y.touches[0].clientX-b.value.mouseX)}px`),i.value&&i.value[e]&&(m.style.top=`${b.value.imageY+(y.touches[0].clientY-b.value.mouseY)}px`);break;case"mousemove":if(!b.value.mouseDown)return;i.value&&i.value[e]&&(m.style.left=`${b.value.imageX+(y.clientX-b.value.mouseX)}px`),i.value&&i.value[e]&&(m.style.top=`${b.value.imageY+(y.clientY-b.value.mouseY)}px`);break;case"dragstart":y.preventDefault();break;case"keydown":switch(y.key){case"ArrowUp":y.preventDefault(),s(e,1);break;case"ArrowRight":y.preventDefault(),s(e,2);break;case"ArrowDown":y.preventDefault(),s(e,3);break;case"ArrowLeft":y.preventDefault(),s(e,4);break;case"+":y.preventDefault(),s(e,5);break;case"-":y.preventDefault(),s(e,6);break}break;case"keyup":s(e,0),F(e);break}oe(e)},oe=e=>{if(i.value&&i.value[e]){if(e+1>i.value.length)return;const y=i.value[e];if(y.width<G.value&&(y.width=G.value),y.height<f.value){const m=f.value-y.height,ie=y.width/y.height;y.width+=Math.ceil(m*ie)}(parseInt(getComputedStyle(i.value[e]).left)||0)>0&&(y.style.left="0px"),(parseInt(getComputedStyle(i.value[e]).top)||0)>0&&(y.style.top="0px"),(parseInt(getComputedStyle(i.value[e]).left)||0)<0-(y.width-G.value)&&(y.style.left=`${0-(y.width-G.value)}px`),(parseInt(getComputedStyle(i.value[e]).top)||0)<0-(y.height-f.value)&&(y.style.top=`${0-(y.height-f.value)}px`)}},H=e=>{try{clearInterval(o.value)}catch{}b.value.mouseDown=!1,u.value=0,F(b.value.imageNo)},ee=e=>{T(-1,e)};return window.addEventListener("mouseup",H),window.addEventListener("mousemove",ee),window.addEventListener("touchend",H),window.addEventListener("touchmove",ee),ll(()=>{window.removeEventListener("mouseup",H),window.removeEventListener("mousemove",ee),window.removeEventListener("touchend",H),window.removeEventListener("touchmove",ee)}),(e,y)=>(t(),P("div",null,[(t(!0),P(J,null,le(I.value,m=>(t(),P("div",{style:tl(W.value),key:m},[r(Ne,{ref_for:!0,ref:"badgeImageForm",enctype:"multipart/form-data"},{default:a(()=>{var ie;return[r(j,null,{default:a(()=>[r(Y,null,{default:a(()=>[r(hl,{label:e.label||"",hint:e.hint||"",name:e.name?"name":"badgeFile",variant:"outlined",ref_for:!0,ref:"imageFileInput",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",rules:[O.value.required],"error-messages":e.errorMessages||"","persistent-hint":e.persistentHint||!1,disabled:!U.value[m-1]||e.disabled||!1,"hide-details":"",onChange:c=>re(m-1,c),onBlur:X},null,8,["label","hint","name","rules","error-messages","persistent-hint","disabled","onChange"]),z("p",Jl,[U.value[m-1]?q("",!0):(t(),P("small",Wl,"File Uploading"))])]),_:2},1024)]),_:2},1024),A.value.label?(t(),V(j,{key:0},{default:a(()=>[r(Y,null,{default:a(()=>[r(Ie,{label:"Display Name",variant:"outlined","prepend-icon":"mdi:mdi-label-outline","hide-details":"",modelValue:h.value[m-1].label,"onUpdate:modelValue":c=>h.value[m-1].label=c,onInput:c=>F(m-1),onChange:c=>F(m-1)},null,8,["modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024)]),_:2},1024)):q("",!0),(ie=e.field)!=null&&ie.Multiple&&e.field.Values.length>0?(t(),V(j,{key:1},{default:a(()=>[(t(!0),P(J,null,le(e.field.Values,(c,ue)=>(t(),V(Y,{cols:"12",sm:"6",md:"6",lg:"4",xl:"3",xxl:"2",key:c.FieldValueUUID},{default:a(()=>[r(Ie,{label:c.Title,variant:"outlined","prepend-icon":"mdi:mdi-label-outline","hide-details":"",modelValue:h.value[m-1].values[ue].value,"onUpdate:modelValue":ve=>h.value[m-1].values[ue].value=ve,onInput:ve=>F(m-1),onChange:ve=>F(m-1)},null,8,["label","modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024))),128))]),_:2},1024)):q("",!0),r(j,{class:"justify-center scale-down"},{default:a(()=>[r(Y,{cols:"12",class:"text-center"},{default:a(()=>[y[3]||(y[3]=K(" Preview ")),E.value[m-1]?(t(),P("div",Kl,[r(dl,{indeterminate:"",color:"primary",size:128,width:10},{default:a(()=>y[2]||(y[2]=[K("Uploading")])),_:1})])):(t(),P(J,{key:1},[z("div",{class:"image-preview my-auto mx-auto",onMousemove:c=>T(m-1,c),onMousedown:c=>T(m-1,c),onMouseup:c=>T(m-1,c),onTouchstart:c=>T(m-1,c),onTouchmove:c=>T(m-1,c),onTouchend:c=>T(m-1,c)},[z("img",{src:v.value[m-1],ref_for:!0,ref:c=>d(m-1,c),alt:"Your badge image",onLoad:c=>Z(m-1,c),onDragstart:c=>T(m-1,c),onKeydown:c=>T(m-1,c),onKeyup:c=>T(m-1,c),tabindex:"0",class:"d-none"},null,40,jl)],40,zl),A.value.label?(t(),P("h3",_l,_(h.value[m-1].label),1)):(t(),P("h3",Ql,_(l.value),1))],64))]),_:2},1024)]),_:2},1024),S.value[m-1]?(t(),V(j,{key:2,class:"justify-center"},{default:a(()=>[r(Y,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:a(()=>[r(Q,{icon:"mdi:mdi-arrow-left",color:"primary",onMousedown:c=>s(m-1,4,0,c),onMouseup:c=>s(m-1,0,0,c),onTouchstart:c=>s(m-1,4,0,c),onTouchend:c=>s(m-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),r(Q,{icon:"mdi:mdi-arrow-up",color:"secondary",onMousedown:c=>s(m-1,1,0,c),onMouseup:c=>s(m-1,0,0,c),onTouchstart:c=>s(m-1,1,0,c),onTouchend:c=>s(m-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),r(Q,{icon:"mdi:mdi-arrow-down",color:"secondary",onMousedown:c=>s(m-1,3,0,c),onMouseup:c=>s(m-1,0,0,c),onTouchstart:c=>s(m-1,3,0,c),onTouchend:c=>s(m-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),r(Q,{icon:"mdi:mdi-arrow-right",color:"primary",onMousedown:c=>s(m-1,2,0,c),onMouseup:c=>s(m-1,0,0,c),onTouchstart:c=>s(m-1,2,0,c),onTouchend:c=>s(m-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):q("",!0),S.value[m-1]?(t(),V(j,{key:3,class:"justify-center"},{default:a(()=>[r(Y,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:a(()=>[r(Q,{icon:"mdi:mdi-plus",color:"primary",onMousedown:c=>s(m-1,5,0,c),onMouseup:c=>s(m-1,0,0,c),onTouchstart:c=>s(m-1,5,0,c),onTouchend:c=>s(m-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),r(Q,{icon:"mdi:mdi-minus",color:"secondary",onMousedown:c=>s(m-1,6,0,c),onMouseup:c=>s(m-1,0,0,c),onTouchstart:c=>s(m-1,6,0,c),onTouchend:c=>s(m-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):q("",!0)]}),_:2},1024)],4))),128)),A.value.maximum===0||A.value.maximum>1?(t(),V(j,{key:0},{default:a(()=>[r(Y,{class:"text-right"},{default:a(()=>[r(Ye,{text:"Add Badge",location:"top"},{activator:a(({props:m})=>[r(Q,ye({color:"success",icon:"mdi:mdi-plus",size:"xs",variant:"flat",disabled:e.disabled||I.value>=A.value.maximum&&A.value.maximum>0||!1},m,{onClick:y[0]||(y[0]=ie=>I.value<A.value.maximum||A.value.maximum===0?I.value+=1:null)}),null,16,["disabled"])]),_:1})]),_:1}),r(Y,null,{default:a(()=>[r(Ye,{text:"Remove Badge",location:"top"},{activator:a(({props:m})=>[r(Q,ye({color:"error",icon:"mdi:mdi-minus",size:"xs",variant:"flat",disabled:e.disabled||I.value==0||!1},m,{onClick:y[1]||(y[1]=ie=>I.value>=1?I.value-=1:null)}),null,16,["disabled"])]),_:1})]),_:1})]),_:1})):q("",!0)]))}}),Nl=gl(Zl,[["__scopeId","data-v-21b43760"]]),et=ze({...yl({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),lt=je()({name:"VRadio",props:et(),setup(n,k){let{slots:g}=k;return Qe(()=>{const w=Oe.filterProps(n);return r(Oe,ye(w,{class:["v-radio",n.class],style:n.style,type:"radio"}),g)}),{}}}),tt=ze({height:{type:[Number,String],default:"auto"},...fl(),...al(Ul(),["multiple"]),trueIcon:{type:Pe,default:"$radioOn"},falseIcon:{type:Pe,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),at=je()({name:"VRadioGroup",inheritAttrs:!1,props:tt(),emits:{"update:modelValue":n=>!0},setup(n,k){let{attrs:g,slots:w}=k;const L=nl(),h=Re(()=>n.id||`radio-group-${L}`),A=ul(n,"modelValue");return Qe(()=>{const[I,B]=sl(g),x=$e.filterProps(n),D=Oe.filterProps(n),l=w.label?w.label({label:n.label,props:{for:h.value}}):n.label;return r($e,ye({class:["v-radio-group",n.class],style:n.style},I,x,{modelValue:A.value,"onUpdate:modelValue":U=>A.value=U,id:h.value}),{...w,default:U=>{let{id:R,messagesId:i,isDisabled:v,isReadonly:E}=U;return r(J,null,[l&&r(pl,{id:R.value},{default:()=>[l]}),r(Il,ye(D,{id:R.value,"aria-describedby":i.value,defaultsTarget:"VRadio",trueIcon:n.trueIcon,falseIcon:n.falseIcon,type:n.type,disabled:v.value,readonly:E.value,"aria-labelledby":l?R.value:void 0,multiple:!1},B,{modelValue:A.value,"onUpdate:modelValue":u=>A.value=u}),w)])}})}),{}}}),We=ce({__name:"FormField",props:te({admin:{type:Boolean},convention:{},name:{},field:{},disabled:{type:Boolean},maxLength:{},minLength:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","input","update:field"],["update:modelValue"]),setup(n,{emit:k}){const g=n,{admin:w=!1,disabled:L=!1,persistentHint:h=!1,required:A=!1}=g,I=M(""),B=he(n,"modelValue"),x=k,D=qe(g,x,void 0,void 0,"field"),l=M(Ue(D.value)),U=M({maxlength:u=>!g.maxLength||u.length<=g.maxLength||`Maximum length is ${g.maxLength} characters. (Current length: ${u.length})`,minlength:u=>!g.minLength||u.length>=g.minLength||`Minimum length is ${g.minLength} characters. (Current length: ${u.length})`,required:u=>!g.required||!!u.replace(/\s/g,"")||"Required field."}),R=M(!1),i=M([]),v=M("");try{const u=JSON.parse(B.value);Array.isArray(u)?i.value=u:i.value=[],typeof u=="boolean"?R.value=u:R.value=!1,v.value=B.value}catch{R.value=!1,i.value=[],v.value=B.value}ne(R,()=>{B.value=JSON.stringify(R.value),x("input"),x("change")}),ne(i,()=>{B.value=JSON.stringify(i.value),x("input"),x("change")},{deep:!0}),ne(v,()=>{B.value=v.value,x("input"),x("change")}),ne(D.value,()=>{l.value.Type!==D.value.Type?(l.value=Ue(D.value),R.value=!1,i.value=[],v.value=""):l.value=Ue(D.value)});const E=(u=void 0)=>{x("change",u)};return(u,o)=>{var b;return l.value.Type===p(ae).TEXT?(t(),V(Ie,{key:0,modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=f=>v.value=f),name:u.name||"",hint:l.value.Hint,label:`${l.value.Label}${p(A)?"*":""}`,placeholder:l.value.Placeholder,variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":I.value,rules:[U.value.maxlength,U.value.minlength,U.value.required],onChange:E,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).DATE?(t(),V(Ie,{key:1,modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=f=>v.value=f),type:"date",name:u.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":I.value,rules:[U.value.maxlength,U.value.minlength,U.value.required],onChange:E,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).NUMBER?(t(),V(Ie,{key:2,modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=f=>v.value=f),type:"number",name:u.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":I.value,rules:[U.value.maxlength,U.value.minlength,U.value.required],onChange:E,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).TEXTAREA?(t(),V(bl,{key:3,modelValue:v.value,"onUpdate:modelValue":o[3]||(o[3]=f=>v.value=f),name:u.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":I.value,rules:[U.value.maxlength,U.value.minlength,U.value.required],onChange:E,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).CHECKBOX?(t(),P(J,{key:4},[l.value.Multiple?(t(!0),P(J,{key:0},le(l.value.Values,f=>(t(),V(be,{key:f.ID,modelValue:i.value,"onUpdate:modelValue":o[4]||(o[4]=G=>i.value=G),name:u.name||"",hint:l.value.Hint,label:f.Title,value:f.Value,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":I.value,rules:[U.value.required],onChange:E},null,8,["modelValue","name","hint","label","value","disabled","persistent-hint","error-messages","rules"]))),128)):(t(),V(be,{key:1,modelValue:R.value,"onUpdate:modelValue":o[5]||(o[5]=f=>R.value=f),name:u.name||"",hint:l.value.Hint,label:l.value.Label,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":I.value,required:p(A),rules:[f=>!p(A)||!!f||"You must tick to continue!"],onChange:E},null,8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","required","rules"]))],64)):l.value.Type===p(ae).SELECT?(t(),P(J,{key:5},[!l.value.Autofill&&l.value.Multiple?(t(),V(Me,{key:0,modelValue:i.value,"onUpdate:modelValue":o[6]||(o[6]=f=>i.value=f),name:u.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":I.value,rules:[U.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill&&l.value.Multiple?(t(),V(Xe,{key:1,modelValue:i.value,"onUpdate:modelValue":o[7]||(o[7]=f=>i.value=f),name:u.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":I.value,rules:[U.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill?l.value.Autofill?(t(),V(Xe,{key:3,modelValue:v.value,"onUpdate:modelValue":o[9]||(o[9]=f=>v.value=f),name:u.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":I.value,rules:[U.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):q("",!0):(t(),V(Me,{key:2,modelValue:v.value,"onUpdate:modelValue":o[8]||(o[8]=f=>v.value=f),name:u.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":I.value,rules:[U.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"]))],64)):l.value.Type===p(ae).RADIO?(t(),V(at,{key:6,modelValue:v.value,"onUpdate:modelValue":o[10]||(o[10]=f=>v.value=f),name:u.name||"",hint:l.value.Hint,label:l.value.Label,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":I.value,rules:[U.value.required],onChange:E},{default:a(()=>[(t(!0),P(J,null,le(l.value.Values,f=>(t(),V(lt,{key:f.Value,label:f.Title,value:f.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).ACCOMMODATION?(t(),V(Xl,{key:7,modelValue:i.value,"onUpdate:modelValue":o[11]||(o[11]=f=>i.value=f),name:u.name,admin:p(w),convention:u.convention,"registration-group":u.registrationGroup,data:u.field.Data,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":I.value,required:p(A),onChange:E},null,8,["modelValue","name","admin","convention","registration-group","data","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===p(ae).AGE?(t(),V(Fl,{key:8,modelValue:v.value,"onUpdate:modelValue":o[12]||(o[12]=f=>v.value=f),name:u.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":I.value,onChange:E},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===p(ae).BADGE_IMAGE?(t(),V(Nl,{key:9,modelValue:v.value,"onUpdate:modelValue":o[13]||(o[13]=f=>v.value=f),name:u.name,field:l.value,registration:(b=u.registrationGroup)==null?void 0:b.Registration,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":I.value,onChange:E},null,8,["modelValue","name","field","registration","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===p(ae).EXTRAS?(t(),V(wl,{key:10,modelValue:v.value,"onUpdate:modelValue":o[14]||(o[14]=f=>v.value=f),admin:p(w),convention:u.convention,name:u.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":I.value,required:p(A),onChange:E},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===p(ae).INTERESTS?(t(),V($l,{key:11,modelValue:v.value,"onUpdate:modelValue":o[15]||(o[15]=f=>v.value=f),admin:p(w),convention:u.convention,name:u.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":I.value,required:p(A),onChange:E},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===p(ae).TICKET?(t(),V(Rl,{key:12,modelValue:v.value,"onUpdate:modelValue":o[16]||(o[16]=f=>v.value=f),admin:p(w),convention:u.convention,name:u.name,"registration-group":u.registrationGroup,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":I.value,required:p(A),onChange:E},null,8,["modelValue","admin","convention","name","registration-group","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===p(ae).HTML?(t(),V(Al,{key:13,data:u.field.Data},null,8,["data"])):q("",!0)}}}),nt={key:0,class:"my-2 text-white text-center"},ut={key:1,class:"admin-header my-2 text-white text-center"},st=["innerHTML"],ot=["innerHTML"],Pt=ce({__name:"FormRenderer",props:te({admin:{type:Boolean},convention:{},data:{},editable:{type:Boolean},preview:{type:Boolean},registrationGroup:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["close"],["update:modelValue"]),setup(n,{emit:k}){const g=k,w=he(n,"modelValue");Ve(w.value.Sections),w.value.Sections.forEach(S=>{S.Fields&&Ve(S.Fields)});const L=Ae("formValidator"),h=Dl(),A=xe(),I=M(!1),B=M(!1),x=M(!1),D=M(!1),l=M(!1),U=M(!1),R=M(!1),i=M(!1),v=M(!1),E=M(!1),u=M(!1),o=M((()=>{if(n.data!==void 0){const d=Ue(n.data);return w.value.Sections.forEach($=>{$.Fields&&$.Fields.forEach(C=>{const O=n.data.Data.find(X=>X.SectionFieldUUID===C.SectionFieldUUID&&X.SectionFieldUUID==C.SectionFieldUUID);if(O)C.Value=O.Data;else{const X={ID:0,SubmissionDataUUID:we(),SubmissionID:n.data.ID,SubmissionUUID:n.data.SubmissionUUID,SectionID:$.ID,SectionUUID:$.SectionUUID,SectionFieldID:C.ID,SectionFieldUUID:C.SectionFieldUUID,Data:C.Value,CreatedAt:"",DeletedAt:"",UpdatedAt:""};d.Data.push(X),C.Value=""}})}),d}const S={ID:0,SubmissionUUID:we(),FormID:w.value.ID,FormUUID:w.value.FormUUID,UserID:(h==null?void 0:h.ID)||0,UserUUID:(h==null?void 0:h.UserUUID)||"",Data:[],Status:il.SUBMISSION_STATUS_OPEN};return S.Data=w.value.Sections.map(d=>d.Fields?d.Fields.map($=>({ID:0,SubmissionDataUUID:we(),SubmissionID:S.ID,SubmissionUUID:S.SubmissionUUID,SectionID:d.ID,SectionUUID:d.SectionUUID,SectionFieldID:$.ID,SectionFieldUUID:$.SectionFieldUUID,Data:""})):[]).flat(),S})()),b=(S,d,$)=>{const C=o.value.Data.find(O=>O.SectionUUID===S&&O.SectionFieldUUID===d);C&&(C.Data=$)},f=(S,d,$,C,O)=>S!=null&&S.State.Independent?"/":S&&S.Type===se.FORM_TYPE_REGISTRATION?d&&!d.State.Independent&&(d.State.New||d.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/accommodation`:$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/dealer`:C&&!C.State.Independent&&(C.State.New||C.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/badge`:O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":S&&S.Type===se.FORM_TYPE_ACCOMMODATION?$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/dealer`:C&&!C.State.Independent&&(C.State.New||C.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/badge`:O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":S&&S.Type===se.FORM_TYPE_DEALER?C&&!C.State.Independent&&(C.State.New||C.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/badge`:O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":S&&S.Type===se.FORM_TYPE_BADGE?O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":(S&&S.Type===se.FORM_TYPE_ADDITIONAL,"/"),G=({callback:S})=>{A.getRegistrationByConvention(n.convention.ConventionUUID).then(d=>{S&&S("Loading"),A.getAvailableConventionForms(n.convention.ConventionUUID).then($=>{d.Submissions.forEach((Z,s)=>{Z.Form||(d.Submissions[s].Form=$.find(T=>T.FormUUID===Z.FormUUID))});const C=d.Submissions.find(Z=>Z.FormUUID===o.value.FormUUID),O=d.Submissions.find(Z=>{var s;return((s=Z.Form)==null?void 0:s.Type)===se.FORM_TYPE_ACCOMMODATION}),X=d.Submissions.find(Z=>{var s;return((s=Z.Form)==null?void 0:s.Type)===se.FORM_TYPE_ADDITIONAL}),re=d.Submissions.find(Z=>{var s;return((s=Z.Form)==null?void 0:s.Type)===se.FORM_TYPE_DEALER}),de=d.Submissions.find(Z=>{var s;return((s=Z.Form)==null?void 0:s.Type)===se.FORM_TYPE_BADGE}),ge=f(C==null?void 0:C.Form,O==null?void 0:O.Form,re==null?void 0:re.Form,de==null?void 0:de.Form,X==null?void 0:X.Form);Be.push(ge)})})},F=({callback:S})=>{var d;(d=L.value)==null||d.validate().then($=>{$.valid?A.saveSubmission(o.value).then(C=>{C?setTimeout(()=>{W(C,S,1)},1e3):S&&S("Failed to process request")}).catch(()=>{S&&S("Failed to process request")}):S&&S("Errors in form detected, please review and try again.")})},W=(S,d,$=1)=>{A.checkSubmission(S).then(C=>{if(C)if(C.Ready&&C.Submission){if(I.value=!1,o.value=C.Submission,d&&d("Saved"),n.admin)g("close");else if(C.Forms&&C.Forms.length>0){const O=C.Forms.find(s=>s.FormUUID===o.value.FormUUID),X=C.Forms.find(s=>s.Type===se.FORM_TYPE_ACCOMMODATION),re=C.Forms.find(s=>s.Type===se.FORM_TYPE_DEALER),de=C.Forms.find(s=>s.Type===se.FORM_TYPE_BADGE),ge=C.Forms.find(s=>s.Type===se.FORM_TYPE_ADDITIONAL),Z=f(O,X,re,de,ge);Be.push(Z)}}else{if($>5&&(I.value=!0),$>10&&(B.value=!0),$>20&&(x.value=!0),$>30&&(D.value=!0),$>40&&(l.value=!0),$>50&&(U.value=!0),$>60&&(R.value=!0),$>70&&(i.value=!0),$>80&&(v.value=!0),$>90&&(E.value=!0),$>100&&(u.value=!0),$>200){d&&(I.value=!1,B.value=!1,x.value=!1,D.value=!1,l.value=!1,U.value=!1,R.value=!1,i.value=!1,v.value=!1,E.value=!1,u.value=!1,d("A problem was encountered during saving, please check form and try again."));return}setTimeout(()=>{W(S,d,$+1)},$<20?1e3*$:2e4)}else d&&(I.value=!1,B.value=!1,x.value=!1,D.value=!1,l.value=!1,U.value=!1,R.value=!1,i.value=!1,v.value=!1,E.value=!1,u.value=!1,d("A problem was encountered during saving, please check form and try again."))}).catch(()=>{d&&(I.value=!1,B.value=!1,x.value=!1,D.value=!1,l.value=!1,U.value=!1,R.value=!1,i.value=!1,v.value=!1,E.value=!1,u.value=!1,d("A problem was encountered during saving, please check form and try again."))})};return(S,d)=>{const $=ol("router-link");return t(),V(vl,null,{default:a(()=>[r(Ne,{ref:"formValidator",autocomplete:"off",onSubmit:d[1]||(d[1]=Ke(()=>{},["prevent"]))},{default:a(()=>[w.value.Heading?(t(),P("h1",nt,_(w.value.Heading),1)):q("",!0),S.admin?(t(),P("h2",ut," (Admin Mode) ")):q("",!0),w.value.Description?(t(),P("div",{key:2,class:"my-2 form-description-container pa-5 border rounded-lg text-black",innerHTML:w.value.Description},null,8,st)):q("",!0),(t(!0),P(J,null,le(w.value.Sections,C=>(t(),V(Tl,{key:`section_${w.value.ID}.${C.ID}`,class:"my-4 section-container rounded-lg",elevation:"4"},{default:a(()=>[C.Heading?(t(),V(Vl,{key:0},{default:a(()=>[K(_(C.Heading),1)]),_:2},1024)):q("",!0),C.Description?(t(),V(kl,{key:1,class:"text-wrap"},{default:a(()=>[z("div",{innerHTML:C.Description},null,8,ot)]),_:2},1024)):q("",!0),C.Fields?(t(),V(Cl,{key:2},{default:a(()=>[(t(!0),P(J,null,le(C.Fields,O=>(t(),P(J,{key:`field_${w.value.ID}.${C.ID}.${O.ID}`},[O.Field?(t(),V(j,{key:0},{default:a(()=>[r(Y,null,{default:a(()=>[S.editable?(t(),V(We,{key:0,name:O.SectionFieldUUID,field:O.Field,modelValue:O.Value,"onUpdate:modelValue":X=>O.Value=X,admin:S.admin,convention:S.convention,"registration-group":S.registrationGroup,required:O.Required,"min-length":O.MinLength,"max-length":O.MaxLength,"persistent-hint":!0,onChange:X=>b(C.SectionUUID,O.SectionFieldUUID,O.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"])):(t(),V(We,{key:1,name:O.SectionFieldUUID,field:O.Field,modelValue:O.Value,"onUpdate:modelValue":X=>O.Value=X,admin:S.admin,convention:S.convention,"registration-group":S.registrationGroup,required:O.Required,"min-length":O.MinLength,"max-length":O.MaxLength,"persistent-hint":!0,disabled:"",onChange:X=>b(C.SectionUUID,O.SectionFieldUUID,O.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"]))]),_:2},1024)]),_:2},1024)):q("",!0)],64))),128))]),_:2},1024)):q("",!0)]),_:2},1024))),128)),S.preview?q("",!0):(t(),P(J,{key:3},[r(j,null,{default:a(()=>[S.admin?(t(),V(Y,{key:1,class:"text-right"},{default:a(()=>[r(Q,{color:"red",onClick:d[0]||(d[0]=C=>g("close"))},{default:a(()=>d[3]||(d[3]=[K("Cancel")])),_:1})]),_:1})):(t(),V(Y,{key:0,class:"text-right"},{default:a(()=>[r($,{to:{name:"Home"},class:"text-decoration-none text-white"},{default:a(()=>[r(Q,{color:"red"},{default:a(()=>d[2]||(d[2]=[K("Close")])),_:1})]),_:1})]),_:1})),S.admin||S.editable?(t(),V(Y,{key:2,class:"text-left"},{default:a(()=>[r(He,{onClick:F,type:"submit"})]),_:1})):(t(),V(Y,{key:3,class:"text-left"},{default:a(()=>[r(He,{onClick:G,type:"submit",label:"Next",color:"green"})]),_:1}))]),_:1}),I.value?(t(),V(j,{key:0},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[4]||(d[4]=[K(" Your request is currently queued for processing. We have received your data, you do not need to resubmit it or refresh. The next page will load once the system has processed your details. Please be patient as this may take a while. ")])),_:1})]),_:1})):q("",!0),B.value?(t(),V(j,{key:1},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[5]||(d[5]=[K(" Honestly! It really is being handled by our systems, the web browser window will continue, to monitor progress whilst it remains open. ")])),_:1})]),_:1})):q("",!0),x.value?(t(),V(j,{key:2},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[6]||(d[6]=[K(" There seems to be a bit of Jam, don't worry because we have a fine selection of Jams at breakfast. Keep holding on in there, we'll get you on your way soon. ")])),_:1})]),_:1})):q("",!0),D.value?(t(),V(j,{key:3},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[7]||(d[7]=[K(" Reticulating splines ")])),_:1})]),_:1})):q("",!0),l.value?(t(),V(j,{key:4},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[8]||(d[8]=[K(" Downloading more RAM to process your registration. ")])),_:1})]),_:1})):q("",!0),U.value?(t(),V(j,{key:5},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[9]||(d[9]=[K(" Ever seen a loading screen with a jump scare? ")])),_:1})]),_:1})):q("",!0),R.value?(t(),V(j,{key:6},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[10]||(d[10]=[K(" We are not liable for any broken screens as a result of waiting. ")])),_:1})]),_:1})):q("",!0),i.value?(t(),V(j,{key:7},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[11]||(d[11]=[K(" At this point we're blaming your Wi-Fi. ")])),_:1})]),_:1})):q("",!0),v.value?(t(),V(j,{key:8},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[12]||(d[12]=[K(" Hold tight! The hamsters powering this are on a break. ")])),_:1})]),_:1})):q("",!0),E.value?(t(),V(j,{key:9},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[13]||(d[13]=[K(" Preparing an elaborate excuse for the delay. ")])),_:1})]),_:1})):q("",!0),u.value?(t(),V(j,{key:10},{default:a(()=>[r(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>d[14]||(d[14]=[K(" We've run out of silly things to say, but if the save button is still spinning then the registration request is still queued for processing. ")])),_:1})]),_:1})):q("",!0)],64))]),_:1})]),_:1})}}});export{Lt as F,We as _,xt as a,ae as b,Pt as c,qt as d,Rt as m,Je as p,Ve as s};
