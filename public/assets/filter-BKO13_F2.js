import{g as De,V as he}from"./VTextField-Bo9qGKyQ.js";import{p as N,a8 as Se,d as le,u as ie,I as Me,aJ as Re,c as E,r as K,ad as Le,s as O,a6 as Oe,aT as Be,b as Ke,ah as _e,U as de,aI as ge,w as H,aH as X,m as B,f as p,aU as He,aV as ue,F as Q,ai as Ue,h as ce,am as Pe,a as re,aW as Ne,av as ze,t as je,e as $e,o as qe,J as te,ap as We,aa as Je,aP as Qe,x as Xe,aA as fe,aR as ye,aS as pe,C as J,aE as Ye}from"./index-Cfjh1arS.js";import{u as Ge}from"./form-DCb_K9u2.js";import{f as Ie,m as Ze,a as et}from"./forwardRefs-Ova6Q0r0.js";import{m as tt,e as lt,V as nt,a as we}from"./VList-CQSLmvHM.js";import{a as at,V as xe,c as Ve,b as be,g as ot}from"./VOverlay-CvqTvm0h.js";import{u as ut}from"./scopeId-C0Ey8hzl.js";import{u as ne,A as Te,a as Ce,o as Ae,b as rt,c as st,d as ke}from"./VContainer-BsHTJ5LH.js";import{V as it}from"./VCheckboxBtn-DUWzbAw4.js";import{a as ct}from"./VChip-DRtqQ_fV.js";const ft=N({id:String,submenu:Boolean,...Se(at({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:xe}}),["absolute"])},"VMenu"),dt=le()({name:"VMenu",props:ft(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:l}=d;const o=ie(e,"modelValue"),{scopeId:i}=ut(),{isRtl:v}=Me(),h=Re(),r=E(()=>e.id||`v-menu-${h}`),n=K(),s=Le(Ve,null),b=O(new Set);Oe(Ve,{register(){b.value.add(h)},unregister(){b.value.delete(h)},closeParents(a){setTimeout(()=>{var c;!b.value.size&&!e.persistent&&(a==null||(c=n.value)!=null&&c.contentEl&&!Be(a,n.value.contentEl))&&(o.value=!1,s==null||s.closeParents())},40)}}),Ke(()=>{s==null||s.unregister(),document.removeEventListener("focusin",P)}),_e(()=>o.value=!1);async function P(a){var V,S,R;const c=a.relatedTarget,y=a.target;await de(),o.value&&c!==y&&((V=n.value)!=null&&V.contentEl)&&((S=n.value)!=null&&S.globalTop)&&![document,n.value.contentEl].includes(y)&&!n.value.contentEl.contains(y)&&((R=ge(n.value.contentEl)[0])==null||R.focus())}H(o,a=>{a?(s==null||s.register(),X&&document.addEventListener("focusin",P,{once:!0})):(s==null||s.unregister(),X&&document.removeEventListener("focusin",P))},{immediate:!0});function f(a){s==null||s.closeParents(a)}function g(a){var c,y,V,S,R;if(!e.disabled)if(a.key==="Tab"||a.key==="Enter"&&!e.closeOnContentClick){if(a.key==="Enter"&&(a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLInputElement&&a.target.closest("form")))return;a.key==="Enter"&&a.preventDefault(),He(ge((c=n.value)==null?void 0:c.contentEl,!1),a.shiftKey?"prev":"next",T=>T.tabIndex>=0)||(o.value=!1,(V=(y=n.value)==null?void 0:y.activatorEl)==null||V.focus())}else e.submenu&&a.key===(v.value?"ArrowRight":"ArrowLeft")&&(o.value=!1,(R=(S=n.value)==null?void 0:S.activatorEl)==null||R.focus())}function x(a){var y;if(e.disabled)return;const c=(y=n.value)==null?void 0:y.contentEl;c&&o.value?a.key==="ArrowDown"?(a.preventDefault(),a.stopImmediatePropagation(),ue(c,"next")):a.key==="ArrowUp"?(a.preventDefault(),a.stopImmediatePropagation(),ue(c,"prev")):e.submenu&&(a.key===(v.value?"ArrowRight":"ArrowLeft")?o.value=!1:a.key===(v.value?"ArrowLeft":"ArrowRight")&&(a.preventDefault(),ue(c,"first"))):(e.submenu?a.key===(v.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(a.key))&&(o.value=!0,a.preventDefault(),setTimeout(()=>setTimeout(()=>x(a))))}const k=E(()=>B({"aria-haspopup":"menu","aria-expanded":String(o.value),"aria-owns":r.value,onKeydown:x},e.activatorProps));return ne(()=>{const a=be.filterProps(e);return p(be,B({ref:n,id:r.value,class:["v-menu",e.class],style:e.style},a,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,absolute:!0,activatorProps:k.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:g},i),{activator:l.activator,default:function(){for(var c=arguments.length,y=new Array(c),V=0;V<c;V++)y[V]=arguments[V];return p(Te,{root:"VMenu"},{default:()=>{var S;return[(S=l.default)==null?void 0:S.call(l,...y)]}})}})}),Ie({id:r,ΨopenChildren:b},n)}}),vt=N({renderless:Boolean,...Ce()},"VVirtualScrollItem"),mt=le()({name:"VVirtualScrollItem",inheritAttrs:!1,props:vt(),emits:{"update:height":e=>!0},setup(e,d){let{attrs:l,emit:o,slots:i}=d;const{resizeRef:v,contentRect:h}=Ae(void 0,"border");H(()=>{var r;return(r=h.value)==null?void 0:r.height},r=>{r!=null&&o("update:height",r)}),ne(()=>{var r,n;return e.renderless?p(Q,null,[(r=i.default)==null?void 0:r.call(i,{itemRef:v})]):p("div",B({ref:v,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(n=i.default)==null?void 0:n.call(i)])})}}),ht=-1,gt=1,se=100,yt=N({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function pt(e,d){const l=Ue(),o=O(0);ce(()=>{o.value=parseFloat(e.itemHeight||0)});const i=O(0),v=O(Math.ceil((parseInt(e.height)||l.height.value)/(o.value||16))||1),h=O(0),r=O(0),n=K(),s=K();let b=0;const{resizeRef:P,contentRect:f}=Ae();ce(()=>{P.value=n.value});const g=E(()=>{var t;return n.value===document.documentElement?l.height.value:((t=f.value)==null?void 0:t.height)||parseInt(e.height)||0}),x=E(()=>!!(n.value&&s.value&&g.value&&o.value));let k=Array.from({length:d.value.length}),a=Array.from({length:d.value.length});const c=O(0);let y=-1;function V(t){return k[t]||o.value}const S=Ne(()=>{const t=performance.now();a[0]=0;const u=d.value.length;for(let w=1;w<=u-1;w++)a[w]=(a[w-1]||0)+V(w-1);c.value=Math.max(c.value,performance.now()-t)},c),R=H(x,t=>{t&&(R(),b=s.value.offsetTop,S.immediate(),L(),~y&&de(()=>{X&&window.requestAnimationFrame(()=>{ee(y),y=-1})}))});Pe(()=>{S.clear()});function q(t,u){const w=k[t],I=o.value;o.value=I?Math.min(o.value,u):u,(w!==u||I!==o.value)&&(k[t]=u,S())}function T(t){return t=re(t,0,d.value.length-1),a[t]||0}function Y(t){return wt(a,t)}let z=0,U=0,W=0;H(g,(t,u)=>{u&&(L(),t<u&&requestAnimationFrame(()=>{U=0,L()}))});function G(){if(!n.value||!s.value)return;const t=n.value.scrollTop,u=performance.now();u-W>500?(U=Math.sign(t-z),b=s.value.offsetTop):U=t-z,z=t,W=u,L()}function j(){!n.value||!s.value||(U=0,W=0,L())}let Z=-1;function L(){cancelAnimationFrame(Z),Z=requestAnimationFrame(ae)}function ae(){if(!n.value||!g.value)return;const t=z-b,u=Math.sign(U),w=Math.max(0,t-se),I=re(Y(w),0,d.value.length),D=t+g.value+se,m=re(Y(D)+1,I+1,d.value.length);if((u!==ht||I<i.value)&&(u!==gt||m>v.value)){const C=T(i.value)-T(I),A=T(m)-T(v.value);Math.max(C,A)>se?(i.value=I,v.value=m):(I<=0&&(i.value=I),m>=d.value.length&&(v.value=m))}h.value=T(i.value),r.value=T(d.value.length)-T(v.value)}function ee(t){const u=T(t);!n.value||t&&!u?y=t:n.value.scrollTop=u}const oe=E(()=>d.value.slice(i.value,v.value).map((t,u)=>({raw:t,index:u+i.value})));return H(d,()=>{k=Array.from({length:d.value.length}),a=Array.from({length:d.value.length}),S.immediate(),L()},{deep:!0}),{calculateVisibleItems:L,containerRef:n,markerRef:s,computedItems:oe,paddingTop:h,paddingBottom:r,scrollToIndex:ee,handleScroll:G,handleScrollend:j,handleItemResize:q}}function wt(e,d){let l=e.length-1,o=0,i=0,v=null,h=-1;if(e[l]<d)return l;for(;o<=l;)if(i=o+l>>1,v=e[i],v>d)l=i-1;else if(v<d)h=i,o=i+1;else return v===d?i:o;return h}const Vt=N({items:{type:Array,default:()=>[]},renderless:Boolean,...yt(),...Ce(),...rt()},"VVirtualScroll"),bt=le()({name:"VVirtualScroll",props:Vt(),setup(e,d){let{slots:l}=d;const o=ze("VVirtualScroll"),{dimensionStyles:i}=st(e),{calculateVisibleItems:v,containerRef:h,markerRef:r,handleScroll:n,handleScrollend:s,handleItemResize:b,scrollToIndex:P,paddingTop:f,paddingBottom:g,computedItems:x}=pt(e,je(e,"items"));return $e(()=>e.renderless,()=>{function k(){var y,V;const c=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";h.value===document.documentElement?(document[c]("scroll",n,{passive:!0}),document[c]("scrollend",s)):((y=h.value)==null||y[c]("scroll",n,{passive:!0}),(V=h.value)==null||V[c]("scrollend",s))}qe(()=>{h.value=ot(o.vnode.el,!0),k(!0)}),Pe(k)}),ne(()=>{const k=x.value.map(a=>p(mt,{key:a.index,renderless:e.renderless,"onUpdate:height":c=>b(a.index,c)},{default:c=>{var y;return(y=l.default)==null?void 0:y.call(l,{item:a.raw,index:a.index,...c})}}));return e.renderless?p(Q,null,[p("div",{ref:r,class:"v-virtual-scroll__spacer",style:{paddingTop:te(f.value)}},null),k,p("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:te(g.value)}},null)]):p("div",{ref:h,class:["v-virtual-scroll",e.class],onScrollPassive:n,onScrollend:s,style:[i.value,e.style]},[p("div",{ref:r,class:"v-virtual-scroll__container",style:{paddingTop:te(f.value),paddingBottom:te(g.value)}},[k])])}),{calculateVisibleItems:v,scrollToIndex:P}}});function kt(e,d){const l=O(!1);let o;function i(r){cancelAnimationFrame(o),l.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{l.value=!1})})}async function v(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(l.value){const n=H(l,()=>{n(),r()})}else r()})}async function h(r){var b,P;if(r.key==="Tab"&&((b=d.value)==null||b.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const n=(P=e.value)==null?void 0:P.$el;if(!n)return;(r.key==="Home"||r.key==="End")&&n.scrollTo({top:r.key==="Home"?0:n.scrollHeight,behavior:"smooth"}),await v();const s=n.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const f=n.getBoundingClientRect().top;for(const g of s)if(g.getBoundingClientRect().top>=f){g.focus();break}}else{const f=n.getBoundingClientRect().bottom;for(const g of[...s].reverse())if(g.getBoundingClientRect().bottom<=f){g.focus();break}}}return{onScrollPassive:i,onKeydown:h}}const St=N({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:We,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...tt({itemChildren:!1})},"Select"),Pt=N({...St(),...Se(De({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ze({transition:{component:xe}})},"VSelect"),Bt=le()({name:"VSelect",props:Pt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,d){let{slots:l}=d;const{t:o}=Je(),i=K(),v=K(),h=K(),r=ie(e,"menu"),n=E({get:()=>r.value,set:t=>{var u;r.value&&!t&&((u=v.value)!=null&&u.ΨopenChildren.size)||(r.value=t)}}),{items:s,transformIn:b,transformOut:P}=lt(e),f=ie(e,"modelValue",[],t=>b(t===null?[null]:fe(t)),t=>{const u=P(t);return e.multiple?u:u[0]??null}),g=E(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),x=Ge(e),k=E(()=>f.value.map(t=>t.value)),a=O(!1),c=E(()=>n.value?e.closeText:e.openText);let y="",V;const S=E(()=>e.hideSelected?s.value.filter(t=>!f.value.some(u=>e.valueComparator(u,t))):s.value),R=E(()=>e.hideNoData&&!S.value.length||x.isReadonly.value||x.isDisabled.value),q=E(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),T=K(),Y=kt(T,i);function z(t){e.openOnClear&&(n.value=!0)}function U(){R.value||(n.value=!n.value)}function W(t){ye(t)&&G(t)}function G(t){var D,m;if(!t.key||x.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(n.value=!0),["Escape","Tab"].includes(t.key)&&(n.value=!1),t.key==="Home"?(D=T.value)==null||D.focus("first"):t.key==="End"&&((m=T.value)==null||m.focus("last"));const u=1e3;if(e.multiple||!ye(t))return;const w=performance.now();w-V>u&&(y=""),y+=t.key.toLowerCase(),V=w;const I=s.value.find(C=>C.title.toLowerCase().startsWith(y));if(I!==void 0){f.value=[I];const C=S.value.indexOf(I);X&&window.requestAnimationFrame(()=>{var A;C>=0&&((A=h.value)==null||A.scrollToIndex(C))})}}function j(t){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const w=f.value.findIndex(D=>e.valueComparator(D.value,t.value)),I=u??!~w;if(~w){const D=I?[...f.value,t]:[...f.value];D.splice(w,1),f.value=D}else I&&(f.value=[...f.value,t])}else{const w=u!==!1;f.value=w?[t]:[],de(()=>{n.value=!1})}}function Z(t){var u;(u=T.value)!=null&&u.$el.contains(t.relatedTarget)||(n.value=!1)}function L(){var t;e.eager&&((t=h.value)==null||t.calculateVisibleItems())}function ae(){var t;a.value&&((t=i.value)==null||t.focus())}function ee(t){a.value=!0}function oe(t){if(t==null)f.value=[];else if(pe(i.value,":autofill")||pe(i.value,":-webkit-autofill")){const u=s.value.find(w=>w.title===t);u&&j(u)}else i.value&&(i.value.value="")}return H(n,()=>{if(!e.hideSelected&&n.value&&f.value.length){const t=S.value.findIndex(u=>f.value.some(w=>e.valueComparator(w.value,u.value)));X&&window.requestAnimationFrame(()=>{var u;t>=0&&((u=h.value)==null||u.scrollToIndex(t))})}}),H(()=>e.items,(t,u)=>{n.value||a.value&&!u.length&&t.length&&(n.value=!0)}),ne(()=>{const t=!!(e.chips||l.chip),u=!!(!e.hideNoData||S.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),w=f.value.length>0,I=he.filterProps(e),D=w||!a.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return p(he,B({ref:i},I,{modelValue:f.value.map(m=>m.props.value).join(", "),"onUpdate:modelValue":oe,focused:a.value,"onUpdate:focused":m=>a.value=m,validationValue:f.externalValue,counterValue:g.value,dirty:w,class:["v-select",{"v-select--active-menu":n.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:D,"onClick:clear":z,"onMousedown:control":U,onBlur:Z,onKeydown:G,"aria-label":o(c.value),title:o(c.value)}),{...l,default:()=>p(Q,null,[p(dt,B({ref:v,modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:L,onAfterLeave:ae},q.value),{default:()=>[u&&p(nt,B({ref:T,selected:k.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:m=>m.preventDefault(),onKeydown:W,onFocusin:ee,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Y,e.listProps),{default:()=>{var m,C,A;return[(m=l["prepend-item"])==null?void 0:m.call(l),!S.value.length&&!e.hideNoData&&(((C=l["no-data"])==null?void 0:C.call(l))??p(we,{title:o(e.noDataText)},null)),p(bt,{ref:h,renderless:!0,items:S.value},{default:_=>{var me;let{item:M,index:$,itemRef:F}=_;const ve=B(M.props,{ref:F,key:$,onClick:()=>j(M,null)});return((me=l.item)==null?void 0:me.call(l,{item:M,index:$,props:ve}))??p(we,B(ve,{role:"option"}),{prepend:Fe=>{let{isSelected:Ee}=Fe;return p(Q,null,[e.multiple&&!e.hideSelected?p(it,{key:M.value,modelValue:Ee,ripple:!1,tabindex:"-1"},null):void 0,M.props.prependAvatar&&p(et,{image:M.props.prependAvatar},null),M.props.prependIcon&&p(ke,{icon:M.props.prependIcon},null)])}})}}),(A=l["append-item"])==null?void 0:A.call(l)]}})]}),f.value.map((m,C)=>{function A(F){F.stopPropagation(),F.preventDefault(),j(m,!1)}const _={"onClick:close":A,onKeydown(F){F.key!=="Enter"&&F.key!==" "||(F.preventDefault(),F.stopPropagation(),A(F))},onMousedown(F){F.preventDefault(),F.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},M=t?!!l.chip:!!l.selection,$=M?Qe(t?l.chip({item:m,index:C,props:_}):l.selection({item:m,index:C})):void 0;if(!(M&&!$))return p("div",{key:m.value,class:"v-select__selection"},[t?l.chip?p(Te,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:m.title}}},{default:()=>[$]}):p(ct,B({key:"chip",closable:e.closableChips,size:"small",text:m.title,disabled:m.props.disabled},_),null):$??p("span",{class:"v-select__selection-text"},[m.title,e.multiple&&C<f.value.length-1&&p("span",{class:"v-select__selection-comma"},[Xe(",")])])])})]),"append-inner":function(){var _;for(var m=arguments.length,C=new Array(m),A=0;A<m;A++)C[A]=arguments[A];return p(Q,null,[(_=l["append-inner"])==null?void 0:_.call(l,...C),e.menuIcon?p(ke,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ie({isFocused:a,menu:n,select:j},i)}}),It=(e,d,l)=>e==null||d==null?-1:e.toString().toLocaleLowerCase().indexOf(d.toString().toLocaleLowerCase()),Kt=N({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function xt(e,d,l){var r;const o=[],i=(l==null?void 0:l.default)??It,v=l!=null&&l.filterKeys?fe(l.filterKeys):!1,h=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return o;e:for(let n=0;n<e.length;n++){const[s,b=s]=fe(e[n]),P={},f={};let g=-1;if((d||h>0)&&!(l!=null&&l.noFilter)){if(typeof s=="object"){const a=v||Object.keys(b);for(const c of a){const y=Ye(b,c),V=(r=l==null?void 0:l.customKeyFilter)==null?void 0:r[c];if(g=V?V(y,d,s):i(y,d,s),g!==-1&&g!==!1)V?P[c]=g:f[c]=g;else if((l==null?void 0:l.filterMode)==="every")continue e}}else g=i(s,d,s),g!==-1&&g!==!1&&(f.title=g);const x=Object.keys(f).length,k=Object.keys(P).length;if(!x&&!k||(l==null?void 0:l.filterMode)==="union"&&k!==h&&!x||(l==null?void 0:l.filterMode)==="intersection"&&(k!==h||!x))continue}o.push({index:n,matches:{...f,...P}})}return o}function _t(e,d,l,o){const i=K([]),v=K(new Map),h=E(()=>o!=null&&o.transform?J(d).map(n=>[n,o.transform(n)]):J(d));ce(()=>{const n=typeof l=="function"?l():J(l),s=typeof n!="string"&&typeof n!="number"?"":String(n),b=xt(h.value,s,{customKeyFilter:{...e.customKeyFilter,...J(o==null?void 0:o.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),P=J(d),f=[],g=new Map;b.forEach(x=>{let{index:k,matches:a}=x;const c=P[k];f.push(c),g.set(c.value,a)}),i.value=f,v.value=g});function r(n){return v.value.get(n.value)}return{filteredItems:i,filteredMatches:v,getMatches:r}}export{Bt as V,Kt as a,pt as b,mt as c,St as d,kt as e,dt as f,bt as g,yt as m,_t as u};
