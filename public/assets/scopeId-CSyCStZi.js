import{o as oe}from"./VContainer-Dhel-9KP.js";import{p as A,ai as N,aO as ne,ax as E,ac as Z,s as F,aI as ae,aH as se,c,b as ue,r as le,be as $,L as R,o as ie,bh as re,bi as ce}from"./index-Bqt8YkeW.js";import{c as ve}from"./createSimpleFunctional-BtMi-ZeF.js";const D=Symbol.for("vuetify:layout"),X=Symbol.for("vuetify:layout-item"),U=1e3,ge=A({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ie=A({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function he(){const n=N(D);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function be(n){const o=N(D);if(!o)throw new Error("[Vuetify] Could not find injected layout");const u=n.id??`layout-item-${ne()}`,i=E("useLayoutItem");Z(X,{id:u});const a=F(!1);ae(()=>a.value=!0),se(()=>a.value=!1);const{layoutItemStyles:v,layoutItemScrimStyles:l}=o.register(i,{...n,active:c(()=>a.value?!1:n.active.value),id:u});return ue(()=>o.unregister(u)),{layoutItemStyles:v,layoutRect:o.layoutRect,layoutItemScrimStyles:l}}const de=(n,o,u,i)=>{let a={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...a}}];for(const l of n){const p=o.get(l),m=u.get(l),z=i.get(l);if(!p||!m||!z)continue;const I={...a,[p.value]:parseInt(a[p.value],10)+(z.value?parseInt(m.value,10):0)};v.push({id:l,layer:I}),a=I}return v};function Se(n){const o=N(D,null),u=c(()=>o?o.rootZIndex.value-100:U),i=le([]),a=$(new Map),v=$(new Map),l=$(new Map),p=$(new Map),m=$(new Map),{resizeRef:z,contentRect:I}=oe(),q=c(()=>{const t=new Map,d=n.overlaps??[];for(const e of d.filter(r=>r.includes(":"))){const[r,s]=e.split(":");if(!i.value.includes(r)||!i.value.includes(s))continue;const y=a.get(r),g=a.get(s),x=v.get(r),w=v.get(s);!y||!g||!x||!w||(t.set(s,{position:y.value,amount:parseInt(x.value,10)}),t.set(r,{position:g.value,amount:-parseInt(w.value,10)}))}return t}),h=c(()=>{const t=[...new Set([...l.values()].map(e=>e.value))].sort((e,r)=>e-r),d=[];for(const e of t){const r=i.value.filter(s=>{var y;return((y=l.get(s))==null?void 0:y.value)===e});d.push(...r)}return de(d,a,v,p)}),H=c(()=>!Array.from(m.values()).some(t=>t.value)),b=c(()=>h.value[h.value.length-1].layer),W=c(()=>({"--v-layout-left":R(b.value.left),"--v-layout-right":R(b.value.right),"--v-layout-top":R(b.value.top),"--v-layout-bottom":R(b.value.bottom),...H.value?void 0:{transition:"none"}})),S=c(()=>h.value.slice(1).map((t,d)=>{let{id:e}=t;const{layer:r}=h.value[d],s=v.get(e),y=a.get(e);return{id:e,...r,size:Number(s.value),position:y.value}})),T=t=>S.value.find(d=>d.id===t),M=E("createLayout"),j=F(!1);ie(()=>{j.value=!0}),Z(D,{register:(t,d)=>{let{id:e,order:r,position:s,layoutSize:y,elementSize:g,active:x,disableTransitions:w,absolute:G}=d;l.set(e,r),a.set(e,s),v.set(e,y),p.set(e,x),w&&m.set(e,w);const k=re(X,M==null?void 0:M.vnode).indexOf(t);k>-1?i.value.splice(k,0,e):i.value.push(e);const B=c(()=>S.value.findIndex(L=>L.id===e)),P=c(()=>u.value+h.value.length*2-B.value*2),J=c(()=>{const L=s.value==="left"||s.value==="right",V=s.value==="right",ee=s.value==="bottom",C=g.value??y.value,te=C===0?"%":"px",K={[s.value]:0,zIndex:P.value,transform:`translate${L?"X":"Y"}(${(x.value?0:-(C===0?100:C))*(V||ee?-1:1)}${te})`,position:G.value||u.value!==U?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!j.value)return K;const f=S.value[B.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const O=q.value.get(e);return O&&(f[O.position]+=O.amount),{...K,height:L?`calc(100% - ${f.top}px - ${f.bottom}px)`:g.value?`${g.value}px`:void 0,left:V?void 0:`${f.left}px`,right:V?`${f.right}px`:void 0,top:s.value!=="bottom"?`${f.top}px`:void 0,bottom:s.value!=="top"?`${f.bottom}px`:void 0,width:L?g.value?`${g.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),Q=c(()=>({zIndex:P.value-1}));return{layoutItemStyles:J,layoutItemScrimStyles:Q,zIndex:P}},unregister:t=>{l.delete(t),a.delete(t),v.delete(t),p.delete(t),m.delete(t),i.value=i.value.filter(d=>d!==t)},mainRect:b,mainStyles:W,getLayoutItem:T,items:S,layoutRect:I,rootZIndex:u});const Y=c(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),_=c(()=>({zIndex:o?u.value:void 0,position:o?"relative":void 0,overflow:o?"hidden":void 0}));return{layoutClasses:Y,layoutStyles:_,getLayoutItem:T,items:S,layoutRect:I,layoutRef:z}}const xe=ve("v-spacer","div","VSpacer"),we=A({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Le(n,o){let u=()=>{};function i(l){u==null||u();const p=Number(l?n.openDelay:n.closeDelay);return new Promise(m=>{u=ce(p,()=>{o==null||o(l),m(l)})})}function a(){return i(!0)}function v(){return i(!1)}return{clearDelay:u,runOpenDelay:a,runCloseDelay:v}}function $e(){const o=E("useScopeId").vnode.scopeId;return{scopeId:o?{[o]:""}:void 0}}export{xe as V,ge as a,$e as b,Se as c,he as d,we as e,Le as f,D as g,Ie as m,be as u};
