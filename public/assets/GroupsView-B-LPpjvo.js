import{i as ee,M as Q,N as te,n as b,q as h,v as l,f as e,r as U,k as z,w as K,V as A,c as ie,F as q,P as oe,O as Te,x as M,D as R,H,Q as de,G as V,z as Ee,y as _,A as W,R as Pe,X as ue,a0 as ce}from"./index-C0Gb3qEX.js";import{O as N,G as F}from"./group-Dg_peWef.js";import{P as ye}from"./permission-Ba-8wP-4.js";import{a as I,V as Z}from"./VRow-BK0KXiRi.js";import{V as E}from"./VCheckbox-DF6UaaHe.js";import{e as se,V as Y}from"./VContainer-CKDRlvON.js";import{_ as Ne}from"./DeleteDialog.vue_vue_type_script_setup_true_lang-BqF4fhAp.js";import{u as re}from"./useModel-C7gHpFBS.js";import{_ as me}from"./ModelDialog.vue_vue_type_script_setup_true_lang-Bj-F03gg.js";import{V as De}from"./VTextField-BitqyaQs.js";import{V as ae}from"./filter-ByaMDlRj.js";import{G as Ce,A as Ge}from"./userData-DnHV_SoW.js";import{u as Re}from"./useAvatar-DckqpOs3.js";import{a as ke,_ as Me,l as Ae}from"./SaveButton.vue_vue_type_script_setup_true_lang-B_NvnnU3.js";import{c as Se}from"./copyToClipboard-BtcEYe2-.js";import{_ as Le}from"./UserSelect.vue_vue_type_script_setup_true_lang-DRRC0f_y.js";import{V as _e,a as Fe,c as he}from"./VList-CM6fz1Fg.js";import{V as Ye}from"./VDialog-DxGzgBPB.js";import{e as $e,a as je,b as xe,c as We,d as Be}from"./VCard-BYUppvMY.js";import{V as ve}from"./scopeId-CJv-zJPa.js";import{V as ze}from"./forwardRefs-CC4TMhvU.js";import{a as qe,V as He}from"./VTable-C8nB9xNz.js";import{V as Qe}from"./VToolbar-CkR8pYZ6.js";import{v as J}from"./v4-CtRu48qb.js";import"./VCheckboxBtn-C0tH78YH.js";import"./form-WVk1K4dw.js";import"./VOverlay-BtewPaeq.js";import"./VChip-BhxmzUi_.js";import"./useStoreAPI-BM12QDlD.js";import"./layout-B5IiA2Sa.js";import"./VAutocomplete-Mk89lGUs.js";import"./createSimpleFunctional-ztedazSN.js";import"./VDivider-B3auSEGU.js";const pe=ee({__name:"EditGroupPermissions",props:Q({disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(S){const u=te(S,"modelValue");return(g,t)=>(b(),h(se,null,{default:l(()=>[e(Z,null,{default:l(()=>[e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.CheckIn,"onUpdate:modelValue":t[0]||(t[0]=n=>u.value.CheckIn=n),label:"Check In","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.EditConvention,"onUpdate:modelValue":t[1]||(t[1]=n=>u.value.EditConvention=n),label:"Edit Convention","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.EditOrganisation,"onUpdate:modelValue":t[2]||(t[2]=n=>u.value.EditOrganisation=n),label:"Edit Organisation","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.EditPaymentTransactions,"onUpdate:modelValue":t[3]||(t[3]=n=>u.value.EditPaymentTransactions=n),label:"Manage Registration Payments","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.EditRegistration,"onUpdate:modelValue":t[4]||(t[4]=n=>u.value.EditRegistration=n),label:"Edit Registrations","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.ManageUsers,"onUpdate:modelValue":t[5]||(t[5]=n=>u.value.ManageUsers=n),label:"Manage Users","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.ManageViews,"onUpdate:modelValue":t[6]||(t[6]=n=>u.value.ManageViews=n),label:"Manage Views","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.ViewPaymentTransactions,"onUpdate:modelValue":t[7]||(t[7]=n=>u.value.ViewPaymentTransactions=n),label:"View Payment Transactions","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.ViewRegistration,"onUpdate:modelValue":t[8]||(t[8]=n=>u.value.ViewRegistration=n),label:"View Registrations","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.ConfigureLostAndFound,"onUpdate:modelValue":t[9]||(t[9]=n=>u.value.ConfigureLostAndFound=n),label:"Configure Lost and Found","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.EditLostAndFound,"onUpdate:modelValue":t[10]||(t[10]=n=>u.value.EditLostAndFound=n),label:"Edit Lost and Found","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.ViewLostAndFound,"onUpdate:modelValue":t[11]||(t[11]=n=>u.value.ViewLostAndFound=n),label:"View Lost and Found","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.ConfigureProps,"onUpdate:modelValue":t[12]||(t[12]=n=>u.value.ConfigureProps=n),label:"Configure Props","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.EditProps,"onUpdate:modelValue":t[13]||(t[13]=n=>u.value.EditProps=n),label:"Edit Props","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1}),e(I,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(E,{modelValue:u.value.ViewProps,"onUpdate:modelValue":t[14]||(t[14]=n=>u.value.ViewProps=n),label:"View Props","hide-details":"",disabled:g.disabled},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}))}}),Xe=ee({__name:"EditGroupDialog",props:Q({conventions:{},organisations:{},group:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:Q(["update:group","save"],["update:modelValue"]),setup(S,{emit:u}){const g=S,t=oe(),{conventions:n,organisations:L,title:$=""}=g,y=u,c=te(S,"modelValue"),v=re(g,y,void 0,void 0,"group"),s=U(z(v.value)),O=U(null);s.value.OwnerType===N.OWNER_TYPE_CONVENTION?O.value=n.filter(d=>d.ConventionUUID==s.value.OwnerUUID).map(d=>d.ConventionUUID).join(""):s.value.OwnerType===N.OWNER_TYPE_ORGANISATION?O.value=L.filter(d=>d.OrganisationUUID==s.value.OwnerUUID).map(d=>d.OrganisationUUID).join(""):(s.value.Type===F.GROUP_TYPE_SYSTEM||s.value.Type===F.GROUP_TYPE_ADMIN)&&(O.value=null),K(v,()=>{s.value=z(v.value)});const T=U({ID:0,PermissionUUID:A,GroupID:0,GroupUUID:A,CheckIn:!1,EditConvention:!1,EditOrganisation:!1,EditPaymentTransactions:!1,EditRegistration:!1,ViewPaymentTransactions:!1,ViewRegistration:!1,ManageUsers:!1,ManageViews:!1,ConfigureProps:!1,EditProps:!1,ViewProps:!1,ConfigureLostAndFound:!1,EditLostAndFound:!1,ViewLostAndFound:!1});t.getPermission(F.GROUP_TYPE_SYSTEM,A).then(d=>{T.value=d,C()}).catch(()=>{});const D=()=>{s.value=z(v.value),C()},k=d=>{if(O.value==null)s.value.Type=F.GROUP_TYPE_ADMIN,s.value.OwnerType=null,s.value.OwnerID=null,s.value.OwnerUUID=null;else{const r=G.value.find(w=>O.value===w.OwnerUUID);r&&(r.OwnerType==N.OWNER_TYPE_ORGANISATION?s.value.Type=F.GROUP_TYPE_ORGANISATION:r.OwnerType==N.OWNER_TYPE_CONVENTION&&(s.value.Type=F.GROUP_TYPE_CONVENTION),s.value.OwnerType=r.OwnerType,s.value.OwnerID=r.OwnerID,s.value.OwnerUUID=r.OwnerUUID)}t.saveGroup(s.value).then(r=>{r&&d&&d("Group Saved").then(()=>{v.value=r,y("save",r)})}).catch(()=>{d&&d("Failed to Save Group")})},C=()=>{const d=G.value.find(r=>s.value.OwnerUUID===r.OwnerUUID);d?O.value=d.OwnerUUID:G.value.length>0&&(O.value=null)},G=ie(()=>{const d=[];return T.value.ManageUsers&&d.push({Label:"System Admin",OwnerID:null,OwnerUUID:null,OwnerType:null}),d.push(...n.map(r=>({Label:`${r.Name} (Convention)`,OwnerID:r.ID,OwnerUUID:r.ConventionUUID,OwnerType:N.OWNER_TYPE_CONVENTION}))),d.push(...L.map(r=>({Label:`${r.Name} (Organisation)`,OwnerID:r.ID,OwnerUUID:r.OrganisationUUID,OwnerType:N.OWNER_TYPE_ORGANISATION}))),d});return C(),(d,r)=>(b(),h(me,{modelValue:c.value,"onUpdate:modelValue":r[3]||(r[3]=w=>c.value=w),onReset:D,onSave:k,title:q($),color:"primary","show-close-action":!0,"show-reset-action":!0,"show-save-action":!0,fullscreen:!0,persistent:!0},{default:l(()=>[e(se,{class:"pa-0",fluid:!0},{default:l(()=>[e(Z,null,{default:l(()=>[e(I,{cols:"12",md:"6"},{default:l(()=>[e(De,{modelValue:s.value.Name,"onUpdate:modelValue":r[0]||(r[0]=w=>s.value.Name=w),label:"Name",variant:"outlined"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(ae,{modelValue:O.value,"onUpdate:modelValue":r[1]||(r[1]=w=>O.value=w),label:"Owner",items:G.value,"item-title":"Label","item-value":"OwnerUUID",variant:"outlined"},null,8,["modelValue","items"])]),_:1}),e(I,{cols:"12"},{default:l(()=>[e(pe,{modelValue:s.value.Permission,"onUpdate:modelValue":r[2]||(r[2]=w=>s.value.Permission=w),disabled:!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),Je={key:1},Ke=["href"],Ze=ee({__name:"EditGroupMembersDialog",props:Q({group:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:Q(["update:group","save"],["update:modelValue"]),setup(S,{emit:u}){const g=S,t=oe(),n=Re(),{title:L=""}=g,$=u,y=te(S,"modelValue"),c=re(g,$,void 0,void 0,"group"),v=U(z(c.value)),s=U(""),O=U(!1),T=U(A);(v.value.Users==null||v.value.Users.length==0)&&t.getGroupMembers(v.value.GroupUUID).then(m=>{m&&(v.value.Users=m)}).catch(()=>{v.value.Users=[]});const D=U(""),k=()=>{t.getGroupInvite(v.value.GroupUUID).then(m=>{if(m){const p=new URL(location.href);p.searchParams.set("token",m),D.value=p.toString()}})};k(),K(c,()=>{v.value=z(c.value)});const C=()=>{Se(D.value),k()},G=U(!1),d=U(-1),r=U(""),w=()=>{d.value=-1,G.value=!1},X=m=>{d.value=m,G.value=!0},le=()=>{(!T.value||T.value===A)&&(s.value="Invalid User",O.value=!0),t.addUserToGroup(T.value,v.value.GroupUUID).then(m=>{m?(v.value=m,s.value="User added to group",O.value=!0):(s.value="Error adding user to group",O.value=!0)}).catch(m=>{s.value="Error adding user to group: "+m,O.value=!0})},B=({callback:m})=>{if(!v.value.Users){m&&(m("Failed to Remove User"),setTimeout(w,2e3));return}r.value="",d.value<0||d.value>=v.value.Users.length?(m&&m("Invalid Convention"),setTimeout(w,2e3)):t.removeUserFromGroup(v.value.Users[d.value].UserUUID,v.value.GroupUUID).then(p=>{var f;p?((f=v.value.Users)==null||f.splice(d.value,1),m&&m("User Removed")):m&&m("Failed to Remove User"),setTimeout(w,2e3)}).catch(()=>{m&&(m("Failed to Remove User"),setTimeout(w,2e3))})};return(m,p)=>(b(),h(me,{modelValue:y.value,"onUpdate:modelValue":p[3]||(p[3]=f=>y.value=f),title:q(L),color:"primary",fullscreen:!0,persistent:!0},Te({default:l(()=>[e(se,{class:"pa-0",fluid:!0},{default:l(()=>[v.value.Users&&v.value.Users.length?(b(),R(H,{key:0},[e(_e,null,{default:l(()=>[(b(!0),R(H,null,de(v.value.Users,(f,P)=>(b(),h(Fe,{key:f.UserUUID},{append:l(()=>[e(Y,{color:"red-darken-3",icon:"mdi:mdi-window-close",size:"x-small",onClick:ne=>X(P)},null,8,["onClick"])]),prepend:l(()=>[e(ze,{src:q(n)(f.UserUUID),class:"rounded-circle mr-2",height:"32",width:"32"},null,8,["src"])]),default:l(()=>[e(he,null,{default:l(()=>[M(_(f.DisplayName)+" "+_(f.Handle?`(${f.Handle})`:""),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(Ye,{modelValue:G.value,"onUpdate:modelValue":p[2]||(p[2]=f=>G.value=f),width:"auto"},{default:l(()=>[e($e,null,{default:l(()=>[e(je,null,{default:l(()=>p[5]||(p[5]=[M(" Remove User from Group ")])),_:1}),e(xe,null,{default:l(()=>p[6]||(p[6]=[M(" User will no longer have the permissions from this group. ")])),_:1}),e(We,null,{default:l(()=>[e(Z,null,{default:l(()=>[e(I,null,{default:l(()=>p[7]||(p[7]=[V("p",null," Are you sure you wish to remove this user? If they have permissions from another group these will still be usable. To add the user back into the group you may need to provide them with a new invite link. ",-1)])),_:1})]),_:1})]),_:1}),e(Be,null,{default:l(()=>[e(Y,{color:"primary",onClick:w},{default:l(()=>p[8]||(p[8]=[M("Cancel")])),_:1}),e(ve),e(Me,{color:"red-darken-3",label:"Remove User",onClick:B})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):(b(),R("p",Je," No members "))]),_:1})]),actions:l(()=>[e(Y,{variant:"text"},{default:l(()=>[V("a",{href:D.value,onClick:Ee(C,["prevent"])},"Invite URL",8,Ke)]),_:1})]),_:2},[m.group.OwnerType===q(N).OWNER_TYPE_CONVENTION&&m.group.OwnerUUID?{name:"extension",fn:l(()=>[e(Z,null,{default:l(()=>[e(I,null,{default:l(()=>[e(Le,{modelValue:T.value,"onUpdate:modelValue":p[0]||(p[0]=f=>T.value=f),convention:m.group.OwnerUUID,"null-label":"- Select User -",variant:"plain"},null,8,["modelValue","convention"])]),_:1}),e(I,{class:"pt-5"},{default:l(()=>[e(Y,{onClick:le,variant:"flat",class:"mt-2",color:"success","prepend-icon":"mdi:mdi-account-plus"},{default:l(()=>p[4]||(p[4]=[M(" Add User ")])),_:1})]),_:1})]),_:1}),e(ke,{message:s.value,modelValue:O.value,"onUpdate:modelValue":p[1]||(p[1]=f=>O.value=f)},null,8,["message","modelValue"])]),key:"0"}:void 0]),1032,["modelValue","title"]))}}),el={key:0,class:"text-center mt-5 text-red text-h5"},ll={key:1,class:"text-center mt-5"},al={class:"d-block d-md-none mt-2"},tl={class:"d-none d-md-table-cell"},_l=ee({__name:"GroupsView",emits:["pageTitle"],setup(S,{emit:u}){u("pageTitle","Manage Groups & Permissions");const t=oe(),n=Ce(),L=Pe(),$=U(!1),y=U(),c=U(),v=U([]),s=U([]),O=U([]),T=U(!1),D=U(!1),k=U(!1),C=U(""),d=new URL(location.href).searchParams.get("token")||"",r=o=>{const a=()=>{const i=sessionStorage.getItem("gjt_attempt");let j=Ae.parseInt(i||"0");j<2?(sessionStorage.setItem("gjt_attempt",(j+1).toString()),setTimeout(()=>{location.reload()},2e3)):(sessionStorage.removeItem("gjt_attempt"),localStorage.removeItem("gjt_token"),C.value="There was a problem with this token, it may have expired or already been used.",setTimeout(()=>{L.push("/")},5e3))};t.validateGroupInviteToken(o).then(i=>{i?(Ge(i),localStorage.removeItem("gjt_token"),sessionStorage.setItem("reload","true"),L.push("/")):a()}).catch(()=>{a()})};d!==""?(localStorage.setItem("gjt_token",location.href),r(d)):($.value=!0,(!n||!n.Groups.find(o=>o.Permission.ManageUsers))&&L.push("/")),K(y,()=>{B(c.value,y.value)}),K(c,()=>{B(c.value,y.value)});const w=o=>o.OwnerType===N.OWNER_TYPE_CONVENTION?v.value.filter(a=>a.ConventionUUID===o.OwnerUUID).map(a=>a.Name).join(""):o.OwnerType===N.OWNER_TYPE_ORGANISATION?O.value.filter(a=>a.OrganisationUUID===o.OwnerUUID).map(a=>a.Name).join(""):o.OwnerType===void 0||o.OwnerType===null?"System":"Unknown",X=o=>o.OwnerType===N.OWNER_TYPE_CONVENTION?"Convention":o.OwnerType===N.OWNER_TYPE_ORGANISATION?"Organisation":o.OwnerType===void 0||o.OwnerType===null?"Global":"Unknown",le=()=>{t.getPermissionAccessList(ye.PERMISSION_TYPE_MANAGE_USERS).then(o=>{v.value=o.Conventions,O.value=o.Organisations}).catch(()=>{})},B=(o=A,a=A)=>{t.getManageableGroups(o||A,a||A).then(i=>{i&&(s.value=i.sort((j,x)=>j.Name>x.Name?1:-1))}).catch(()=>{})},m=()=>{const o={ID:0,GroupUUID:J(),Type:F.GROUP_TYPE_CONVENTION,Name:"",MinimumNumbers:0,Permission:{ID:0,PermissionUUID:J(),GroupID:0,GroupUUID:J(),CheckIn:!1,EditConvention:!1,EditOrganisation:!1,EditPaymentTransactions:!1,EditRegistration:!1,ManageUsers:!1,ManageViews:!1,ViewPaymentTransactions:!1,ViewRegistration:!1,ConfigureProps:!1,EditProps:!1,ViewProps:!1,ConfigureLostAndFound:!1,EditLostAndFound:!1,ViewLostAndFound:!1},Users:[],OwnerID:null,OwnerType:null,OwnerUUID:null};return o.Permission.GroupUUID=o.GroupUUID,o},p=U(m()),f=U(-1),P=U(m()),ne=ie(()=>f.value===-1?"New Group":"Edit Group"),fe=()=>{p.value.GroupUUID=J(),P.value=Object.assign({},m()),f.value=-1,T.value=!0},Ue=o=>{f.value=s.value.indexOf(o),P.value=Object.assign({},o),D.value=!0},Ve=o=>{f.value=s.value.indexOf(o),P.value=Object.assign({},o),T.value=!0},ge=o=>{f.value=s.value.indexOf(o),P.value=Object.assign({},o),k.value=!0},Oe=()=>{t.deleteGroup(P.value.GroupUUID).then(o=>{o&&(s.value.splice(f.value,1),we())})},Ie=()=>{T.value=!1,ue(()=>{P.value=Object.assign({},p.value),f.value=-1})},we=()=>{k.value=!1,ue(()=>{P.value=Object.assign({},p.value),f.value=-1})},be=o=>{f.value>-1?Object.assign(s.value[f.value],o):s.value.push(o),Ie()};return le(),B(c.value,y.value),(o,a)=>(b(),R("div",null,[$.value?(b(),R(H,{key:1},[e(Qe,{color:"primary"},{default:l(()=>[e(ae,{label:"Organisation",modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=i=>c.value=i),items:O.value,"item-value":"OrganisationUUID","item-title":"Name",clearable:!0,"hide-details":"",class:"mr-1"},null,8,["modelValue","items"]),e(ae,{label:"Convention",modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=i=>y.value=i),items:v.value,"item-value":"ConventionUUID","item-title":"Name",clearable:!0,"hide-details":""},null,8,["modelValue","items"]),e(ve),e(Y,{dark:"",class:"mb-2","prepend-icon":"mdi:mdi-pencil",onClick:fe},{default:l(()=>a[8]||(a[8]=[M(" New Group ")])),_:1}),e(Ne,{modelValue:k.value,"onUpdate:modelValue":a[2]||(a[2]=i=>k.value=i),onDelete:Oe},null,8,["modelValue"])]),_:1}),T.value?(b(),h(Xe,{key:0,modelValue:T.value,"onUpdate:modelValue":a[3]||(a[3]=i=>T.value=i),group:P.value,"onUpdate:group":a[4]||(a[4]=i=>P.value=i),onSave:be,title:ne.value,conventions:v.value,organisations:O.value},null,8,["modelValue","group","title","conventions","organisations"])):W("",!0),D.value?(b(),h(Ze,{key:1,modelValue:D.value,"onUpdate:modelValue":a[5]||(a[5]=i=>D.value=i),group:P.value,"onUpdate:group":a[6]||(a[6]=i=>P.value=i),title:`${P.value.Name}`},null,8,["modelValue","group","title"])):W("",!0),e(He,null,{default:l(()=>[a[15]||(a[15]=V("thead",null,[V("tr",null,[V("th",null,"Name"),V("th",{class:"d-none d-md-table-cell"}," Owner "),V("th",null,"Permissions"),V("th")])],-1)),V("tbody",null,[(b(!0),R(H,null,de(s.value,(i,j)=>(b(),R("tr",{key:i.GroupUUID,class:ce(j%2?"bg-grey-lighten-4":"")},[V("td",null,[M(_(i.Name)+" ",1),V("p",al,[a[9]||(a[9]=V("strong",null,"Owner",-1)),a[10]||(a[10]=V("br",null,null,-1)),M(" "+_(w(i)),1),a[11]||(a[11]=V("br",null,null,-1)),V("small",null,"("+_(X(i))+")",1)])]),V("td",tl,[M(_(w(i)),1),a[12]||(a[12]=V("br",null,null,-1)),V("small",null,"("+_(X(i))+")",1)]),V("td",null,[i.Permission?(b(),h(pe,{key:0,modelValue:i.Permission,"onUpdate:modelValue":x=>i.Permission=x,disabled:!0},null,8,["modelValue","onUpdate:modelValue"])):W("",!0)]),V("td",null,[e(Y,{icon:"mdi:mdi-account-group",size:"x-small",color:"success",class:"mb-1",onClick:x=>Ue(i)},null,8,["onClick"]),a[14]||(a[14]=V("br",null,null,-1)),i.Type!==q(F).GROUP_TYPE_SYSTEM?(b(),R(H,{key:0},[e(Y,{icon:"mdi:mdi-pencil",size:"x-small",color:"primary",class:"mb-1",onClick:x=>Ve(i)},null,8,["onClick"]),a[13]||(a[13]=V("br",null,null,-1)),e(Y,{icon:"mdi:mdi-delete",size:"x-small",color:"error",class:"mb-1",onClick:x=>ge(i)},null,8,["onClick"])],64)):W("",!0)])],2))),128))])]),_:1})],64)):(b(),h(qe,{key:0,elevation:"2",class:"pa-4"},{default:l(()=>[a[7]||(a[7]=V("h1",{class:"text-center mt-5"},"Processing Invite...",-1)),C.value?(b(),R("p",el,_(C.value),1)):W("",!0),C.value?(b(),R("p",ll,"Please contact your admin and request a new one")):W("",!0)]),_:1}))]))}});export{_l as default};
