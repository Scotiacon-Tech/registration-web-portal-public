import{o as oe}from"./VContainer-B_erhKyg.js";import{p as N,ac as O,c,r as ne,ba as $,J as R,av as E,s as Z,o as ae,a5 as F,bd as se,aJ as ue,ag as le,af as ie,b as re,be as ce}from"./index-Bl6vN6z6.js";import{c as ve}from"./createSimpleFunctional-lMN-3CyO.js";const D=Symbol.for("vuetify:layout"),J=Symbol.for("vuetify:layout-item"),U=1e3,ge=N({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ie=N({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function he(){const n=O(D);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function be(n){const o=O(D);if(!o)throw new Error("[Vuetify] Could not find injected layout");const u=n.id??`layout-item-${ue()}`,i=E("useLayoutItem");F(J,{id:u});const a=Z(!1);le(()=>a.value=!0),ie(()=>a.value=!1);const{layoutItemStyles:v,layoutItemScrimStyles:l}=o.register(i,{...n,active:c(()=>a.value?!1:n.active.value),id:u});return re(()=>o.unregister(u)),{layoutItemStyles:v,layoutRect:o.layoutRect,layoutItemScrimStyles:l}}const de=(n,o,u,i)=>{let a={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...a}}];for(const l of n){const p=o.get(l),m=u.get(l),z=i.get(l);if(!p||!m||!z)continue;const I={...a,[p.value]:parseInt(a[p.value],10)+(z.value?parseInt(m.value,10):0)};v.push({id:l,layer:I}),a=I}return v};function Se(n){const o=O(D,null),u=c(()=>o?o.rootZIndex.value-100:U),i=ne([]),a=$(new Map),v=$(new Map),l=$(new Map),p=$(new Map),m=$(new Map),{resizeRef:z,contentRect:I}=oe(),X=c(()=>{const t=new Map,d=n.overlaps??[];for(const e of d.filter(r=>r.includes(":"))){const[r,s]=e.split(":");if(!i.value.includes(r)||!i.value.includes(s))continue;const f=a.get(r),g=a.get(s),x=v.get(r),w=v.get(s);!f||!g||!x||!w||(t.set(s,{position:f.value,amount:parseInt(x.value,10)}),t.set(r,{position:g.value,amount:-parseInt(w.value,10)}))}return t}),h=c(()=>{const t=[...new Set([...l.values()].map(e=>e.value))].sort((e,r)=>e-r),d=[];for(const e of t){const r=i.value.filter(s=>{var f;return((f=l.get(s))==null?void 0:f.value)===e});d.push(...r)}return de(d,a,v,p)}),H=c(()=>!Array.from(m.values()).some(t=>t.value)),b=c(()=>h.value[h.value.length-1].layer),q=c(()=>({"--v-layout-left":R(b.value.left),"--v-layout-right":R(b.value.right),"--v-layout-top":R(b.value.top),"--v-layout-bottom":R(b.value.bottom),...H.value?void 0:{transition:"none"}})),S=c(()=>h.value.slice(1).map((t,d)=>{let{id:e}=t;const{layer:r}=h.value[d],s=v.get(e),f=a.get(e);return{id:e,...r,size:Number(s.value),position:f.value}})),T=t=>S.value.find(d=>d.id===t),M=E("createLayout"),j=Z(!1);ae(()=>{j.value=!0}),F(D,{register:(t,d)=>{let{id:e,order:r,position:s,layoutSize:f,elementSize:g,active:x,disableTransitions:w,absolute:_}=d;l.set(e,r),a.set(e,s),v.set(e,f),p.set(e,x),w&&m.set(e,w);const k=se(J,M==null?void 0:M.vnode).indexOf(t);k>-1?i.value.splice(k,0,e):i.value.push(e);const B=c(()=>S.value.findIndex(L=>L.id===e)),P=c(()=>u.value+h.value.length*2-B.value*2),G=c(()=>{const L=s.value==="left"||s.value==="right",V=s.value==="right",ee=s.value==="bottom",C=g.value??f.value,te=C===0?"%":"px",K={[s.value]:0,zIndex:P.value,transform:`translate${L?"X":"Y"}(${(x.value?0:-(C===0?100:C))*(V||ee?-1:1)}${te})`,position:_.value||u.value!==U?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!j.value)return K;const y=S.value[B.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const A=X.value.get(e);return A&&(y[A.position]+=A.amount),{...K,height:L?`calc(100% - ${y.top}px - ${y.bottom}px)`:g.value?`${g.value}px`:void 0,left:V?void 0:`${y.left}px`,right:V?`${y.right}px`:void 0,top:s.value!=="bottom"?`${y.top}px`:void 0,bottom:s.value!=="top"?`${y.bottom}px`:void 0,width:L?g.value?`${g.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),Q=c(()=>({zIndex:P.value-1}));return{layoutItemStyles:G,layoutItemScrimStyles:Q,zIndex:P}},unregister:t=>{l.delete(t),a.delete(t),v.delete(t),p.delete(t),m.delete(t),i.value=i.value.filter(d=>d!==t)},mainRect:b,mainStyles:q,getLayoutItem:T,items:S,layoutRect:I,rootZIndex:u});const W=c(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),Y=c(()=>({zIndex:o?u.value:void 0,position:o?"relative":void 0,overflow:o?"hidden":void 0}));return{layoutClasses:W,layoutStyles:Y,getLayoutItem:T,items:S,layoutRect:I,layoutRef:z}}const xe=ve("v-spacer","div","VSpacer"),we=N({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Le(n,o){let u=()=>{};function i(l){u==null||u();const p=Number(l?n.openDelay:n.closeDelay);return new Promise(m=>{u=ce(p,()=>{o==null||o(l),m(l)})})}function a(){return i(!0)}function v(){return i(!1)}return{clearDelay:u,runOpenDelay:a,runCloseDelay:v}}function $e(){const o=E("useScopeId").vnode.scopeId;return{scopeId:o?{[o]:""}:void 0}}export{xe as V,ge as a,$e as b,Se as c,he as d,we as e,Le as f,D as g,Ie as m,be as u};
