import{i as me,K as te,L as pe,U as $e,r as M,w as ne,c as Le,n as t,B as P,D as j,y as _,f as i,v as a,F as J,O as le,q as k,m as ye,A as q,x as K,C as f,k as be,z as We,a0 as Ce,N as Re,E as Ne,b as el,al as ll,_ as tl,p as Ke,d as je,aa as al,ar as qe,aL as nl,u as ul,aM as sl,l as ol,aN as Pe}from"./index-C2be9rQA.js";import{F as ue}from"./form-Cqw16b_M.js";import{S as il}from"./submission-DAi9v6uc.js";import{u as xe}from"./useModel-FweCn3PY.js";import{s as De}from"./index-DFZh32pl.js";import{V as fe,b as ze,a as ve,c as Te,d as Ie}from"./VList-BSiSbCAy.js";import{V as z,a as Y}from"./VRow-gKmD3Obl.js";import{V as ge}from"./VCheckbox-BAcdmPx_.js";import{V as Ae}from"./filter-Bz78l_1S.js";import{T as rl}from"./ticket-DqurB3v3.js";import{d as Se,V as Z,p as dl,u as _e,e as vl}from"./VContainer-DsKJp95U.js";import{c as ml}from"./copyToClipboard-BtcEYe2-.js";import{a as cl,l as ce,_ as Be}from"./SaveButton.vue_vue_type_script_setup_true_lang-uxh4AaVw.js";import{u as Ze}from"./useStoreAPI-BzkqZw9C.js";import{V as He}from"./forwardRefs-mpSsDQm9.js";import{a as Me,V as Ue,m as fl,b as pl}from"./VTextField-DFkSeFBJ.js";import{V as Ge}from"./VTooltip-iQ078Ki5.js";import{V as hl}from"./VFileInput-QzhXCyLv.js";import{V as Qe}from"./VForm-L2f4vx8Q.js";import{V as gl}from"./VTextarea-CvA5q5ly.js";import{V as Ye}from"./VAutocomplete-CD7TkQgJ.js";import{m as yl,a as Oe,b as bl,c as Ul}from"./VCheckboxBtn-CGu7Yi9g.js";import{G as Il}from"./userData-zDq4J9g2.js";import{v as we}from"./v4-CQkTLCs1.js";import{e as Dl,a as kl,b as Tl,c as Vl}from"./VCard-lbrzBylh.js";var ae=(n=>(n.ACCOMMODATION="ACCOMMODATION",n.AGE="AGE",n.BADGE_IMAGE="BADGE_IMAGE",n.CHECKBOX="CHECKBOX",n.DATE="DATE",n.EXTRAS="EXTRAS",n.HTML="HTML",n.INTERESTS="INTERESTS",n.RADIO="RADIO",n.SELECT="SELECT",n.TEXT="TEXT",n.TEXTAREA="TEXTAREA",n.TICKET="TICKET",n.NUMBER="NUMBER",n))(ae||{});const Ot=[{title:"Accommodation",value:"ACCOMMODATION"},{title:"Additional Purchase",value:"EXTRAS"},{title:"Age Check",value:"AGE"},{title:"Badge Image",value:"BADGE_IMAGE"},{title:"Button",value:"RADIO"},{title:"Checkbox",value:"CHECKBOX"},{title:"Date",value:"DATE"},{title:"Dropdown",value:"SELECT"},{title:"HTML",value:"HTML"},{title:"Interests",value:"INTERESTS"},{title:"Text",value:"TEXT"},{title:"Textarea",value:"TEXTAREA"},{title:"Ticket",value:"TICKET"},{title:"Number",value:"NUMBER"}],ke=n=>{n.sort((T,g)=>(T.Order?T.Order:0)-(g.Order?g.Order:0)),n.forEach((T,g)=>{T.Order=g})},$t=(n,T)=>{const g=T.indexOf(n);if(g===0)return;const S=n.Order;n.Order=T[g-1].Order,T[g-1].Order=S,ke(T)},Lt=(n,T)=>{const g=T.indexOf(n);if(g>=T.length-1)return;const S=n.Order;n.Order=T[g+1].Order,T[g+1].Order=S,ke(T)},Cl={class:"extrasList"},Sl=me({__name:"Extras",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(n,{emit:T}){const g=n,{admin:S=!1,convention:L,disabled:p=!1}=g,A=pe(n,"modelValue"),U=T,B=$e.getInstance(),x=M({});try{x.value=JSON.parse(A.value)}catch{}const I=M([]),l=M([]);ne(g,()=>{R()}),ne(x.value,v=>{for(const w in v)if(v[w].checked){const u=I.value.map(o=>{var h;return(h=o.Options)==null?void 0:h.find(c=>c.OptionUUID===w)});if(u&&u.length>0)try{const o=u[0];v[w].choiceId===""&&o&&o.Choices&&o.Choices.length>0&&(v[w].choiceId=o.Choices[0].TagUUID),v[w].price=o==null?void 0:o.Price}catch{}}else v[w].choiceId="",v[w].price=0;A.value=JSON.stringify(v),d()});const b=Le({get:()=>I.value.map(v=>v.ExtraUUID),set:()=>{}}),R=()=>{var w;const v=((w=g.items.find(u=>u.Title==="SelectedExtras"))==null?void 0:w.Value)||"[]";try{const u=JSON.parse(v);I.value=l.value.filter(o=>u.find(h=>h===o.ExtraUUID))||[],b.value=[...I.value.map(o=>o.ExtraUUID)],I.value.forEach(o=>{var h;(h=o.Options)==null||h.forEach(c=>{x.value[c.OptionUUID]||(x.value[c.OptionUUID]={choiceId:"",checked:!1})})})}catch{}};"Extras"in L&&L.Extras.length?(l.value=L.Extras,R()):"ConventionUUID"in L&&(S?B==null||B.getConventionExtras(L.ConventionUUID).then(v=>{v&&(l.value=v,R())}):B==null||B.getAvailableConventionExtras(L.ConventionUUID).then(v=>{v&&(l.value=v,R())}));const d=(v=void 0)=>{setTimeout(()=>U("change",v),100)};return(v,w)=>(t(),P("div",Cl,[j("h4",null,_(v.label),1),i(fe,{opened:b.value,"onUpdate:opened":w[0]||(w[0]=u=>b.value=u)},{default:a(()=>[(t(!0),P(J,null,le(I.value,u=>(t(),k(ze,{key:u.ExtraUUID,value:u.ExtraUUID},{activator:a(({props:o})=>[i(ve,ye({"prepend-icon":"mdi:mdi-group","append-icon":"",ref_for:!0},o),{default:a(()=>[u.Name?(t(),k(Te,{key:0},{default:a(()=>[j("strong",null,_(u.Name),1)]),_:2},1024)):q("",!0),u.Description?(t(),k(Ie,{key:1,class:"mt-2 d-inline"},{default:a(()=>[K(_(u.Description),1)]),_:2},1024)):q("",!0)]),_:2},1040)]),default:a(()=>[u.Options?(t(!0),P(J,{key:0},le(u.Options,o=>(t(),k(ve,{key:o.OptionUUID,class:"override-pl"},{default:a(()=>[i(z,null,{default:a(()=>[i(Y,{cols:"12",sm:"6"},{default:a(()=>[i(ge,{label:`${o.Name} ${o.Price&&o.Price!==0?`(${f(De).currencySymbol}${o.Price})`:""}`,modelValue:x.value[o.OptionUUID].checked,"onUpdate:modelValue":h=>x.value[o.OptionUUID].checked=h,disabled:f(p),"hide-details":"",onChange:d},null,8,["label","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),o.Choices&&o.Choices.length>1&&x.value[o.OptionUUID].checked?(t(),k(Y,{key:0,cols:"12",sm:"6"},{default:a(()=>[i(Ae,{items:o.Choices.sort((h,c)=>h.Title.localeCompare(c.Title)).map(h=>({value:h.TagUUID,title:h.Title})),modelValue:x.value[o.OptionUUID].choiceId,"onUpdate:modelValue":h=>x.value[o.OptionUUID].choiceId=h,"item-value":"value","item-title":"title",variant:"outlined",disabled:f(p),"hide-details":"",onChange:d},null,8,["items","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)):q("",!0)]),_:2},1024)]),_:2},1024))),128)):q("",!0)]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]))}}),wl=["innerHTML"],El=me({__name:"HTML",props:{data:{}},setup(n){const T=n,g=M({html:""}),S=()=>{try{const L=JSON.parse(T.data);L&&(g.value=L)}catch{}};return S(),ne(T,()=>{S()}),(L,p)=>(t(),P("div",{innerHTML:g.value.html},null,8,wl))}}),Al={class:"interestList"},Ml=me({__name:"Interests",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(n,{emit:T}){const g=n,{admin:S=!1,convention:L,disabled:p=!1}=g,A=pe(n,"modelValue"),U=T,B=$e.getInstance(),x=M({});try{x.value=JSON.parse(A.value)}catch{}const I=M([]),l=M([]);ne(x.value,v=>{A.value=JSON.stringify(v)});const b=M([]),R=()=>{var w;const v=((w=g.items.find(u=>u.Title==="SelectedInterests"))==null?void 0:w.Value)||"[]";try{const u=JSON.parse(v);I.value=l.value.filter(o=>u.find(h=>h===o.InterestUUID))||[],b.value=[...I.value.map(o=>o.InterestUUID)]}catch{}};"ConventionUUID"in L&&(S?B==null||B.getConventionInterests(L.ConventionUUID).then(v=>{v&&(l.value=v,R())}):B==null||B.getConventionInterests(L.ConventionUUID).then(v=>{v&&(l.value=v,R())})),ne(g,()=>{R()});const d=(v=void 0)=>{setTimeout(()=>U("change",v),100)};return(v,w)=>(t(),P("div",Al,[j("h4",null,_(v.label),1),i(fe,{opened:b.value,"onUpdate:opened":w[0]||(w[0]=u=>b.value=u)},{default:a(()=>[(t(!0),P(J,null,le(I.value.sort((u,o)=>u.Order>o.Order?1:u.Order==o.Order?0:-1),u=>(t(),k(ve,{key:u.InterestUUID},{default:a(()=>[i(z,null,{default:a(()=>[i(Y,null,{default:a(()=>[i(ge,{label:`${u.Name} ${u.Price&&u.Price>0?`(${f(De).currencySymbol}${u.Price})`:""}`,modelValue:x.value[u.InterestUUID],"onUpdate:modelValue":o=>x.value[u.InterestUUID]=o,disabled:f(p),messages:u.Description,onChange:d},null,8,["label","modelValue","onUpdate:modelValue","disabled","messages"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["opened"])]))}}),Xe=(n,T,g)=>{if(g>=n.length){let S=g-n.length+1;for(;S--;)n.push(void 0)}n.splice(g,0,n.splice(T,1)[0])},Ee=n=>(ke(n),n),Rt=n=>(T,g)=>T[n]<g[n]?-1:T[n]>g[n]?1:0,Ol={class:"ticketList"},$l={key:0,class:"text-orange-darken-1"},Ll=me({__name:"Tickets",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(n,{emit:T}){const g=n,{admin:S=!1,convention:L,disabled:p=!1,registrationGroup:A=void 0}=g,U=pe(n,"modelValue"),B=T,x=$e.getInstance(),I=M({Ticket:[],AddonsChecked:[],ComponentsChecked:[]});try{I.value=JSON.parse(U.value),"ticket"in I.value&&(I.value.Ticket=I.value.ticket),"addonsChecked"in I.value&&(I.value.AddonsChecked=I.value.addonsChecked),"componentsChecked"in I.value&&(I.value.ComponentsChecked=I.value.componentsChecked)}catch{}const l=M([]),b=M([]),R=M([]),d=M({required:(h,c=void 0)=>()=>{if(p||!(A!=null&&A.Registration.Leader))return!0;if(c==null){if(I.value.Ticket.length===0&&g.required)return"Must select at least one ticket option.";if(h&&h.ComponentsRequired>0&&I.value.Ticket.includes(h.TicketUUID||"")){let G=0;if(h.TicketComponents.forEach(F=>{I.value.ComponentsChecked.forEach(W=>{F.TicketUUID===W&&(G+=1)})}),G<h.ComponentsRequired)return`Must select ticket ${h.ComponentsRequired} component${h.ComponentsRequired===1?"":"s"}`}}return!0}}),v=()=>{var c;const h=((c=g.items.find(G=>G.Title==="SelectedTickets"))==null?void 0:c.Value)||"[]";try{const G=JSON.parse(h);l.value=b.value.filter(F=>F.Type==="TICKET_TYPE_GROUP"&&G.find(W=>W===F.TicketUUID))||[],R.value=[...l.value.filter(F=>F.Type==="TICKET_TYPE_GROUP").map(F=>F.TicketUUID)]}catch{}};if("ConventionUUID"in L)if(S)x==null||x.getConventionTickets(L.ConventionUUID).then(h=>{h&&(b.value=h,v())});else{const h=g.items.find(c=>c.Title==="SelectedTickets");h&&(x==null||x.getFieldTickets(h.FieldUUID).then(c=>{c&&(b.value=c,v())}))}ne(g,()=>{v()});const w=h=>{I.value.Ticket.length>1&&I.value.Ticket.shift(),I.value.ComponentsChecked=[];const c=[];l.value.forEach(G=>{(I.value.Ticket.includes(G.TicketUUID)||I.value.ComponentsChecked.includes(G.TicketUUID))&&c.push(...G.AddonTickets.map(F=>F.TicketUUID))}),I.value.AddonsChecked=I.value.AddonsChecked.filter(G=>c.includes(G)),o(h)},u=h=>{const c=b.value.find(G=>G.TicketUUID===I.value.Ticket[0]);if(c)for(;I.value.ComponentsChecked.length>c.ComponentsRequired;)I.value.ComponentsChecked.shift();o(h)},o=(h=void 0)=>{U.value=JSON.stringify(I.value),setTimeout(()=>B("change",h),100)};try{A!=null&&A.TicketData&&(I.value=JSON.parse(A.TicketData),"ticket"in I.value&&(I.value.Ticket=I.value.ticket),"addonsChecked"in I.value&&(I.value.AddonsChecked=I.value.addonsChecked),"componentsChecked"in I.value&&(I.value.ComponentsChecked=I.value.componentsChecked),o())}catch{}return(h,c)=>{var G;return t(),P("div",Ol,[j("h4",null,[K(_(h.label)+" ",1),(G=f(A))!=null&&G.Registration.Leader?q("",!0):(t(),P("small",$l,"(controlled by group leader)"))]),i(fe,{opened:R.value,"onUpdate:opened":c[4]||(c[4]=F=>R.value=F)},{default:a(()=>[(t(!0),P(J,null,le(f(Ee)(l.value.filter(F=>F.Type===f(rl).TICKET_TYPE_GROUP)),F=>(t(),P(J,{key:F.TicketUUID},[F.Tickets.length>0?(t(),k(ze,{key:0,value:F.TicketUUID},{activator:a(({props:W})=>[i(ve,ye({ref_for:!0},W,{"prepend-icon":"mdi:mdi-group"}),{default:a(()=>[i(Te,null,{default:a(()=>[j("strong",null,_(F.Name),1)]),_:2},1024),i(Ie,{class:"d-inline"},{default:a(()=>[K(_(F.Description),1)]),_:2},1024)]),_:2},1040)]),default:a(()=>[(t(!0),P(J,null,le(F.Tickets,W=>(t(),k(ve,{key:W.TicketUUID,class:"override-pl"},{default:a(()=>{var C;return[i(Ie,{class:"d-inline"},{default:a(()=>[K(_(W.Description),1)]),_:2},1024),i(ge,{modelValue:I.value.Ticket,"onUpdate:modelValue":c[0]||(c[0]=r=>I.value.Ticket=r),value:W.TicketUUID,onChange:w,rules:[d.value.required(W)],"validate-on":"submit",disabled:f(p)||!((C=f(A))!=null&&C.Registration.Leader)},{label:a(()=>[i(Se,{icon:W.RequiresAccommodation?"mdi:mdi-home":W.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),K(" "+_(`${W.Name} ${W.Price>0?`(${f(De).currencySymbol}${W.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"]),I.value.Ticket.length>0&&W.TicketUUID===I.value.Ticket[0]?(t(),P(J,{key:0},[W.AddonTickets.length?(t(),k(fe,{key:0},{default:a(()=>[(t(!0),P(J,null,le(f(Ee)(W.AddonTickets),r=>(t(),P(J,{key:r==null?void 0:r.TicketUUID},[r?(t(),k(ve,{key:0},{default:a(()=>[i(Te,null,{default:a(()=>{var O;return[i(ge,{modelValue:I.value.AddonsChecked,"onUpdate:modelValue":c[1]||(c[1]=V=>I.value.AddonsChecked=V),value:r.TicketUUID,onChange:c[2]||(c[2]=V=>{I.value.ComponentsChecked=[],o(V)}),disabled:f(p)||!((O=f(A))!=null&&O.Registration.Leader)},{label:a(()=>[i(Se,{icon:r.RequiresAccommodation?"mdi:mdi-home-plus":r.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),K(" "+_(`${r.Name} ${r.Price>0?`(${f(De).currencySymbol}${r.Price})`:""}`),1)]),_:2},1032,["modelValue","value","disabled"])]}),_:2},1024),i(Ie,{class:"d-inline"},{default:a(()=>[K(_(r.Description),1)]),_:2},1024)]),_:2},1024)):q("",!0)],64))),128))]),_:2},1024)):q("",!0),W.TicketComponents.length?(t(),k(fe,{key:1},{default:a(()=>[(t(!0),P(J,null,le(f(Ee)(W.TicketComponents),r=>(t(),P(J,{key:r==null?void 0:r.TicketUUID},[r?(t(),k(ve,{key:0},{default:a(()=>[i(Te,null,{default:a(()=>{var O;return[i(ge,{modelValue:I.value.ComponentsChecked,"onUpdate:modelValue":c[3]||(c[3]=V=>I.value.ComponentsChecked=V),value:r.TicketUUID,onChange:u,rules:[d.value.required(W,r)],"validate-on":"submit",disabled:f(p)||!((O=f(A))!=null&&O.Registration.Leader)},{label:a(()=>[i(Se,{icon:r.RequiresAccommodation?"mdi:mdi-home-plus":r.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),K(" "+_(`${r.Name} ${r.Price>0?`(${f(De).currencySymbol}${r.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"])]}),_:2},1024),i(Ie,null,{default:a(()=>[K(_(r.Description),1)]),_:2},1024)]),_:2},1024)):q("",!0)],64))),128))]),_:2},1024)):q("",!0)],64)):q("",!0)]}),_:2},1024))),128))]),_:2},1032,["value"])):q("",!0)],64))),128))]),_:1},8,["opened"])])}}}),Rl={key:0},xl={class:"d-flex flex-wrap my-2"},ql={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1 align-content-center"},Pl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Bl={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1"},Hl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Gl=["href"],Yl=me({__name:"Accommodation",props:te({admin:{type:Boolean},convention:{},data:{},disabled:{type:Boolean},hint:{},items:{},label:{},name:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","update:items"],["update:modelValue"]),setup(n,{emit:T}){const g=n,{admin:S=!1,convention:L,disabled:p}=g,A=T,U=pe(n,"modelValue"),B=xe(g,A,void 0,void 0,"items"),x=Re(),I=Ze(),l=Ne.getInstance(),b=M(be(U.value)),R=M([]),d=M(),v=M({sharing:!1}),w=()=>{try{const s=JSON.parse(g.data);s&&(v.value=s)}catch{}};w(),ne(g,()=>{w(),g.registrationGroup&&(R.value=g.registrationGroup.Members,d.value=g.registrationGroup.Registration)}),ne(b,s=>{U.value=be(s)},{deep:!0});const u=M(""),o=M(!1),h=()=>{var s;(s=d.value)!=null&&s.Leader&&x.getRegistrationInvite(L.ConventionUUID).then(D=>{if(D){const se=new URL(location.href);se.searchParams.set("token",D),u.value=se.toString()}})},c=()=>{ml(u.value),h(),o.value=!0,setTimeout(()=>o.value=!1,2200)},G=(s=void 0)=>{setTimeout(()=>A("change",s),100)},F=M({required:s=>!g.required||s.length>0||"Selections Required"}),W=s=>s?`${s.Reference?`#${s.Reference}`:"(not registered)"} ${s.Name}`:"",C=()=>{var s;l.emit("registration.group.leave",(s=d.value)==null?void 0:s.RegistrationUUID)},r=s=>{l.emit("registration.group.remove.member",s)},O=M([]);ne(B,()=>{V()});const V=()=>{S?x.getConventionAccommodation(L.ConventionUUID).then(s=>{O.value=s.filter(D=>!!(B!=null&&B.value.find(se=>se.Value===D.AccommodationUUID)))||[]}):B.value.length>0&&x.getFieldAccommodation(B.value[0].FieldUUID).then(s=>{O.value=s.filter(D=>!!(B!=null&&B.value.find(se=>se.Value===D.AccommodationUUID)))||[]})};V(),(()=>{var s;if(g.registrationGroup)if(R.value=g.registrationGroup.Members,d.value=g.registrationGroup.Registration,(s=d.value)!=null&&s.Leader)h();else try{b.value=JSON.parse(g.registrationGroup.AccommodationData),G()}catch{}})();const X=M({column:0,id:""}),oe=()=>{!p&&!b.value.includes(X.value.id)&&(X.value.column===0&&X.value.id!==""&&b.value.push(X.value.id),G())},ie=()=>{const s=b.value.findIndex(D=>D===X.value.id);!p&&s>=0&&(b.value.splice(s,1),G())},he=()=>{if(p||X.value.column!==1)return;const s=b.value.findIndex(D=>D===X.value.id);s<=0||(Xe(b.value,s,s-1),G())},Q=()=>{if(p||X.value.column!==1)return;const s=b.value.findIndex(D=>D===X.value.id);s>=b.value.length-1||(Xe(b.value,s,s+1),G())};return(s,D)=>{var se;return t(),P(J,null,[j("h4",null,_(s.label),1),i(z,null,{default:a(()=>[i(Y,{cols:"12"},{default:a(()=>{var H,ee;return[R.value&&d.value&&v.value.sharing?(t(),P("div",Rl,[D[16]||(D[16]=j("strong",null,"Your Sharing Group",-1)),!f(p)&&((H=R.value.find(N=>N.IsLeader))==null?void 0:H.UUID)!==d.value.RegistrationUUID?(t(),k(Z,{key:0,color:"red",variant:"text",onClick:C},{default:a(()=>D[10]||(D[10]=[K("(leave group)")])),_:1})):q("",!0),j("dl",xl,[D[12]||(D[12]=j("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 font-weight-bold pa-1 pt-4"}," Leader: ",-1)),j("dd",ql,[i(He,{class:"rounded-circle d-inline-block",src:f(I).GetProfileImageURL(((ee=R.value.find(N=>N.IsLeader))==null?void 0:ee.UserUUID)||""),height:"32",width:"32"},null,8,["src"]),j("div",Pl,_(W(R.value.find(N=>N.IsLeader))),1)]),(t(!0),P(J,null,le(R.value,N=>(t(),P(J,{key:N.UUID},[N.IsLeader?q("",!0):(t(),P(J,{key:0},[D[11]||(D[11]=j("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 pa-1 pt-4"}," Member: ",-1)),j("dd",Bl,[i(He,{class:"rounded-circle d-inline-block",src:f(I).GetProfileImageURL(N.UserUUID),height:"32",width:"32"},null,8,["src"]),j("div",Hl,[K(_(W(N))+" ",1),d.value.Leader?(t(),k(Z,{key:0,variant:"text",class:"ml-4",icon:"mdi:mdi-close-circle",color:"red",size:"xs",title:"Remove Member",onClick:e=>r(N.UUID),disabled:f(p)},null,8,["onClick","disabled"])):q("",!0)])])],64))],64))),128))]),i(cl,{modelValue:o.value,"onUpdate:modelValue":D[0]||(D[0]=N=>o.value=N),message:"Invite Link Copied",timeout:2e3},null,8,["modelValue"]),u.value&&d.value.Leader&&!f(p)?(t(),P(J,{key:1},[j("a",{href:u.value,onClick:We(c,["prevent"]),class:"text-white text-decoration-none"},[i(Z,{color:"blue",class:"mb-2"},{default:a(()=>D[13]||(D[13]=[K("Get Invite Link")])),_:1})],8,Gl),D[14]||(D[14]=j("br",null,null,-1)),D[15]||(D[15]=j("small",null,"Link will be copied to clipboard for you to paste (ctrl+v) in to message or email",-1))],64)):q("",!0)])):q("",!0)]}),_:1})]),_:1}),d.value&&!d.value.Leader?(t(),k(z,{key:0},{default:a(()=>[i(Y,{cols:"10",md:"5"},{default:a(()=>[D[17]||(D[17]=j("strong",null,"Your Groups Accommodation",-1)),D[18]||(D[18]=j("br",null,null,-1)),D[19]||(D[19]=j("small",null,"(in order of preference, controlled by group leader)",-1)),i(fe,null,{default:a(()=>[(t(!0),P(J,null,le(b.value.map(H=>O.value.find(ee=>ee.AccommodationUUID==H)).filter(H=>H!==void 0),(H,ee)=>(t(),P(J,null,[H?(t(),k(ve,{key:H.AccommodationUUID,title:`${ee+1}. ${H.Name}`,class:Ce(X.value.column===1&&X.value.id===H.AccommodationUUID?"bg-blue-accent-3":"border-dashed border")},null,8,["title","class"])):q("",!0)],64))),256))]),_:1})]),_:1})]),_:1})):(t(),k(z,{key:1},{default:a(()=>[i(Y,{cols:"12",md:"5"},{default:a(()=>[D[20]||(D[20]=j("strong",null,"Accommodation Options",-1)),D[21]||(D[21]=j("br",null,null,-1)),i(fe,null,{default:a(()=>[(t(!0),P(J,null,le(O.value,H=>(t(),k(ve,{key:H.AccommodationUUID,title:H.Name,class:Ce(X.value.column===0&&X.value.id===H.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:ee=>X.value={column:0,id:H.AccommodationUUID},"append-icon":f(p)?"":"mdi:mdi-gesture-tap",onDblclick:D[1]||(D[1]=ee=>oe())},null,8,["title","class","onClick","append-icon"]))),128))]),_:1})]),_:1}),f(p)?q("",!0):(t(),k(Y,{key:0,cols:"12",md:"1"},{default:a(()=>[i(z,{class:"d-md-none"},{default:a(()=>[i(Y,{cols:"12",class:"text-center"},{default:a(()=>[i(Z,{icon:"mdi:mdi-arrow-down",size:"small",onClick:D[2]||(D[2]=H=>oe()),color:"primary",title:"Select"}),D[22]||(D[22]=K("   ")),i(Z,{icon:"mdi:mdi-arrow-up",size:"small",onClick:D[3]||(D[3]=H=>ie()),color:"secondary",title:"Remove"})]),_:1})]),_:1}),i(z,{class:"d-none d-md-flex h-100 align-content-center"},{default:a(()=>[i(Y,{cols:"12"},{default:a(()=>[i(Z,{icon:"mdi:mdi-arrow-right",size:"small",onClick:D[4]||(D[4]=H=>oe()),color:"primary",title:"Select"})]),_:1}),i(Y,{cols:"12"},{default:a(()=>[i(Z,{icon:"mdi:mdi-arrow-left",size:"small",onClick:D[5]||(D[5]=H=>ie()),color:"secondary",title:"Remove"})]),_:1})]),_:1})]),_:1})),i(Y,{cols:"10",md:"5"},{default:a(()=>[D[23]||(D[23]=j("strong",null,"Your Chosen Accommodation",-1)),i(fe,null,{default:a(()=>[(t(!0),P(J,null,le(b.value.map(H=>O.value.find(ee=>ee.AccommodationUUID==H)).filter(H=>H!==void 0),(H,ee)=>(t(),P(J,null,[H?(t(),k(ve,{key:H.AccommodationUUID,title:`${ee+1}. ${H.Name}`,class:Ce(X.value.column===1&&X.value.id===H.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:N=>X.value={column:1,id:(H==null?void 0:H.AccommodationUUID)||""},"append-icon":f(p)?"":"mdi:mdi-gesture-tap",onDblclick:D[6]||(D[6]=N=>ie())},null,8,["title","class","onClick","append-icon"])):q("",!0)],64))),256))]),_:1}),D[24]||(D[24]=j("small",null,"(in order of preference)",-1))]),_:1}),f(p)?q("",!0):(t(),k(Y,{key:1,cols:"2",md:"1"},{default:a(()=>[i(z,{class:"d-flex h-100 align-content-center mt-3"},{default:a(()=>[i(Y,{cols:"12"},{default:a(()=>[i(Z,{icon:"mdi:mdi-arrow-up",size:"small",onClick:D[7]||(D[7]=H=>he()),color:"primary",title:"Higher Priority"})]),_:1}),i(Y,{cols:"12"},{default:a(()=>[i(Z,{icon:"mdi:mdi-arrow-down",size:"small",onClick:D[8]||(D[8]=H=>Q()),color:"secondary",title:"Lower Priority"})]),_:1})]),_:1})]),_:1}))]),_:1})),(se=d.value)!=null&&se.Leader?(t(),k(Me,{key:2,modelValue:U.value,"onUpdate:modelValue":D[9]||(D[9]=H=>U.value=H),disabled:f(p)||!1,"persistent-hint":s.persistentHint||!1,"error-messages":s.errorMessages||"",rules:[F.value.required],class:"accommodation-field-warning"},null,8,["modelValue","disabled","persistent-hint","error-messages","rules"])):q("",!0)],64)}}}),Xl=me({__name:"AgeCheck",props:te({disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(n,{emit:T}){const g=T,S=n,L=xe(S,g,void 0,void 0,"items"),p=pe(n,"modelValue"),A=M({required:l=>!S.required||!!l||"Required.",min:l=>{var h,c;const b=new Date,R=b.getFullYear(),d=(b.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2}),v=b.getDate().toLocaleString("en-US",{minimumIntegerDigits:2}),w=((h=L.value.find(G=>G.Title=="MIN_AGE"))==null?void 0:h.Value)||"18",u=((c=L.value.find(G=>G.Title=="BEFORE_DATE"))==null?void 0:c.Value)||`${R}-${d}-${v}`,o=x(u);return B(l,u,parseInt(w))||`You must be at least ${w} years old by ${o.toLocaleDateString(navigator.language,{timeZone:"UTC"})}.`}}),U=()=>(g("blur"),!(A.value.min(p.value||"")!==!0||A.value.required(p.value||"")!==!0)),B=(l,b,R)=>{if(l>=b)return!1;const d=x(l),w=x(b).getTime()-d.getTime(),u=1e3*60*60*24*365.25;return w/u>=R},x=l=>{const[b,R,d]=l.split("-");return new Date(parseInt(b),parseInt(R)-1,parseInt(d))},I=(l=void 0)=>{setTimeout(()=>g("change",l),100)};return(l,b)=>(t(),k(Ue,{modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=R=>p.value=R),type:"date",hint:l.hint||"",label:l.label||"",name:l.name||"",variant:"outlined",disabled:l.disabled||!1,"persistent-hint":l.persistentHint||!1,"error-messages":l.errorMessages||"",rules:[A.value.required,A.value.min],onBlur:U,onChange:I},null,8,["modelValue","hint","label","name","disabled","persistent-hint","error-messages","rules"]))}});function Fe(n){const T=JSON.parse(n),g={charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0};return T&&(T.charge&&ce.isNumber(T.charge)&&(g.charge=T.charge),T.free&&ce.isNumber(T.free)&&(g.free=T.free),T.height&&ce.isNumber(T.height)&&(g.height=T.height),T.label&&ce.isBoolean(T.label)&&(g.label=T.label),T.maximum&&ce.isNumber(T.maximum)&&(g.maximum=T.maximum),T.tags&&Array.isArray(T.tags)&&(g.tags=T.tags),T.width&&ce.isNumber(T.width)&&(g.width=T.width)),g}const Fl={class:"text-center"},Jl={key:0},Wl={key:0,class:"image-progress my-auto mx-auto"},Kl=["onMousemove","onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend"],jl=["src","onLoad","onDragstart","onKeydown","onKeyup"],zl={key:0},_l={key:1},Zl=me({__name:"BadgeImage",props:te({disabled:{type:Boolean},hint:{},field:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registration:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(n,{emit:T}){var N;const g=T,S=n,L=pe(n,"modelValue"),p=M([]),A=M({charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0}),U=M(1),B=Re(),x=Ze(),I=M([]),l=M(""),b=M([]),R=M(),d=M([]),v=M([]),w=M([]),u=M(0),o=M(),h=M({imageNo:0,imageX:0,imageY:0,mouseDown:!1,mouseX:0,mouseY:0}),c=M(280),G=M(280),F=e=>{e+1>d.value.length||d.value[e]&&(p.value[e].left=parseInt(getComputedStyle(d.value[e]).left),p.value[e].top=parseInt(getComputedStyle(d.value[e]).top),p.value[e].height=d.value[e].height,p.value[e].width=d.value[e].width,L.value=JSON.stringify(p.value))},W=Le(()=>({"--preview-width":`${G.value}px`,"--preview-height":`${c.value}px`})),C=M([!1]);try{p.value=JSON.parse(L.value||"[]"),ce.isArray(p.value)||(ce.isObject(p.value)?p.value=[p.value]:p.value=[]),p.value.forEach((e,E)=>{e.fileUUID&&(v.value[E]=x.GetBadgeImageURL(e.fileUUID)),e.values||(S.field&&S.field.Values?e.values=S.field.Values.map(y=>({key:y.Value,value:""})):e.values=[]),S.field&&S.field.Values&&S.field.Values.forEach(y=>{e.values.find(m=>{if(m.key==y.Value)return!0})||e.values.push({key:y.Value,value:""})})}),U.value=p.value.length,S.field&&"Data"in S.field&&(A.value=Fe(((N=S.field)==null?void 0:N.Data)||"")),U.value===0&&A.value.maximum===1&&(U.value=1)}catch{}S.registration&&B.getConBadgeDisplayName(S.registration.RegistrationUUID).then(e=>{e&&(l.value=e)}).catch(()=>{});const r=(e,E)=>{d.value[e]=E},O=e=>{var E;try{e.field&&"Data"in e.field&&(A.value=Fe(((E=e.field)==null?void 0:E.Data)||"")),A.value.height&&(c.value=A.value.height),A.value.width&&(G.value=A.value.width)}catch{}V()},V=()=>{if(U.value>p.value.length)for(let e=0;e<U.value-p.value.length;e+=1){let E=[];S.field&&S.field.Values&&(E=S.field.Values.map(y=>({key:y.Value,value:""}))),p.value.push({fileUUID:"",height:0,label:"",left:0,top:0,values:E,width:0})}else U.value<p.value.length&&U.value>=0&&(p.value=p.value.slice(0,U.value));if(U.value>b.value.length){const e=b.value.length;for(let E=0;E<U.value-e;E+=1)b.value.push(!0)}else U.value<b.value.length&&U.value>=0&&(b.value=b.value.slice(0,U.value));if(U.value>v.value.length){const e=v.value.length;for(let E=0;E<U.value-e;E+=1)v.value.push("")}else U.value<v.value.length&&U.value>=0&&(v.value=v.value.slice(0,U.value));if(U.value>w.value.length){const e=w.value.length;for(let E=0;E<U.value-e;E+=1)w.value.push(!1)}else U.value<w.value.length&&U.value>=0&&(w.value=w.value.slice(0,U.value));if(U.value>C.value.length){const e=C.value.length;for(let E=0;E<U.value-e;E+=1)C.value.push(!1)}else U.value<C.value.length&&U.value>=0&&(C.value=C.value.slice(0,U.value));L.value=JSON.stringify(p.value)};ne(S,e=>{O(e)}),O(S),ne(U,()=>{V()});const $=M({required:e=>!S.required||!!e||"Required.",saved:e=>!b.value[e]||"File not uploaded."}),X=()=>(g("blur"),$.value.required(L.value||"")!==!0),oe=(e,E=void 0)=>{p.value[e].top=0,p.value[e].left=0,p.value[e].width=0,p.value[e].height=0,he(e).then(()=>{setTimeout(()=>{ie(e)},100),setTimeout(()=>g("change",E),200)}).catch(()=>{})},ie=e=>{R.value[e].files.length>0&&(v.value[e]=URL.createObjectURL(R.value[e].files[0]))},he=async e=>{if(!I.value[e])return;const E=new FormData(I.value[e].$el);b.value[e]=!1,w.value[e]=!0;const y=await x.SaveFormFile(E);y.Saved&&(w.value[e]=!1,b.value[e]=!0,p.value[e].fileUUID=y.FileUUID,C.value[e]=!0)},Q=(e,E)=>{const y=E.target;y.style.left="0px",y.style.top="0px",y.width>y.height?y.width=G.value*(y.width/y.height):y.width=G.value,y.classList.remove("d-none"),e>=0&&e<U.value&&F(e)},s=(e,E,y=0,re=void 0)=>{if(re&&re.type)switch(re.type){case"touchstart":case"touchend":re.preventDefault();break}let m=500;if(!u.value)u.value=Date.now();else{const de=Date.now()-u.value;de>=3e3?m=1:de>=2500?m=2:de>=2e3?m=5:de>=1500?m=12:de>=1e3?m=25:de>=500?m=50:de>=250&&(m=100)}switch(y!==m&&(clearInterval(o.value),o.value=setInterval(()=>{s(e,E,m)},m)),E){case 0:u.value=0,clearInterval(o.value),F(e);break;case 6:d.value[e].width-=1;break;case 5:d.value[e].width+=1;break;case 1:d.value[e].style.top=`${(parseInt(getComputedStyle(d.value[e]).top)||0)-1}px`;break;case 2:d.value[e].style.left=`${(parseInt(getComputedStyle(d.value[e]).left)||0)+1}px`;break;case 3:d.value[e].style.top=`${(parseInt(getComputedStyle(d.value[e]).top)||0)+1}px`;break;case 4:d.value[e].style.left=`${(parseInt(getComputedStyle(d.value[e]).left)||0)-1}px`;break}se(e)},D=(e,E)=>{switch(e===-1&&(e=h.value.imageNo),E.type){case"touchstart":E.preventDefault(),h.value.imageX=parseInt(getComputedStyle(d.value[e]).left),h.value.imageY=parseInt(getComputedStyle(d.value[e]).top),h.value.mouseX=E.touches[0].clientX,h.value.mouseY=E.touches[0].clientY,h.value.mouseDown=!0;break;case"mousedown":h.value.imageNo=e,h.value.imageX=parseInt(getComputedStyle(d.value[e]).left),h.value.imageY=parseInt(getComputedStyle(d.value[e]).top),h.value.mouseX=E.clientX,h.value.mouseY=E.clientY,h.value.mouseDown=!0;break;case"touchend":E.preventDefault();case"mouseup":h.value.mouseDown=!1,F(e);break;case"touchmove":if(!h.value.mouseDown)return;d.value[e].style.left=`${h.value.imageX+(E.touches[0].clientX-h.value.mouseX)}px`,d.value[e].style.top=`${h.value.imageY+(E.touches[0].clientY-h.value.mouseY)}px`;break;case"mousemove":if(!h.value.mouseDown)return;d.value[e].style.left=`${h.value.imageX+(E.clientX-h.value.mouseX)}px`,d.value[e].style.top=`${h.value.imageY+(E.clientY-h.value.mouseY)}px`;break;case"dragstart":E.preventDefault();break;case"keydown":switch(E.key){case"ArrowUp":E.preventDefault(),s(e,1);break;case"ArrowRight":E.preventDefault(),s(e,2);break;case"ArrowDown":E.preventDefault(),s(e,3);break;case"ArrowLeft":E.preventDefault(),s(e,4);break;case"+":E.preventDefault(),s(e,5);break;case"-":E.preventDefault(),s(e,6);break}break;case"keyup":s(e,0),F(e);break}se(e)},se=e=>{if(!(e+1>d.value.length)){if(d.value[e].width<G.value&&(d.value[e].width=G.value),d.value[e].height<c.value){const E=c.value-d.value[e].height,y=d.value[e].width/d.value[e].height;d.value[e].width+=Math.ceil(E*y)}(parseInt(getComputedStyle(d.value[e]).left)||0)>0&&(d.value[e].style.left="0px"),(parseInt(getComputedStyle(d.value[e]).top)||0)>0&&(d.value[e].style.top="0px"),(parseInt(getComputedStyle(d.value[e]).left)||0)<0-(d.value[e].width-G.value)&&(d.value[e].style.left=`${0-(d.value[e].width-G.value)}px`),(parseInt(getComputedStyle(d.value[e]).top)||0)<0-(d.value[e].height-c.value)&&(d.value[e].style.top=`${0-(d.value[e].height-c.value)}px`)}},H=()=>{try{clearInterval(o.value)}catch{}h.value.mouseDown=!1,u.value=0,h.value.imageNo&&F(h.value.imageNo)},ee=e=>{D(-1,e)};return window.addEventListener("mouseup",H),window.addEventListener("mousemove",ee),window.addEventListener("touchend",H),window.addEventListener("touchmove",ee),el(()=>{window.removeEventListener("mouseup",H),window.removeEventListener("mousemove",ee),window.removeEventListener("touchend",H),window.removeEventListener("touchmove",ee)}),(e,E)=>(t(),P("div",null,[(t(!0),P(J,null,le(U.value,y=>(t(),P("div",{style:ll(W.value),key:y},[i(Qe,{ref_for:!0,ref_key:"badgeImageForm",ref:I,enctype:"multipart/form-data"},{default:a(()=>{var re;return[i(z,null,{default:a(()=>[i(Y,null,{default:a(()=>[i(hl,{label:e.label||"",hint:e.hint||"",name:e.name?"name":"badgeFile",variant:"outlined",ref_for:!0,ref_key:"imageFileInput",ref:R,accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",rules:[$.value.required],"error-messages":e.errorMessages||"","persistent-hint":e.persistentHint||!1,disabled:!b.value[y-1]||e.disabled||!1,"hide-details":"",onChange:m=>oe(y-1,m),onBlur:X},null,8,["label","hint","name","rules","error-messages","persistent-hint","disabled","onChange"]),j("p",Fl,[b.value[y-1]?q("",!0):(t(),P("small",Jl,"File Uploading"))])]),_:2},1024)]),_:2},1024),A.value.label?(t(),k(z,{key:0},{default:a(()=>[i(Y,null,{default:a(()=>[i(Ue,{label:"Display Name",variant:"outlined","prepend-icon":"mdi:mdi-label-outline","hide-details":"",modelValue:p.value[y-1].label,"onUpdate:modelValue":m=>p.value[y-1].label=m,onInput:m=>F(y-1),onChange:m=>F(y-1)},null,8,["modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024)]),_:2},1024)):q("",!0),(re=e.field)!=null&&re.Multiple&&e.field.Values.length>0?(t(),k(z,{key:1},{default:a(()=>[(t(!0),P(J,null,le(e.field.Values,(m,de)=>(t(),k(Y,{cols:"12",sm:"6",md:"6",lg:"4",xl:"3",xxl:"2",key:m.FieldValueUUID},{default:a(()=>[i(Ue,{label:m.Title,variant:"outlined","prepend-icon":"mdi:mdi-label-outline","hide-details":"",modelValue:p.value[y-1].values[de].value,"onUpdate:modelValue":Ve=>p.value[y-1].values[de].value=Ve,onInput:Ve=>F(y-1),onChange:Ve=>F(y-1)},null,8,["label","modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024))),128))]),_:2},1024)):q("",!0),i(z,{class:"justify-center scale-down"},{default:a(()=>[i(Y,{cols:"12",class:"text-center"},{default:a(()=>[E[3]||(E[3]=K(" Preview ")),w.value[y-1]?(t(),P("div",Wl,[i(dl,{indeterminate:"",color:"primary",size:128,width:10},{default:a(()=>E[2]||(E[2]=[K("Uploading")])),_:1})])):(t(),P(J,{key:1},[j("div",{class:"image-preview my-auto mx-auto",onMousemove:m=>D(y-1,m),onMousedown:m=>D(y-1,m),onMouseup:m=>D(y-1,m),onTouchstart:m=>D(y-1,m),onTouchmove:m=>D(y-1,m),onTouchend:m=>D(y-1,m)},[j("img",{src:v.value[y-1],ref_for:!0,ref:m=>r(y-1,m),alt:"Your badge image",onLoad:m=>Q(y-1,m),onDragstart:m=>D(y-1,m),onKeydown:m=>D(y-1,m),onKeyup:m=>D(y-1,m),tabindex:"0",class:"d-none"},null,40,jl)],40,Kl),A.value.label?(t(),P("h3",zl,_(p.value[y-1].label),1)):(t(),P("h3",_l,_(l.value),1))],64))]),_:2},1024)]),_:2},1024),C.value[y-1]?(t(),k(z,{key:2,class:"justify-center"},{default:a(()=>[i(Y,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:a(()=>[i(Z,{icon:"mdi:mdi-arrow-left",color:"primary",onMousedown:m=>s(y-1,4,0,m),onMouseup:m=>s(y-1,0,0,m),onTouchstart:m=>s(y-1,4,0,m),onTouchend:m=>s(y-1,0,0,m)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Z,{icon:"mdi:mdi-arrow-up",color:"secondary",onMousedown:m=>s(y-1,1,0,m),onMouseup:m=>s(y-1,0,0,m),onTouchstart:m=>s(y-1,1,0,m),onTouchend:m=>s(y-1,0,0,m)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Z,{icon:"mdi:mdi-arrow-down",color:"secondary",onMousedown:m=>s(y-1,3,0,m),onMouseup:m=>s(y-1,0,0,m),onTouchstart:m=>s(y-1,3,0,m),onTouchend:m=>s(y-1,0,0,m)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Z,{icon:"mdi:mdi-arrow-right",color:"primary",onMousedown:m=>s(y-1,2,0,m),onMouseup:m=>s(y-1,0,0,m),onTouchstart:m=>s(y-1,2,0,m),onTouchend:m=>s(y-1,0,0,m)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):q("",!0),C.value[y-1]?(t(),k(z,{key:3,class:"justify-center"},{default:a(()=>[i(Y,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:a(()=>[i(Z,{icon:"mdi:mdi-plus",color:"primary",onMousedown:m=>s(y-1,5,0,m),onMouseup:m=>s(y-1,0,0,m),onTouchstart:m=>s(y-1,5,0,m),onTouchend:m=>s(y-1,0,0,m)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Z,{icon:"mdi:mdi-minus",color:"secondary",onMousedown:m=>s(y-1,6,0,m),onMouseup:m=>s(y-1,0,0,m),onTouchstart:m=>s(y-1,6,0,m),onTouchend:m=>s(y-1,0,0,m)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):q("",!0)]}),_:2},1536)],4))),128)),A.value.maximum===0||A.value.maximum>1?(t(),k(z,{key:0},{default:a(()=>[i(Y,{class:"text-right"},{default:a(()=>[i(Ge,{text:"Add Badge",location:"top"},{activator:a(({props:y})=>[i(Z,ye({color:"success",icon:"mdi:mdi-plus",size:"xs",variant:"flat",disabled:e.disabled||U.value>=A.value.maximum&&A.value.maximum>0||!1},y,{onClick:E[0]||(E[0]=re=>U.value<A.value.maximum||A.value.maximum===0?U.value+=1:null)}),null,16,["disabled"])]),_:1})]),_:1}),i(Y,null,{default:a(()=>[i(Ge,{text:"Remove Badge",location:"top"},{activator:a(({props:y})=>[i(Z,ye({color:"error",icon:"mdi:mdi-minus",size:"xs",variant:"flat",disabled:e.disabled||U.value==0||!1},y,{onClick:E[1]||(E[1]=re=>U.value>=1?U.value-=1:null)}),null,16,["disabled"])]),_:1})]),_:1})]),_:1})):q("",!0)]))}}),Ql=tl(Zl,[["__scopeId","data-v-62cc2d65"]]),Nl=Ke({...yl({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),et=je()({name:"VRadio",props:Nl(),setup(n,T){let{slots:g}=T;return _e(()=>{const S=Oe.filterProps(n);return i(Oe,ye(S,{class:["v-radio",n.class],style:n.style,type:"radio"}),g)}),{}}}),lt=Ke({height:{type:[Number,String],default:"auto"},...fl(),...al(bl(),["multiple"]),trueIcon:{type:qe,default:"$radioOn"},falseIcon:{type:qe,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),tt=je()({name:"VRadioGroup",inheritAttrs:!1,props:lt(),emits:{"update:modelValue":n=>!0},setup(n,T){let{attrs:g,slots:S}=T;const L=nl(),p=Le(()=>n.id||`radio-group-${L}`),A=ul(n,"modelValue");return _e(()=>{const[U,B]=sl(g),x=Me.filterProps(n),I=Oe.filterProps(n),l=S.label?S.label({label:n.label,props:{for:p.value}}):n.label;return i(Me,ye({class:["v-radio-group",n.class],style:n.style},U,x,{modelValue:A.value,"onUpdate:modelValue":b=>A.value=b,id:p.value}),{...S,default:b=>{let{id:R,messagesId:d,isDisabled:v,isReadonly:w}=b;return i(J,null,[l&&i(pl,{id:R.value},{default:()=>[l]}),i(Ul,ye(I,{id:R.value,"aria-describedby":d.value,defaultsTarget:"VRadio",trueIcon:n.trueIcon,falseIcon:n.falseIcon,type:n.type,disabled:v.value,readonly:w.value,"aria-labelledby":l?R.value:void 0,multiple:!1},B,{modelValue:A.value,"onUpdate:modelValue":u=>A.value=u}),S)])}})}),{}}}),Je=me({__name:"FormField",props:te({admin:{type:Boolean},convention:{},name:{},field:{},disabled:{type:Boolean},maxLength:{},minLength:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","input","update:field"],["update:modelValue"]),setup(n,{emit:T}){const g=n,{admin:S=!1,disabled:L=!1,persistentHint:p=!1,required:A=!1}=g,U=M(""),B=pe(n,"modelValue"),x=T,I=xe(g,x,void 0,void 0,"field"),l=M(be(I.value)),b=M({maxlength:u=>!g.maxLength||u.length<=g.maxLength||`Maximum length is ${g.maxLength} characters. (Current length: ${u.length})`,minlength:u=>!g.minLength||u.length>=g.minLength||`Minimum length is ${g.minLength} characters. (Current length: ${u.length})`,required:u=>!g.required||!!u.replace(/\s/g,"")||"Required field."}),R=M(!1),d=M([]),v=M("");try{const u=JSON.parse(B.value);Array.isArray(u)?d.value=u:d.value=[],typeof u=="boolean"?R.value=u:R.value=!1,v.value=B.value}catch{R.value=!1,d.value=[],v.value=B.value}ne(R,()=>{B.value=JSON.stringify(R.value),x("input"),x("change")}),ne(d,()=>{B.value=JSON.stringify(d.value),x("input"),x("change")},{deep:!0}),ne(v,()=>{B.value=v.value,x("input"),x("change")}),ne(I.value,()=>{l.value.Type!==I.value.Type?(l.value=be(I.value),R.value=!1,d.value=[],v.value=""):l.value=be(I.value)});const w=(u=void 0)=>{x("change",u)};return(u,o)=>{var h;return l.value.Type===f(ae).TEXT?(t(),k(Ue,{key:0,modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=c=>v.value=c),name:u.name||"",hint:l.value.Hint,label:`${l.value.Label}${f(A)?"*":""}`,placeholder:l.value.Placeholder,variant:"outlined",disabled:f(L)||!1,"persistent-hint":f(p)||!1,"error-messages":U.value,rules:[b.value.maxlength,b.value.minlength,b.value.required],onChange:w,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===f(ae).DATE?(t(),k(Ue,{key:1,modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=c=>v.value=c),type:"date",name:u.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:f(L)||!1,"persistent-hint":f(p)||!1,"error-messages":U.value,rules:[b.value.maxlength,b.value.minlength,b.value.required],onChange:w,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===f(ae).NUMBER?(t(),k(Ue,{key:2,modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=c=>v.value=c),type:"number",name:u.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:f(L)||!1,"persistent-hint":f(p)||!1,"error-messages":U.value,rules:[b.value.maxlength,b.value.minlength,b.value.required],onChange:w,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===f(ae).TEXTAREA?(t(),k(gl,{key:3,modelValue:v.value,"onUpdate:modelValue":o[3]||(o[3]=c=>v.value=c),name:u.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:f(L)||!1,"persistent-hint":f(p)||!1,"error-messages":U.value,rules:[b.value.maxlength,b.value.minlength,b.value.required],onChange:w,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===f(ae).CHECKBOX?(t(),P(J,{key:4},[l.value.Multiple?(t(!0),P(J,{key:0},le(l.value.Values,c=>(t(),k(ge,{key:c.ID,modelValue:d.value,"onUpdate:modelValue":o[4]||(o[4]=G=>d.value=G),name:u.name||"",hint:l.value.Hint,label:c.Title,value:c.Value,disabled:f(L)||!1,"persistent-hint":f(p),"error-messages":U.value,rules:[b.value.required],onChange:w},null,8,["modelValue","name","hint","label","value","disabled","persistent-hint","error-messages","rules"]))),128)):(t(),k(ge,{key:1,modelValue:R.value,"onUpdate:modelValue":o[5]||(o[5]=c=>R.value=c),name:u.name||"",hint:l.value.Hint,label:l.value.Label,disabled:f(L)||!1,"persistent-hint":f(p),"error-messages":U.value,required:f(A),rules:[c=>!f(A)||!!c||"You must tick to continue!"],onChange:w},null,8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","required","rules"]))],64)):l.value.Type===f(ae).SELECT?(t(),P(J,{key:5},[!l.value.Autofill&&l.value.Multiple?(t(),k(Ae,{key:0,modelValue:d.value,"onUpdate:modelValue":o[6]||(o[6]=c=>d.value=c),name:u.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:f(L)||!1,"persistent-hint":f(p)||!1,"error-messages":U.value,rules:[b.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill&&l.value.Multiple?(t(),k(Ye,{key:1,modelValue:d.value,"onUpdate:modelValue":o[7]||(o[7]=c=>d.value=c),name:u.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:f(L)||!1,"persistent-hint":f(p)||!1,"error-messages":U.value,rules:[b.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill?l.value.Autofill?(t(),k(Ye,{key:3,modelValue:v.value,"onUpdate:modelValue":o[9]||(o[9]=c=>v.value=c),name:u.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:f(L)||!1,"persistent-hint":f(p)||!1,"error-messages":U.value,rules:[b.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):q("",!0):(t(),k(Ae,{key:2,modelValue:v.value,"onUpdate:modelValue":o[8]||(o[8]=c=>v.value=c),name:u.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:f(L)||!1,"persistent-hint":f(p)||!1,"error-messages":U.value,rules:[b.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"]))],64)):l.value.Type===f(ae).RADIO?(t(),k(tt,{key:6,modelValue:v.value,"onUpdate:modelValue":o[10]||(o[10]=c=>v.value=c),name:u.name||"",hint:l.value.Hint,label:l.value.Label,disabled:f(L)||!1,"persistent-hint":f(p),"error-messages":U.value,rules:[b.value.required],onChange:w},{default:a(()=>[(t(!0),P(J,null,le(l.value.Values,c=>(t(),k(et,{key:c.Value,label:c.Title,value:c.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","rules"])):l.value.Type===f(ae).ACCOMMODATION?(t(),k(Yl,{key:7,modelValue:d.value,"onUpdate:modelValue":o[11]||(o[11]=c=>d.value=c),name:u.name,admin:f(S),convention:u.convention,"registration-group":u.registrationGroup,data:u.field.Data,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:f(L)||!1,"persistent-hint":f(p),"error-messages":U.value,required:f(A),onChange:w},null,8,["modelValue","name","admin","convention","registration-group","data","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===f(ae).AGE?(t(),k(Xl,{key:8,modelValue:v.value,"onUpdate:modelValue":o[12]||(o[12]=c=>v.value=c),name:u.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:f(L)||!1,"persistent-hint":f(p),"error-messages":U.value,onChange:w},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===f(ae).BADGE_IMAGE?(t(),k(Ql,{key:9,modelValue:v.value,"onUpdate:modelValue":o[13]||(o[13]=c=>v.value=c),name:u.name,field:l.value,registration:(h=u.registrationGroup)==null?void 0:h.Registration,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:f(L)||!1,"persistent-hint":f(p),"error-messages":U.value,onChange:w},null,8,["modelValue","name","field","registration","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===f(ae).EXTRAS?(t(),k(Sl,{key:10,modelValue:v.value,"onUpdate:modelValue":o[14]||(o[14]=c=>v.value=c),admin:f(S),convention:u.convention,name:u.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:f(L)||!1,"persistent-hint":f(p),"error-messages":U.value,required:f(A),onChange:w},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===f(ae).INTERESTS?(t(),k(Ml,{key:11,modelValue:v.value,"onUpdate:modelValue":o[15]||(o[15]=c=>v.value=c),admin:f(S),convention:u.convention,name:u.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:f(L)||!1,"persistent-hint":f(p),"error-messages":U.value,required:f(A),onChange:w},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===f(ae).TICKET?(t(),k(Ll,{key:12,modelValue:v.value,"onUpdate:modelValue":o[16]||(o[16]=c=>v.value=c),admin:f(S),convention:u.convention,name:u.name,"registration-group":u.registrationGroup,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:f(L)||!1,"persistent-hint":f(p),"error-messages":U.value,required:f(A),onChange:w},null,8,["modelValue","admin","convention","name","registration-group","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===f(ae).HTML?(t(),k(El,{key:13,data:u.field.Data},null,8,["data"])):q("",!0)}}}),at={key:0,class:"my-2 text-white text-center"},nt={key:1,class:"admin-header my-2 text-white text-center"},ut=["innerHTML"],st=["innerHTML"],xt=me({__name:"FormRenderer",props:te({admin:{type:Boolean},convention:{},data:{},editable:{type:Boolean},preview:{type:Boolean},registrationGroup:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["close"],["update:modelValue"]),setup(n,{emit:T}){const g=T,S=pe(n,"modelValue");ke(S.value.Sections),S.value.Sections.forEach(C=>{C.Fields&&ke(C.Fields)});const L=M(),p=Il(),A=Re(),U=M(!1),B=M(!1),x=M(!1),I=M(!1),l=M(!1),b=M(!1),R=M(!1),d=M(!1),v=M(!1),w=M(!1),u=M(!1),o=M((()=>{if(n.data!==void 0){const r=be(n.data);return S.value.Sections.forEach(O=>{O.Fields&&O.Fields.forEach(V=>{const $=n.data.Data.find(X=>X.SectionFieldUUID===V.SectionFieldUUID&&X.SectionFieldUUID==V.SectionFieldUUID);if($)V.Value=$.Data;else{const X={ID:0,SubmissionDataUUID:we(),SubmissionID:n.data.ID,SubmissionUUID:n.data.SubmissionUUID,SectionID:O.ID,SectionUUID:O.SectionUUID,SectionFieldID:V.ID,SectionFieldUUID:V.SectionFieldUUID,Data:V.Value,CreatedAt:"",DeletedAt:"",UpdatedAt:""};r.Data.push(X),V.Value=""}})}),r}const C={ID:0,SubmissionUUID:we(),FormID:S.value.ID,FormUUID:S.value.FormUUID,UserID:(p==null?void 0:p.ID)||0,UserUUID:(p==null?void 0:p.UserUUID)||"",Data:[],Status:il.SUBMISSION_STATUS_OPEN};return C.Data=S.value.Sections.map(r=>r.Fields?r.Fields.map(O=>({ID:0,SubmissionDataUUID:we(),SubmissionID:C.ID,SubmissionUUID:C.SubmissionUUID,SectionID:r.ID,SectionUUID:r.SectionUUID,SectionFieldID:O.ID,SectionFieldUUID:O.SectionFieldUUID,Data:""})):[]).flat(),C})()),h=(C,r,O)=>{const V=o.value.Data.find($=>$.SectionUUID===C&&$.SectionFieldUUID===r);V&&(V.Data=O)},c=(C,r,O,V,$)=>C!=null&&C.State.Independent?"/":C&&C.Type===ue.FORM_TYPE_REGISTRATION?r&&!r.State.Independent&&(r.State.New||r.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/accommodation`:O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/dealer`:V&&!V.State.Independent&&(V.State.New||V.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/badge`:$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":C&&C.Type===ue.FORM_TYPE_ACCOMMODATION?O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/dealer`:V&&!V.State.Independent&&(V.State.New||V.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/badge`:$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":C&&C.Type===ue.FORM_TYPE_DEALER?V&&!V.State.Independent&&(V.State.New||V.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/badge`:$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":C&&C.Type===ue.FORM_TYPE_BADGE?$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":(C&&C.Type===ue.FORM_TYPE_ADDITIONAL,"/"),G=({callback:C})=>{A.getRegistrationByConvention(n.convention.ConventionUUID).then(r=>{C&&C("Loading"),A.getAvailableConventionForms(n.convention.ConventionUUID).then(O=>{r.Submissions.forEach((Q,s)=>{Q.Form||(r.Submissions[s].Form=O.find(D=>D.FormUUID===Q.FormUUID))});const V=r.Submissions.find(Q=>Q.FormUUID===o.value.FormUUID),$=r.Submissions.find(Q=>{var s;return((s=Q.Form)==null?void 0:s.Type)===ue.FORM_TYPE_ACCOMMODATION}),X=r.Submissions.find(Q=>{var s;return((s=Q.Form)==null?void 0:s.Type)===ue.FORM_TYPE_ADDITIONAL}),oe=r.Submissions.find(Q=>{var s;return((s=Q.Form)==null?void 0:s.Type)===ue.FORM_TYPE_DEALER}),ie=r.Submissions.find(Q=>{var s;return((s=Q.Form)==null?void 0:s.Type)===ue.FORM_TYPE_BADGE}),he=c(V==null?void 0:V.Form,$==null?void 0:$.Form,oe==null?void 0:oe.Form,ie==null?void 0:ie.Form,X==null?void 0:X.Form);Pe.push(he)})})},F=({callback:C})=>{var r;(r=L.value)==null||r.validate().then(O=>{O.valid?A.saveSubmission(o.value).then(V=>{V?setTimeout(()=>{W(V,C,1)},1e3):C&&C("Failed to process request")}).catch(()=>{C&&C("Failed to process request")}):C&&C("Errors in form detected, please review and try again.")})},W=(C,r,O=1)=>{A.checkSubmission(C).then(V=>{if(V)if(V.Ready&&V.Submission){if(U.value=!1,o.value=V.Submission,r&&r("Saved"),n.admin)g("close");else if(V.Forms&&V.Forms.length>0){const $=V.Forms.find(s=>s.FormUUID===o.value.FormUUID),X=V.Forms.find(s=>s.Type===ue.FORM_TYPE_ACCOMMODATION),oe=V.Forms.find(s=>s.Type===ue.FORM_TYPE_DEALER),ie=V.Forms.find(s=>s.Type===ue.FORM_TYPE_BADGE),he=V.Forms.find(s=>s.Type===ue.FORM_TYPE_ADDITIONAL),Q=c($,X,oe,ie,he);Pe.push(Q)}}else{if(O>5&&(U.value=!0),O>10&&(B.value=!0),O>20&&(x.value=!0),O>30&&(I.value=!0),O>40&&(l.value=!0),O>50&&(b.value=!0),O>60&&(R.value=!0),O>70&&(d.value=!0),O>80&&(v.value=!0),O>90&&(w.value=!0),O>100&&(u.value=!0),O>200){r&&(U.value=!1,B.value=!1,x.value=!1,I.value=!1,l.value=!1,b.value=!1,R.value=!1,d.value=!1,v.value=!1,w.value=!1,u.value=!1,r("A problem was encountered during saving, please check form and try again."));return}setTimeout(()=>{W(C,r,O+1)},O<20?1e3*O:2e4)}else r&&(U.value=!1,B.value=!1,x.value=!1,I.value=!1,l.value=!1,b.value=!1,R.value=!1,d.value=!1,v.value=!1,w.value=!1,u.value=!1,r("A problem was encountered during saving, please check form and try again."))}).catch(()=>{r&&(U.value=!1,B.value=!1,x.value=!1,I.value=!1,l.value=!1,b.value=!1,R.value=!1,d.value=!1,v.value=!1,w.value=!1,u.value=!1,r("A problem was encountered during saving, please check form and try again."))})};return(C,r)=>{const O=ol("router-link");return t(),k(vl,null,{default:a(()=>[i(Qe,{ref_key:"formValidator",ref:L,autocomplete:"off",onSubmit:r[1]||(r[1]=We(()=>{},["prevent"]))},{default:a(()=>[S.value.Heading?(t(),P("h1",at,_(S.value.Heading),1)):q("",!0),C.admin?(t(),P("h2",nt," (Admin Mode) ")):q("",!0),S.value.Description?(t(),P("div",{key:2,class:"my-2 form-description-container pa-5 border rounded-lg text-black",innerHTML:S.value.Description},null,8,ut)):q("",!0),(t(!0),P(J,null,le(S.value.Sections,V=>(t(),k(Dl,{key:`section_${S.value.ID}.${V.ID}`,class:"my-4 section-container rounded-lg",elevation:"4"},{default:a(()=>[V.Heading?(t(),k(kl,{key:0},{default:a(()=>[K(_(V.Heading),1)]),_:2},1024)):q("",!0),V.Description?(t(),k(Tl,{key:1,class:"text-wrap"},{default:a(()=>[j("div",{innerHTML:V.Description},null,8,st)]),_:2},1024)):q("",!0),V.Fields?(t(),k(Vl,{key:2},{default:a(()=>[(t(!0),P(J,null,le(V.Fields,$=>(t(),P(J,{key:`field_${S.value.ID}.${V.ID}.${$.ID}`},[$.Field?(t(),k(z,{key:0},{default:a(()=>[i(Y,null,{default:a(()=>[C.editable?(t(),k(Je,{key:0,name:$.SectionFieldUUID,field:$.Field,modelValue:$.Value,"onUpdate:modelValue":X=>$.Value=X,admin:C.admin,convention:C.convention,"registration-group":C.registrationGroup,required:$.Required,"min-length":$.MinLength,"max-length":$.MaxLength,"persistent-hint":!0,onChange:X=>h(V.SectionUUID,$.SectionFieldUUID,$.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"])):(t(),k(Je,{key:1,name:$.SectionFieldUUID,field:$.Field,modelValue:$.Value,"onUpdate:modelValue":X=>$.Value=X,admin:C.admin,convention:C.convention,"registration-group":C.registrationGroup,required:$.Required,"min-length":$.MinLength,"max-length":$.MaxLength,"persistent-hint":!0,disabled:"",onChange:X=>h(V.SectionUUID,$.SectionFieldUUID,$.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"]))]),_:2},1024)]),_:2},1024)):q("",!0)],64))),128))]),_:2},1024)):q("",!0)]),_:2},1024))),128)),C.preview?q("",!0):(t(),P(J,{key:3},[i(z,null,{default:a(()=>[C.admin?(t(),k(Y,{key:1,class:"text-right"},{default:a(()=>[i(Z,{color:"red",onClick:r[0]||(r[0]=V=>g("close"))},{default:a(()=>r[3]||(r[3]=[K("Cancel")])),_:1})]),_:1})):(t(),k(Y,{key:0,class:"text-right"},{default:a(()=>[i(O,{to:{name:"Home"},class:"text-decoration-none text-white"},{default:a(()=>[i(Z,{color:"red"},{default:a(()=>r[2]||(r[2]=[K("Close")])),_:1})]),_:1})]),_:1})),C.admin||C.editable?(t(),k(Y,{key:2,class:"text-left"},{default:a(()=>[i(Be,{onClick:F,type:"submit"})]),_:1})):(t(),k(Y,{key:3,class:"text-left"},{default:a(()=>[i(Be,{onClick:G,type:"submit",label:"Next",color:"green"})]),_:1}))]),_:1}),U.value?(t(),k(z,{key:0},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[4]||(r[4]=[K(" Your request is currently queued for processing. We have received your data, you do not need to resubmit it or refresh. The next page will load once the system has processed your details. Please be patient as this may take a while. ")])),_:1})]),_:1})):q("",!0),B.value?(t(),k(z,{key:1},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[5]||(r[5]=[K(" Honestly! It really is being handled by our systems, the web browser window will continue, to monitor progress whilst it remains open. ")])),_:1})]),_:1})):q("",!0),x.value?(t(),k(z,{key:2},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[6]||(r[6]=[K(" There seems to be a bit of Jam, don't worry because we have a fine selection of Jams at breakfast. Keep holding on in there, we'll get you on your way soon. ")])),_:1})]),_:1})):q("",!0),I.value?(t(),k(z,{key:3},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[7]||(r[7]=[K(" Reticulating splines ")])),_:1})]),_:1})):q("",!0),l.value?(t(),k(z,{key:4},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[8]||(r[8]=[K(" Downloading more RAM to process your registration. ")])),_:1})]),_:1})):q("",!0),b.value?(t(),k(z,{key:5},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[9]||(r[9]=[K(" Ever seen a loading screen with a jump scare? ")])),_:1})]),_:1})):q("",!0),R.value?(t(),k(z,{key:6},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[10]||(r[10]=[K(" We are not liable for any broken screens as a result of waiting. ")])),_:1})]),_:1})):q("",!0),d.value?(t(),k(z,{key:7},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[11]||(r[11]=[K(" Let's have a race, see if you can inflate a pool toy by mouth before we finish. NB. Inflating your toys in this fashion is not recommended for many reasons. ")])),_:1})]),_:1})):q("",!0),v.value?(t(),k(z,{key:8},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[12]||(r[12]=[K(" Apparently there were just under 1,000 of you at Scotiacon 2023, so where did the other 4,000 appear from? ")])),_:1})]),_:1})):q("",!0),w.value?(t(),k(z,{key:9},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[13]||(r[13]=[K(" Jesus titty fucking christ! Why are there so many of you, this is ridiculous. We're still working on your request, please don't panic. ")])),_:1})]),_:1})):q("",!0),u.value?(t(),k(z,{key:10},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[14]||(r[14]=[K(" We've run out of silly things to say, but if the save button is still spinning then the registration request is still queued for processing. ")])),_:1})]),_:1})):q("",!0)],64))]),_:1},512)]),_:1})}}});export{Ot as F,Je as _,Lt as a,ae as b,xt as c,Rt as d,$t as m,Fe as p,ke as s};
