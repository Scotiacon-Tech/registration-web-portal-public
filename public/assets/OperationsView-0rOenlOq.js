import{i as H,K as z,r as d,L as Y,c as re,n as o,q as C,N as j,R as B,k as te,v as e,f as n,D as A,y as _,A as U,C as y,m as Ee,Y as De,x as k,B as N,O as fe,F as h,z as ne,Q as Me,P as he}from"./index-Bl6vN6z6.js";import{V as _e,u as Re}from"./debounce-sRAntGIC.js";import{G as ye}from"./group-Dg_peWef.js";import{C as Ve}from"./canDo-EM20Kv95.js";import{G as Te}from"./userData-BraDd-V7.js";import{_ as Z}from"./ModelDialog.vue_vue_type_script_setup_true_lang-CFsDWU2t.js";import{_ as W}from"./UserSelect.vue_vue_type_script_setup_true_lang-5t0doRfy.js";import{V as Be}from"./VAutocomplete-CGom0zxp.js";import{u as de}from"./useStoreAPI-D4zVnZS8.js";import{V as q,a as E}from"./VRow-DHTh0_wo.js";import{V as ue}from"./VTextField-O6UbgWjU.js";import{V as ie}from"./VTextarea-CIh0LKCP.js";import{V as ke}from"./VForm-CoYBBEc8.js";import{V as Ge}from"./VFileInput-C2xaoMZV.js";import{V as me}from"./forwardRefs-DqZZjb2J.js";import{e as ee,V as x,d as Ne}from"./VContainer-B_erhKyg.js";import{a as le,b as oe,c as ae,V as ve}from"./VDataTable-BNN1WYvL.js";import{V as Ue,a as Ce,c as Ie,d as ge}from"./VList-CIhXXGYp.js";import{V as se}from"./scopeId-BiuWR_m1.js";import{h as we}from"./date-DgbCHIwC.js";import{a as $e}from"./VTable-Bzal4Xyk.js";import{a as xe,c as Oe,V as Ye}from"./VTabs-Bx3_VreG.js";import{V as qe}from"./VToolbar-B14pgjrJ.js";import{e as Pe}from"./VCard-wpi2T3Ja.js";import"./VDivider-BCl1zHCG.js";import"./SaveButton.vue_vue_type_script_setup_true_lang-DbWXHPil.js";import"./VDialog-ldWwgpmq.js";import"./form-Ciuie580.js";import"./VCheckboxBtn-_GU9uK2C.js";import"./VChip-BMOW25TY.js";import"./createSimpleFunctional-lMN-3CyO.js";var L=(i=>(i.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE",i.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE",i.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS="GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS",i))(L||{});const J=[{title:"Costume Prop Clearance",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE"},{title:"Costume Prop Type",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE"},{title:"Lost and Found Status",value:"GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS"}],Fe=(i,O)=>i===void 0?!1:Ve(i,ye.GROUP_TYPE_CONVENTION,O.ConventionUUID,O).EditProps,be=(i,O)=>i===void 0?!1:Ve(i,ye.GROUP_TYPE_CONVENTION,O.ConventionUUID,O).ConfigureProps,Ae=H({__name:"GenericEnumSelect",props:z({category:{},convention:{},label:{default:""},variant:{default:"filled"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const O=j(),p=d([]),t=Y(i,"modelValue");O.getConventionGenericEnums(i.convention.ConventionUUID,i.category).then(f=>{f&&(p.value=f)});const m=re(()=>{const f=p.value.map(D=>D).sort((D,G)=>D.Title>G.Title?1:D.Title==G.Title?0:-1);return f.unshift({ID:0,GenericEnumUUID:B,ConventionID:0,ConventionUUID:B,Category:i.category,Name:"",Title:`- Select ${i.label} -`,Description:""}),f});return(f,D)=>(o(),C(Be,{label:f.label,items:m.value,"item-title":"Title","item-value":"GenericEnumUUID",variant:f.variant,"hide-details":"",modelValue:t.value,"onUpdate:modelValue":D[0]||(D[0]=G=>t.value=G)},null,8,["label","items","variant","modelValue"]))}}),ze=["innerHTML"],He=["innerHTML"],je=H({__name:"EditCostumeProp",props:z({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:z(["new","update:costumeProp"],["update:modelValue","update:costumeProp"]),setup(i,{emit:O}){const p=Y(i,"modelValue"),t=Y(i,"costumeProp"),m=j(),f=de(),D=O,G=d(te(t.value)),F=d(`${f.GetCostumePropImageURL(t.value.CostumePropUUID)}?${new Date().getTime()}`),P=d(),I=d(),a=d([]),r=d([]);m.getConventionGenericEnums(i.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(b=>{b&&(a.value=b)}),m.getConventionGenericEnums(i.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(b=>{b&&(r.value=b)});const u=()=>{},v=()=>{t.value=te(G.value)},T=b=>{m.saveCostumeProp(t.value).then(w=>{w?(b&&b("Saved Costume Prop"),t.value.CostumePropUUID!=w.CostumePropUUID&&D("new",w),t.value=w,D("update:costumeProp",w),F.value?c(w.CostumePropUUID).then(()=>{setTimeout(()=>{p.value=!1},1e3)}).catch(()=>{b("Failed to Save Image")}):setTimeout(()=>{p.value=!1},1e3)):b&&b("Failed to Save Costume Prop")}).catch(()=>{b&&b("Failed to Save Costume Prop")})},$=re(()=>!1),R=()=>{F.value=URL.createObjectURL(P.value.files[0])},c=async b=>{var S;const w=new FormData((S=I.value)==null?void 0:S.$el);if(w.get("Image")&&w.get("Image").size>0)return w.set("ConventionUUID",i.convention.ConventionUUID),w.set("CostumePropUUID",b),await f.SaveCostumePropImage(w)},V=b=>{if(!b)return"";let w=b;return w=w.replaceAll(`
`,"<br>"),w=w.replaceAll(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),w=w.replaceAll(/\[i](.*?)\[\/i]/g,"<em>$1</em>"),w};return(b,w)=>(o(),C(Z,Ee({modelValue:p.value,"onUpdate:modelValue":w[5]||(w[5]=S=>p.value=S),title:"Add Costume Prop","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0,onReset:v,onSave:T},{[De($.value&&"delete")]:u}),{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[t.value.AddedBy?(o(),C(E,{key:0,cols:"12"},{default:e(()=>[A("strong",null,"Added By: "+_(t.value.AddedBy.DisplayName),1)]),_:1})):U("",!0),n(E,{cols:"12"},{default:e(()=>[n(W,{modelValue:t.value.OwnerUUID,"onUpdate:modelValue":w[0]||(w[0]=S=>t.value.OwnerUUID=S),convention:b.convention,label:"Owner",variant:"outlined","aria-required":"true",clearable:!0},null,8,["modelValue","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(Ae,{modelValue:t.value.TypeUUID,"onUpdate:modelValue":w[1]||(w[1]=S=>t.value.TypeUUID=S),category:y(L).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE,convention:b.convention,label:"Type",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ue,{modelValue:t.value.Description,"onUpdate:modelValue":w[2]||(w[2]=S=>t.value.Description=S),label:"Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(Ae,{modelValue:t.value.ClearanceUUID,"onUpdate:modelValue":w[3]||(w[3]=S=>t.value.ClearanceUUID=S),category:y(L).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE,convention:b.convention,label:"Clearance",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:t.value.Remarks,"onUpdate:modelValue":w[4]||(w[4]=S=>t.value.Remarks=S),label:"Remarks / Information",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ke,{ref_key:"propImageForm",ref:I,enctype:"multipart/form-data"},{default:e(()=>[n(Ge,{label:"Photograph",name:"Image",variant:"outlined",ref_key:"imageFileInput",ref:P,"prepend-icon":"mdi:mdi-camera",capture:"environment",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",onChange:R},null,512)]),_:1},512),F.value?(o(),C(me,{key:0,src:F.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):U("",!0)]),_:1}),t.value.ClearanceUUID!==""&&t.value.ClearanceUUID!==y(B)?(o(),C(E,{key:1,cols:"12"},{default:e(()=>{var S,Q;return[A("div",null,[A("strong",null,_((S=a.value.find(X=>X.GenericEnumUUID===t.value.ClearanceUUID))==null?void 0:S.Title),1)]),A("div",{innerHTML:V((Q=a.value.find(X=>X.GenericEnumUUID===t.value.ClearanceUUID))==null?void 0:Q.Description)},null,8,ze)]}),_:1})):U("",!0),t.value.TypeUUID!==""&&t.value.TypeUUID!==y(B)?(o(),C(E,{key:2,cols:"12"},{default:e(()=>{var S;return[A("div",{innerHTML:V((S=r.value.find(Q=>Q.GenericEnumUUID===t.value.TypeUUID))==null?void 0:S.Description)},null,8,He)]}),_:1})):U("",!0)]),_:1})]),_:1})]),_:1},16,["modelValue"]))}}),Se=H({__name:"EditGenericEnum",props:z({convention:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},genericEnum:{required:!0},genericEnumModifiers:{}}),emits:z(["delete:genericEnum","new","update:genericEnum"],["update:modelValue","update:genericEnum"]),setup(i,{emit:O}){const p=Y(i,"modelValue"),t=Y(i,"genericEnum"),m=d(te(t.value)),f=j(),D=O,G=d([]),F=d([]),P=u=>{f.deleteGenericEnum(m.value.GenericEnumUUID).then(v=>{var T,$;v?(u&&u(`Deleted ${(T=J.find(R=>R.value==m.value.Category))==null?void 0:T.title}`),D("delete:genericEnum",m.value),setTimeout(()=>{p.value=!1},1e3)):u&&u(`Failed to Delete ${($=J.find(R=>R.value==m.value.Category))==null?void 0:$.title}`)}).catch(()=>{var v;u&&u(`Failed to Delete ${(v=J.find(T=>T.value==m.value.Category))==null?void 0:v.title}`)})},I=re(()=>m.value.GenericEnumUUID!=B),a=u=>{f.saveGenericEnum(m.value).then(v=>{var T,$;v?(u&&u(`Saved ${(T=J.find(R=>R.value==m.value.Category))==null?void 0:T.title}`),D("update:genericEnum",v),setTimeout(()=>{p.value=!1},1e3)):u&&u(`Failed to Save ${($=J.find(R=>R.value==m.value.Category))==null?void 0:$.title}`)}).catch(()=>{var v;u&&u(`Failed to Save ${(v=J.find(T=>T.value==m.value.Category))==null?void 0:v.title}`)})},r=()=>{m.value=te(t.value)};return f.getConventionGenericEnums(i.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(u=>{u&&(G.value=u)}).catch(()=>{}),f.getConventionGenericEnums(i.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(u=>{u&&(F.value=u)}).catch(()=>{}),(u,v)=>(o(),C(Z,Ee({modelValue:p.value,"onUpdate:modelValue":v[3]||(v[3]=T=>p.value=T),title:u.title,"show-reset-action":!1,"show-save-action":!0,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!1,persistent:!0,scrollable:!0,onReset:r,onSave:a},{[De(I.value&&"delete")]:P}),{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12"},{default:e(()=>[n(ue,{modelValue:m.value.Name,"onUpdate:modelValue":v[0]||(v[0]=T=>m.value.Name=T),label:"Internal Name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ue,{modelValue:m.value.Title,"onUpdate:modelValue":v[1]||(v[1]=T=>m.value.Title=T),label:"Display Title",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:m.value.Description,"onUpdate:modelValue":v[2]||(v[2]=T=>m.value.Description=T),label:"Description",variant:"outlined"},null,8,["modelValue"]),v[4]||(v[4]=A("br",null,null,-1)),v[5]||(v[5]=A("p",null,[A("strong",null,"Description Formatting Guidance")],-1)),v[6]||(v[6]=A("dl",null,[A("dt",{class:"float-left mr-2"}," ** "),A("dd",null,[k(" Surround text with double asterisk to make text bold. E.g. **this is bold** = "),A("strong",null,"this is bold")]),A("dt",{class:"float-left mr-2"}," [i] "),A("dd",null,[k(" Surround text with [i] and [/i] to make text italic. E.g. [i]italic emphasis[/i] = "),A("em",null,"italic emphasis")])],-1))]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue","title"]))}}),Ke=H({__name:"ConfigCostumeProps",props:z({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const O=Y(i,"modelValue"),p=j(),t=d(),m=d([]),f=d(!1),D=d([]),G=a=>{const r=()=>({ID:0,GenericEnumUUID:B,ConventionID:i.convention.ID,ConventionUUID:i.convention.ConventionUUID,Category:a,Name:"",Title:"",Description:""});t.value=r(),f.value=!0},F=a=>{t.value=a,f.value=!0},P=a=>{let r;switch(a.Category){case L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:r=m.value.findIndex(u=>u.GenericEnumUUID==a.GenericEnumUUID),r>=0&&m.value.splice(r,1);break;case L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:r=D.value.findIndex(u=>u.GenericEnumUUID==a.GenericEnumUUID),r>=0&&D.value.splice(r,1);break}},I=a=>{let r;switch(a.Category){case L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:r=m.value.findIndex(u=>u.GenericEnumUUID==a.GenericEnumUUID),r>=0?m.value.splice(r,1,a):m.value.push(t.value);break;case L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:r=D.value.findIndex(u=>u.GenericEnumUUID==a.GenericEnumUUID),r>=0?D.value.splice(r,1,a):D.value.push(t.value);break}};return p.getConventionGenericEnums(i.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(a=>{a&&(m.value=a)}),p.getConventionGenericEnums(i.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(a=>{a&&(D.value=a)}),(a,r)=>(o(),C(Z,{modelValue:O.value,"onUpdate:modelValue":r[4]||(r[4]=u=>O.value=u),title:"Configure Costume Props","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0},{default:e(()=>{var u;return[n(ve,null,{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"primary"},{default:e(()=>r[5]||(r[5]=[k(" Clearance Options ")])),_:1}),n(ae,null,{default:e(()=>[n(Ue,null,{default:e(()=>[(o(!0),N(h,null,fe(m.value,v=>(o(),C(Ce,{key:v.GenericEnumUUID},{append:e(()=>[n(x,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:T=>F(v)},null,8,["onClick"])]),default:e(()=>[n(Ie,null,{default:e(()=>[A("strong",null,_(v.Name)+" - "+_(v.Title),1)]),_:2},1024),n(ge,null,{default:e(()=>[k(_(v.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(q,null,{default:e(()=>[n(E,{class:"text-right"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:r[0]||(r[0]=v=>G(y(L).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE))},{default:e(()=>r[6]||(r[6]=[k(" Add Item ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(le,null,{default:e(()=>[n(oe,{color:"primary"},{default:e(()=>r[7]||(r[7]=[k(" Item Types ")])),_:1}),n(ae,null,{default:e(()=>[n(Ue,null,{default:e(()=>[(o(!0),N(h,null,fe(D.value,v=>(o(),C(Ce,{key:v.GenericEnumUUID},{append:e(()=>[n(x,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:T=>F(v)},null,8,["onClick"])]),default:e(()=>[n(Ie,null,{default:e(()=>[A("strong",null,_(v.Name)+" - "+_(v.Title),1)]),_:2},1024),n(ge,null,{default:e(()=>[k(_(v.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(q,null,{default:e(()=>[n(E,{class:"text-right"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:r[1]||(r[1]=v=>G(y(L).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE))},{default:e(()=>r[8]||(r[8]=[k(" Add Item ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f.value&&t.value?(o(),C(Se,{key:0,convention:a.convention,title:`Edit ${(u=y(J).find(v=>{var T;return v.value==((T=t.value)==null?void 0:T.Category)}))==null?void 0:u.title}`,modelValue:f.value,"onUpdate:modelValue":r[2]||(r[2]=v=>f.value=v),"generic-enum":t.value,"onUpdate:genericEnum":[r[3]||(r[3]=v=>t.value=v),I],"onDelete:genericEnum":P},null,8,["convention","title","modelValue","generic-enum"])):U("",!0)]}),_:1},8,["modelValue"]))}}),We=["href"],Qe=["innerHTML"],Je=["innerHTML"],Xe=H({__name:"ViewCostumeProp",props:z({convention:{},title:{default:"View Costume Prop"}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:["update:modelValue","update:costumeProp"],setup(i){const O=Y(i,"modelValue"),p=Y(i,"costumeProp"),t=j(),m=de(),f=d(`${m.GetCostumePropImageURL(p.value.CostumePropUUID)}?${new Date().getTime()}`),D=d([]),G=d([]);t.getConventionGenericEnums(i.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(P=>{P&&(D.value=P)}),t.getConventionGenericEnums(i.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(P=>{P&&(G.value=P)});const F=P=>{if(!P)return"";let I=P;return I=I.replaceAll(`
`,"<br>"),I=I.replaceAll(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),I=I.replaceAll(/\[i](.*?)\[\/i]/g,"<em>$1</em>"),I};return(P,I)=>(o(),C(Z,{modelValue:O.value,"onUpdate:modelValue":I[0]||(I[0]=a=>O.value=a),title:P.title,"show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!1,persistent:!1,scrollable:!0},{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12"},{default:e(()=>[f.value?(o(),N("a",{key:0,href:f.value,target:"_blank",style:{cursor:"zoom-in"}},[n(me,{src:f.value,class:"border my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])],8,We)):U("",!0)]),_:1}),n(E,{cols:"12"},{default:e(()=>[k(_(p.value.Remarks),1)]),_:1}),p.value.AddedBy?(o(),C(E,{key:0,class:"text-right",cols:"12"},{default:e(()=>[A("small",null,"Added By: "+_(p.value.AddedBy.DisplayName),1)]),_:1})):U("",!0),p.value.ClearanceUUID!==""&&p.value.ClearanceUUID!==y(B)?(o(),C(E,{key:1,cols:"12"},{default:e(()=>{var a,r;return[A("div",null,[A("strong",null,_((a=D.value.find(u=>u.GenericEnumUUID===p.value.ClearanceUUID))==null?void 0:a.Title),1)]),A("div",{innerHTML:F((r=D.value.find(u=>u.GenericEnumUUID===p.value.ClearanceUUID))==null?void 0:r.Description)},null,8,Qe)]}),_:1})):U("",!0),p.value.TypeUUID!==""&&p.value.TypeUUID!==y(B)?(o(),C(E,{key:2,cols:"12"},{default:e(()=>{var a;return[A("div",{innerHTML:F((a=G.value.find(r=>r.GenericEnumUUID===p.value.TypeUUID))==null?void 0:a.Description)},null,8,Je)]}),_:1})):U("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),Le=(i,O)=>i===void 0?!1:Ve(i,ye.GROUP_TYPE_CONVENTION,O.ConventionUUID,O).ViewProps,Ze=H({__name:"CostumePropsView",props:{convention:{}},setup(i){const O=j(),p=Te(),t=d(),m=d([]),f=d(1),D=d([]),G=d(!0),F=d(10),P=d(0),I=d([]),a=d(""),r=d(Le(p,i.convention)),u=d(Fe(p,i.convention)),v=d(be(p,i.convention)),T=d(!1),$=d(!1),R=d(!1),c=d({}),V=Re(()=>{a.value=Date.now().toString()}),b=()=>{t.value={ID:0,CostumePropUUID:B,ConventionID:i.convention.ID,ConventionUUID:i.convention.ConventionUUID,Description:"",HasPhoto:!1,Remarks:""},T.value=!0},w=s=>{t.value=s,T.value=!0},S=s=>{t.value=s,R.value=!0},Q=()=>{$.value=!0},X=d([{key:"owner",title:"Attendee",sortable:!1},{key:"type",title:"Type",sortable:!1},{key:"Clearance.Title",title:"Clearance",sortable:!1},{key:"actions",title:"",sortable:!1}]),ce=({page:s,itemsPerPage:l,sortBy:g})=>{G.value=!0,f.value=s,D.value=g;try{c.value.Limit=l,c.value.Offset=(s-1)*l;const K=a.value;O.searchConventionCostumeProps(i.convention.ConventionUUID,c.value).then(pe=>{pe&&K===a.value&&(P.value=pe.Total,m.value=pe.CostumeProps,G.value=!1)})}catch(K){console.error(K)}},M=s=>{const l=m.value.findIndex(g=>s.CostumePropUUID==g.CostumePropUUID);l>=0&&m.value.splice(l,1,s)};return(s,l)=>s.convention?(o(),N(h,{key:0},[n(ee,{fluid:!0,class:"px-1"},{default:e(()=>[u.value||v.value?(o(),C(q,{key:0},{default:e(()=>[v.value?(o(),C(E,{key:0,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[n(x,{color:"primary","prepend-icon":"mdi:mdi-cog",onClick:Q},{default:e(()=>l[12]||(l[12]=[k(" Config ")])),_:1})]),_:1})):U("",!0),n(se),u.value?(o(),C(E,{key:1,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:b},{default:e(()=>l[13]||(l[13]=[k(" Record New Item ")])),_:1})]),_:1})):U("",!0)]),_:1})):U("",!0)]),_:1}),r.value||u.value?(o(),C(_e,{key:0,page:f.value,"onUpdate:page":l[4]||(l[4]=g=>f.value=g),"items-per-page":F.value,"onUpdate:itemsPerPage":l[5]||(l[5]=g=>F.value=g),"sort-by":I.value,"onUpdate:sortBy":l[6]||(l[6]=g=>I.value=g),headers:X.value,"items-length":P.value,items:m.value,"item-value":"key",loading:G.value,search:a.value,"onUpdate:options":ce},{top:e(()=>[n(ve,{class:"mb-3"},{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"secondary",class:"font-weight-bold pb-0 pt-0"},{default:e(()=>[n(E,{class:"pa-0"},{default:e(()=>[l[14]||(l[14]=k(" Search Criteria ")),n(Ne,{class:"pl-5",icon:"mdi:mdi-credit-card-search-outline"})]),_:1}),n(E,{class:"d-none d-sm-block pa-0",cols:"0"},{default:e(()=>[n(W,{convention:s.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:c.value.OwnerUUID,"onUpdate:modelValue":[l[0]||(l[0]=g=>c.value.OwnerUUID=g),y(V)],onClick:l[1]||(l[1]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(se),n(E,{class:"d-none d-md-block pa-0"})]),_:1}),n(ae,{class:"pt-2"},{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12",lg:"6"},{default:e(()=>[n(W,{convention:s.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"outlined",modelValue:c.value.OwnerUUID,"onUpdate:modelValue":[l[2]||(l[2]=g=>c.value.OwnerUUID=g),y(V)],onClick:l[3]||(l[3]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),"item.owner":e(({item:g})=>[g.Owner?(o(),N(h,{key:0},[g.Owner.Registrations&&g.Owner.Registrations.length>0?(o(),N(h,{key:0},[k(" #"+_(g.Owner.Registrations[0].Reference),1)],64)):U("",!0),g.Owner.Generated&&g.Owner.Generated.badge_name?(o(),N(h,{key:1},[k("  "+_(g.Owner.Generated.badge_name),1)],64)):(o(),N(h,{key:2},[k("  "+_(g.Owner.DisplayName),1)],64))],64)):U("",!0)]),"item.type":e(({item:g})=>[g.Type?(o(),N(h,{key:0},[k(_(g.Type.Title)+" ",1),l[15]||(l[15]=A("br",null,null,-1))],64)):U("",!0),A("small",null,_(g.Description),1)]),"item.actions":e(({item:g})=>[r.value?(o(),C(x,{key:0,icon:"mdi:mdi-magnify",size:"x-small",color:"success",onClick:K=>S(g),class:"mr-2"},null,8,["onClick"])):U("",!0),u.value?(o(),C(x,{key:1,icon:"mdi:mdi-pencil",size:"x-small",color:"warning",onClick:K=>w(g)},null,8,["onClick"])):U("",!0)]),_:1},8,["page","items-per-page","sort-by","headers","items-length","items","loading","search"])):U("",!0),T.value&&t.value?(o(),C(je,{key:1,convention:s.convention,modelValue:T.value,"onUpdate:modelValue":l[7]||(l[7]=g=>T.value=g),"costume-prop":t.value,"onUpdate:costumeProp":[l[8]||(l[8]=g=>t.value=g),M],onNew:y(V)},null,8,["convention","modelValue","costume-prop","onNew"])):U("",!0),R.value&&t.value?(o(),C(Xe,{key:2,convention:s.convention,title:t.value.Description,modelValue:R.value,"onUpdate:modelValue":l[9]||(l[9]=g=>R.value=g),"costume-prop":t.value,"onUpdate:costumeProp":l[10]||(l[10]=g=>t.value=g)},null,8,["convention","title","modelValue","costume-prop"])):U("",!0),$.value?(o(),C(Ke,{key:3,convention:s.convention,modelValue:$.value,"onUpdate:modelValue":l[11]||(l[11]=g=>$.value=g)},null,8,["convention","modelValue"])):U("",!0)],64)):U("",!0)}}),en={key:0,class:"text-success"},nn={key:1,class:"text-warning"},tn={key:2,class:"text-error"},ln={key:3,class:"text-error"},on=H({__name:"EditLostAndFound",props:z({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},lostAndFound:{required:!0},lostAndFoundModifiers:{}}),emits:z(["new","update:lostAndFound"],["update:modelValue","update:lostAndFound"]),setup(i,{emit:O}){const p=Y(i,"modelValue"),t=Y(i,"lostAndFound"),m=j(),f=de(),D=O,G=d(te(t.value)),F=d(`${f.GetLostAndFoundImageURL(t.value.LostAndFoundUUID)}?${new Date().getTime()}`),P=d(),I=d(),a=()=>{},r=()=>{t.value=te(G.value)},u=R=>{m.saveLostAndFound(t.value).then(c=>{c?(R&&R("Saved Costume Prop"),t.value.LostAndFoundUUID!=c.LostAndFoundUUID&&D("new",c),t.value=c,D("update:lostAndFound",c),F.value?$(c.LostAndFoundUUID).then(()=>{setTimeout(()=>{p.value=!1},1e3)}).catch(()=>{R("Failed to Save Image")}):setTimeout(()=>{p.value=!1},1e3)):R&&R("Failed to Save Costume Prop")}).catch(()=>{R&&R("Failed to Save Costume Prop")})},v=re(()=>!1),T=()=>{F.value=URL.createObjectURL(P.value.files[0])},$=async R=>{var V;const c=new FormData((V=I.value)==null?void 0:V.$el);if(c.get("Image")&&c.get("Image").size>0)return c.set("ConventionUUID",i.convention.ConventionUUID),c.set("LostAndFoundUUID",R),await f.SaveLostAndFoundImage(c)};return(R,c)=>(o(),C(Z,Ee({modelValue:p.value,"onUpdate:modelValue":c[5]||(c[5]=V=>p.value=V),title:"Report Lost & Found","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0,onReset:r,onSave:u},{[De(v.value&&"delete")]:a}),{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[t.value.AddedBy?(o(),C(E,{key:0,cols:"12"},{default:e(()=>[c[6]||(c[6]=A("strong",null,"Added By:",-1)),k(" "+_(t.value.AddedBy.DisplayName),1)]),_:1})):U("",!0),t.value.AddedBy?(o(),C(E,{key:1,cols:"12"},{default:e(()=>[c[7]||(c[7]=A("strong",null,"Status:",-1)),t.value.FoundByUUID&&t.value.OwnerUUID&&t.value.FoundByUUID!==y(B)&&t.value.OwnerUUID!==y(B)?(o(),N("span",en," Returned ")):t.value.FoundByUUID&&t.value.FoundByUUID!==y(B)?(o(),N("span",nn," Found ")):t.value.OwnerUUID&&t.value.OwnerUUID!==y(B)?(o(),N("span",tn," Lost ")):(o(),N("span",ln," Unknown "))]),_:1})):U("",!0),n(E,{cols:"12"},{default:e(()=>[n(W,{modelValue:t.value.FoundByUUID,"onUpdate:modelValue":c[0]||(c[0]=V=>t.value.FoundByUUID=V),convention:R.convention,label:"Found By",variant:"outlined","persistent-hint":!0,hint:"If unknown enter yourself",clearable:!0},null,8,["modelValue","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(W,{modelValue:t.value.OwnerUUID,"onUpdate:modelValue":c[1]||(c[1]=V=>t.value.OwnerUUID=V),convention:R.convention,label:"Claimant (Owner)",variant:"outlined","persistent-hint":!0,hint:"The person either reporting item missing or claiming it",clearable:!0},null,8,["modelValue","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ue,{modelValue:t.value.Title,"onUpdate:modelValue":c[2]||(c[2]=V=>t.value.Title=V),label:"Title",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:t.value.Description,"onUpdate:modelValue":c[3]||(c[3]=V=>t.value.Description=V),label:"Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:t.value.Comments,"onUpdate:modelValue":c[4]||(c[4]=V=>t.value.Comments=V),label:"Comments",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ke,{ref_key:"propImageForm",ref:I,enctype:"multipart/form-data"},{default:e(()=>[n(Ge,{label:"Photograph",name:"Image",variant:"outlined",ref_key:"imageFileInput",ref:P,"prepend-icon":"mdi:mdi-camera",capture:"environment",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",onChange:T},null,512)]),_:1},512),F.value?(o(),C(me,{key:0,src:F.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):U("",!0)]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue"]))}}),an=H({__name:"ConfigLostAndFound",props:z({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const O=Y(i,"modelValue"),p=j(),t=d(),m=d([]),f=d(!1),D=I=>{const a=()=>({ID:0,GenericEnumUUID:B,ConventionID:i.convention.ID,ConventionUUID:i.convention.ConventionUUID,Category:I,Name:"",Title:"",Description:""});t.value=a(),f.value=!0},G=I=>{t.value=I,f.value=!0},F=I=>{let a;switch(I.Category){case L.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS:a=m.value.findIndex(r=>r.GenericEnumUUID==I.GenericEnumUUID),a>=0&&m.value.splice(a,1);break}},P=I=>{let a;switch(I.Category){case L.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS:a=m.value.findIndex(r=>r.GenericEnumUUID==I.GenericEnumUUID),a>=0?m.value.splice(a,1,I):m.value.push(t.value);break}};return p.getConventionGenericEnums(i.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS).then(I=>{I&&(m.value=I)}),(I,a)=>(o(),C(Z,{modelValue:O.value,"onUpdate:modelValue":a[3]||(a[3]=r=>O.value=r),title:"Configure Costume Props","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0},{default:e(()=>{var r;return[n(ve,null,{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"primary"},{default:e(()=>a[4]||(a[4]=[k(" Item Status ")])),_:1}),n(ae,null,{default:e(()=>[n(Ue,null,{default:e(()=>[(o(!0),N(h,null,fe(m.value,u=>(o(),C(Ce,{key:u.GenericEnumUUID},{append:e(()=>[n(x,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:v=>G(u)},null,8,["onClick"])]),default:e(()=>[n(Ie,null,{default:e(()=>[A("strong",null,_(u.Name)+" - "+_(u.Title),1)]),_:2},1024),n(ge,null,{default:e(()=>[k(_(u.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(q,null,{default:e(()=>[n(E,{class:"text-right"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:a[0]||(a[0]=u=>D(y(L).GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS))},{default:e(()=>a[5]||(a[5]=[k(" Add Item ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f.value&&t.value?(o(),C(Se,{key:0,convention:I.convention,title:`Edit ${(r=y(J).find(u=>{var v;return u.value==((v=t.value)==null?void 0:v.Category)}))==null?void 0:r.title}`,modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=u=>f.value=u),"generic-enum":t.value,"onUpdate:genericEnum":[a[2]||(a[2]=u=>t.value=u),P],"onDelete:genericEnum":F},null,8,["convention","title","modelValue","generic-enum"])):U("",!0)]}),_:1},8,["modelValue"]))}}),un=["href"],sn=H({__name:"ViewLostAndFound",props:z({title:{default:"View Costume Prop"}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},lostAndFound:{required:!0},lostAndFoundModifiers:{}}),emits:["update:modelValue","update:lostAndFound"],setup(i){const O=Y(i,"modelValue"),p=Y(i,"lostAndFound"),t=de(),m=d(`${t.GetLostAndFoundImageURL(p.value.LostAndFoundUUID)}?${new Date().getTime()}`);return(f,D)=>(o(),C(Z,{modelValue:O.value,"onUpdate:modelValue":D[0]||(D[0]=G=>O.value=G),title:f.title,"show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!1,persistent:!1,scrollable:!0},{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12"},{default:e(()=>[m.value?(o(),N("a",{key:0,href:m.value,target:"_blank",style:{cursor:"zoom-in"}},[n(me,{src:m.value,class:"border my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])],8,un)):U("",!0)]),_:1}),n(E,{cols:"12"},{default:e(()=>[k(_(p.value.Description),1)]),_:1}),n(E,{cols:"12"},{default:e(()=>[k(_(p.value.Comments),1)]),_:1}),p.value.AddedBy?(o(),C(E,{key:0,class:"text-right",cols:"12"},{default:e(()=>[A("small",null,"Added By: "+_(p.value.AddedBy.DisplayName),1)]),_:1})):U("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),rn={key:0,class:"text-success"},dn={key:1,class:"text-warning"},mn={key:2,class:"text-error"},vn={key:3,class:"text-error"},cn=H({__name:"LostAndFoundView",props:{convention:{}},setup(i){const O=j(),p=Te(),t=d(),m=d([]),f=d(1),D=d([]),G=d(!0),F=d(10),P=d(0),I=d([]),a=d(""),r=d(Le(p,i.convention)),u=d(Fe(p,i.convention)),v=d(be(p,i.convention)),T=d(!1),$=d(!1),R=d(!1),c=d({}),V=Re(()=>{a.value=Date.now().toString()}),b=()=>{t.value={ID:0,LostAndFoundUUID:B,ConventionID:i.convention.ID,ConventionUUID:i.convention.ConventionUUID,Title:"",Description:"",HasPhoto:!1,Comments:""},T.value=!0},w=M=>{t.value=M,T.value=!0},S=M=>{t.value=M,R.value=!0},Q=d([{key:"owner",title:"Owner",sortable:!1},{key:"finder",title:"Found By",sortable:!1},{key:"title",title:"Title",sortable:!1},{key:"status",title:"Status",sortable:!1},{key:"timestamps",title:"Date",sortable:!1},{key:"actions",title:"",sortable:!1}]),X=({page:M,itemsPerPage:s,sortBy:l})=>{G.value=!0,f.value=M,D.value=l;try{c.value.Limit=s,c.value.Offset=(M-1)*s;const g=a.value;O.searchConventionLostAndFound(i.convention.ConventionUUID,c.value).then(K=>{K&&g===a.value&&(P.value=K.Total,m.value=K.LostAndFound,G.value=!1)})}catch(g){console.error(g)}},ce=M=>{const s=m.value.findIndex(l=>M.LostAndFoundUUID==l.LostAndFoundUUID);s>=0&&m.value.splice(s,1,M)};return(M,s)=>M.convention?(o(),N(h,{key:0},[n(ee,{fluid:!0,class:"px-1"},{default:e(()=>[u.value||v.value?(o(),C(q,{key:0},{default:e(()=>[n(se),u.value?(o(),C(E,{key:0,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:b},{default:e(()=>s[16]||(s[16]=[k(" Record New Item ")])),_:1})]),_:1})):U("",!0)]),_:1})):U("",!0)]),_:1}),r.value||u.value?(o(),C(_e,{key:0,page:f.value,"onUpdate:page":s[8]||(s[8]=l=>f.value=l),"items-per-page":F.value,"onUpdate:itemsPerPage":s[9]||(s[9]=l=>F.value=l),"sort-by":I.value,"onUpdate:sortBy":s[10]||(s[10]=l=>I.value=l),headers:Q.value,"items-length":P.value,items:m.value,"item-value":"key",loading:G.value,search:a.value,"onUpdate:options":X},{top:e(()=>[n(ve,{class:"mb-3"},{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"secondary",class:"font-weight-bold pb-0 pt-0"},{default:e(()=>[n(E,{class:"pa-0"},{default:e(()=>[s[17]||(s[17]=k(" Search Criteria ")),n(Ne,{class:"pl-5",icon:"mdi:mdi-credit-card-search-outline"})]),_:1}),n(E,{class:"d-none d-sm-block pa-0 pr-4",cols:"0"},{default:e(()=>[n(W,{convention:M.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:c.value.OwnerUUID,"onUpdate:modelValue":[s[0]||(s[0]=l=>c.value.OwnerUUID=l),y(V)],onClick:s[1]||(s[1]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(E,{class:"d-none d-sm-block pa-0 pr-4",cols:"0"},{default:e(()=>[n(W,{convention:M.convention,label:"Finder",clearable:!0,"hide-details":"",variant:"plain",modelValue:c.value.FoundByUUID,"onUpdate:modelValue":[s[2]||(s[2]=l=>c.value.FoundByUUID=l),y(V)],onClick:s[3]||(s[3]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(se),n(E,{class:"d-none d-md-block pa-0"})]),_:1}),n(ae,{class:"pt-2"},{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12",lg:"6"},{default:e(()=>[n(W,{convention:M.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"outlined",modelValue:c.value.OwnerUUID,"onUpdate:modelValue":[s[4]||(s[4]=l=>c.value.OwnerUUID=l),y(V)],onClick:s[5]||(s[5]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(E,{cols:"12",lg:"6"},{default:e(()=>[n(W,{convention:M.convention,label:"Finder",clearable:!0,"hide-details":"",variant:"outlined",modelValue:c.value.FoundByUUID,"onUpdate:modelValue":[s[6]||(s[6]=l=>c.value.FoundByUUID=l),y(V)],onClick:s[7]||(s[7]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),"item.finder":e(({item:l})=>[l.FoundBy?(o(),N(h,{key:0},[l.FoundBy.Registrations&&l.FoundBy.Registrations.length>0?(o(),N(h,{key:0},[k(" #"+_(l.FoundBy.Registrations[0].Reference),1)],64)):U("",!0),l.FoundBy.Generated&&l.FoundBy.Generated.badge_name?(o(),N(h,{key:1},[k("  "+_(l.FoundBy.Generated.badge_name),1)],64)):(o(),N(h,{key:2},[k("  "+_(l.FoundBy.DisplayName),1)],64))],64)):U("",!0)]),"item.owner":e(({item:l})=>[l.Owner?(o(),N(h,{key:0},[l.Owner.Registrations&&l.Owner.Registrations.length>0?(o(),N(h,{key:0},[k(" #"+_(l.Owner.Registrations[0].Reference),1)],64)):U("",!0),l.Owner.Generated&&l.Owner.Generated.badge_name?(o(),N(h,{key:1},[k("  "+_(l.Owner.Generated.badge_name),1)],64)):(o(),N(h,{key:2},[k("  "+_(l.Owner.DisplayName),1)],64))],64)):U("",!0)]),"item.timestamps":e(({item:l})=>[s[20]||(s[20]=A("strong",null,"Reported:",-1)),k(" "+_(y(we)(l.CreatedAt,{withTime:!0,withYear:!0}))+" ",1),l.UpdatedAt!=l.CreatedAt?(o(),N(h,{key:0},[s[18]||(s[18]=A("br",null,null,-1)),s[19]||(s[19]=A("strong",null,"Updated:",-1)),k(" "+_(y(we)(l.UpdatedAt,{withTime:!0,withYear:!0})),1)],64)):U("",!0)]),"item.title":e(({item:l})=>[A("strong",null,_(l.Title),1),s[21]||(s[21]=A("br",null,null,-1)),A("small",null,_(l.Description),1)]),"item.status":e(({item:l})=>[l.FoundByUUID&&l.OwnerUUID&&l.FoundByUUID!==y(B)&&l.OwnerUUID!==y(B)?(o(),N("span",rn," Returned ")):l.FoundByUUID&&l.FoundByUUID!==y(B)?(o(),N("span",dn," Found ")):l.OwnerUUID&&l.OwnerUUID!==y(B)?(o(),N("span",mn," Lost ")):(o(),N("span",vn," Unknown "))]),"item.actions":e(({item:l})=>[r.value?(o(),C(x,{key:0,icon:"mdi:mdi-magnify",size:"x-small",color:"success",onClick:g=>S(l),class:"mr-2"},null,8,["onClick"])):U("",!0),u.value?(o(),C(x,{key:1,icon:"mdi:mdi-pencil",size:"x-small",color:"warning",onClick:g=>w(l)},null,8,["onClick"])):U("",!0)]),_:1},8,["page","items-per-page","sort-by","headers","items-length","items","loading","search"])):U("",!0),T.value&&t.value?(o(),C(on,{key:1,convention:M.convention,modelValue:T.value,"onUpdate:modelValue":s[11]||(s[11]=l=>T.value=l),"lost-and-found":t.value,"onUpdate:lostAndFound":[s[12]||(s[12]=l=>t.value=l),ce],onNew:y(V)},null,8,["convention","modelValue","lost-and-found","onNew"])):U("",!0),R.value&&t.value?(o(),C(sn,{key:2,title:t.value.Title,modelValue:R.value,"onUpdate:modelValue":s[13]||(s[13]=l=>R.value=l),"lost-and-found":t.value,"onUpdate:lostAndFound":s[14]||(s[14]=l=>t.value=l)},null,8,["title","modelValue","lost-and-found"])):U("",!0),$.value?(o(),C(an,{key:3,convention:M.convention,modelValue:$.value,"onUpdate:modelValue":s[15]||(s[15]=l=>$.value=l)},null,8,["convention","modelValue"])):U("",!0)],64)):U("",!0)}}),zn=H({__name:"OperationsView",emits:["pageTitle"],setup(i,{emit:O}){var I;const p=j(),t=O,m=Me(),f=he();Te(),t("pageTitle","Operations");const D=d(),G=d(["Costume Props","Lost and Found"]);let F=((I=m.params.convention)==null?void 0:I.toString())||"";const P=d();return F?p.getConvention(F).then(a=>{a&&(P.value=a)}).catch(()=>{f.push("/")}):f.push("/"),(a,r)=>(o(),C($e,null,{default:e(()=>[n(qe,{color:"blue-darken-4"},{default:e(()=>[n(xe,{modelValue:D.value,"onUpdate:modelValue":r[0]||(r[0]=u=>D.value=u),items:G.value,"show-arrows":""},null,8,["modelValue","items"])]),_:1}),n(Ye,{modelValue:D.value,"onUpdate:modelValue":r[1]||(r[1]=u=>D.value=u),disabled:!0,touch:!1},{default:e(()=>[n(Oe,{value:"Costume Props"},{default:e(()=>[D.value=="Costume Props"?(o(),C(Pe,{key:0,class:"pa-2"},{default:e(()=>[P.value?(o(),C(Ze,{key:0,convention:P.value},null,8,["convention"])):U("",!0)]),_:1})):U("",!0)]),_:1}),n(Oe,{value:"Lost and Found"},{default:e(()=>[D.value=="Lost and Found"?(o(),C(Pe,{key:0,class:"pa-2"},{default:e(()=>[P.value?(o(),C(cn,{key:0,convention:P.value},null,8,["convention"])):U("",!0)]),_:1})):U("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{zn as default};
