import{c as De,V as he}from"./VTextField-BcMB6tej.js";import{p as j,aa as Se,d as ne,u as ie,K as Me,aL as Re,c as M,r as _,af as Le,s as K,a8 as Oe,aT as Ke,b as Be,aj as _e,X as de,aK as ge,w as H,aJ as Q,m as B,f as w,aU as He,aV as ue,H as J,ak as Ue,h as ce,ao as Pe,a as re,ah as je,aW as Ne,ax as ze,t as $e,e as qe,o as We,L as le,ar as Xe,ac as Ge,aP as Je,x as Qe,aC as fe,aR as ye,aS as we,F as G,aG as Ye}from"./index-CCnWeXlx.js";import{u as Ze}from"./form-BFyVwm_q.js";import{f as Te,m as et,a as tt}from"./forwardRefs-BmaVBDse.js";import{m as lt,e as nt,V as at,a as pe}from"./VList-BCuy8dli.js";import{a as ot,V as Ie,c as Ve,b as be,g as ut}from"./VOverlay-DVVbdAqX.js";import{u as rt}from"./scopeId-Bv6Sgc3_.js";import{u as ae,A as xe,a as Ce,o as Ae,b as st,c as it,d as ke}from"./VContainer-COwQRwaA.js";import{V as ct}from"./VCheckboxBtn-BINfxvUC.js";import{a as ft}from"./VChip-B6u475lZ.js";const dt=j({id:String,submenu:Boolean,...Se(ot({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Ie}}),["absolute"])},"VMenu"),vt=ne()({name:"VMenu",props:dt(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:t}=d;const u=ie(e,"modelValue"),{scopeId:s}=rt(),{isRtl:m}=Me(),h=Re(),r=M(()=>e.id||`v-menu-${h}`),l=_(),i=Le(Ve,null),b=K(new Set);Oe(Ve,{register(){b.value.add(h)},unregister(){b.value.delete(h)},closeParents(a){setTimeout(()=>{var c;!b.value.size&&!e.persistent&&(a==null||(c=l.value)!=null&&c.contentEl&&!Ke(a,l.value.contentEl))&&(u.value=!1,i==null||i.closeParents())},40)}}),Be(()=>{i==null||i.unregister(),document.removeEventListener("focusin",x)}),_e(()=>u.value=!1);async function x(a){var V,S,R;const c=a.relatedTarget,y=a.target;await de(),u.value&&c!==y&&((V=l.value)!=null&&V.contentEl)&&((S=l.value)!=null&&S.globalTop)&&![document,l.value.contentEl].includes(y)&&!l.value.contentEl.contains(y)&&((R=ge(l.value.contentEl)[0])==null||R.focus())}H(u,a=>{a?(i==null||i.register(),Q&&document.addEventListener("focusin",x,{once:!0})):(i==null||i.unregister(),Q&&document.removeEventListener("focusin",x))},{immediate:!0});function f(a){i==null||i.closeParents(a)}function g(a){var c,y,V,S,R;if(!e.disabled)if(a.key==="Tab"||a.key==="Enter"&&!e.closeOnContentClick){if(a.key==="Enter"&&(a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLInputElement&&a.target.closest("form")))return;a.key==="Enter"&&a.preventDefault(),He(ge((c=l.value)==null?void 0:c.contentEl,!1),a.shiftKey?"prev":"next",A=>A.tabIndex>=0)||(u.value=!1,(V=(y=l.value)==null?void 0:y.activatorEl)==null||V.focus())}else e.submenu&&a.key===(m.value?"ArrowRight":"ArrowLeft")&&(u.value=!1,(R=(S=l.value)==null?void 0:S.activatorEl)==null||R.focus())}function C(a){var y;if(e.disabled)return;const c=(y=l.value)==null?void 0:y.contentEl;c&&u.value?a.key==="ArrowDown"?(a.preventDefault(),a.stopImmediatePropagation(),ue(c,"next")):a.key==="ArrowUp"?(a.preventDefault(),a.stopImmediatePropagation(),ue(c,"prev")):e.submenu&&(a.key===(m.value?"ArrowRight":"ArrowLeft")?u.value=!1:a.key===(m.value?"ArrowLeft":"ArrowRight")&&(a.preventDefault(),ue(c,"first"))):(e.submenu?a.key===(m.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(a.key))&&(u.value=!0,a.preventDefault(),setTimeout(()=>setTimeout(()=>C(a))))}const k=M(()=>B({"aria-haspopup":"menu","aria-expanded":String(u.value),"aria-owns":r.value,onKeydown:C},e.activatorProps));return ae(()=>{const a=be.filterProps(e);return w(be,B({ref:l,id:r.value,class:["v-menu",e.class],style:e.style},a,{modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,absolute:!0,activatorProps:k.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:g},s),{activator:t.activator,default:function(){for(var c=arguments.length,y=new Array(c),V=0;V<c;V++)y[V]=arguments[V];return w(xe,{root:"VMenu"},{default:()=>{var S;return[(S=t.default)==null?void 0:S.call(t,...y)]}})}})}),Te({id:r,ΨopenChildren:b},l)}}),mt=j({renderless:Boolean,...Ce()},"VVirtualScrollItem"),ht=ne()({name:"VVirtualScrollItem",inheritAttrs:!1,props:mt(),emits:{"update:height":e=>!0},setup(e,d){let{attrs:t,emit:u,slots:s}=d;const{resizeRef:m,contentRect:h}=Ae(void 0,"border");H(()=>{var r;return(r=h.value)==null?void 0:r.height},r=>{r!=null&&u("update:height",r)}),ae(()=>{var r,l;return e.renderless?w(J,null,[(r=s.default)==null?void 0:r.call(s,{itemRef:m})]):w("div",B({ref:m,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(l=s.default)==null?void 0:l.call(s)])})}}),gt=-1,yt=1,se=100,wt=j({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function pt(e,d){const t=Ue(),u=K(0);ce(()=>{u.value=parseFloat(e.itemHeight||0)});const s=K(0),m=K(Math.ceil((parseInt(e.height)||t.height.value)/(u.value||16))||1),h=K(0),r=K(0),l=_(),i=_();let b=0;const{resizeRef:x,contentRect:f}=Ae();ce(()=>{x.value=l.value});const g=M(()=>{var n;return l.value===document.documentElement?t.height.value:((n=f.value)==null?void 0:n.height)||parseInt(e.height)||0}),C=M(()=>!!(l.value&&i.value&&g.value&&u.value));let k=Array.from({length:d.value.length}),a=Array.from({length:d.value.length});const c=K(0);let y=-1;function V(n){return k[n]||u.value}const S=Ne(()=>{const n=performance.now();a[0]=0;const v=d.value.length;for(let T=1;T<=v-1;T++)a[T]=(a[T-1]||0)+V(T-1);c.value=Math.max(c.value,performance.now()-n)},c),R=H(C,n=>{n&&(R(),b=i.value.offsetTop,S.immediate(),L(),~y&&de(()=>{Q&&window.requestAnimationFrame(()=>{te(y),y=-1})}))});Pe(()=>{S.clear()});function q(n,v){const T=k[n],I=u.value;u.value=I?Math.min(u.value,v):v,(T!==v||I!==u.value)&&(k[n]=v,S())}function A(n){return n=re(n,0,d.value.length-1),a[n]||0}function Y(n){return Vt(a,n)}let N=0,U=0,W=0;H(g,(n,v)=>{v&&(L(),n<v&&requestAnimationFrame(()=>{U=0,L()}))});let z=-1;function $(){if(!l.value||!i.value)return;const n=l.value.scrollTop,v=performance.now();v-W>500?(U=Math.sign(n-N),b=i.value.offsetTop):U=n-N,N=n,W=v,window.clearTimeout(z),z=window.setTimeout(Z,500),L()}function Z(){!l.value||!i.value||(U=0,W=0,window.clearTimeout(z),L())}let ee=-1;function L(){cancelAnimationFrame(ee),ee=requestAnimationFrame(oe)}function oe(){if(!l.value||!g.value)return;const n=N-b,v=Math.sign(U),T=Math.max(0,n-se),I=re(Y(T),0,d.value.length),p=n+g.value+se,P=re(Y(p)+1,I+1,d.value.length);if((v!==gt||I<s.value)&&(v!==yt||P>m.value)){const F=A(s.value)-A(I),O=A(P)-A(m.value);Math.max(F,O)>se?(s.value=I,m.value=P):(I<=0&&(s.value=I),P>=d.value.length&&(m.value=P))}h.value=A(s.value),r.value=A(d.value.length)-A(m.value)}function te(n){const v=A(n);!l.value||n&&!v?y=n:l.value.scrollTop=v}const o=M(()=>d.value.slice(s.value,m.value).map((n,v)=>({raw:n,index:v+s.value,key:je(n)&&"value"in n?n.value:v+s.value})));return H(d,()=>{k=Array.from({length:d.value.length}),a=Array.from({length:d.value.length}),S.immediate(),L()},{deep:!0}),{calculateVisibleItems:L,containerRef:l,markerRef:i,computedItems:o,paddingTop:h,paddingBottom:r,scrollToIndex:te,handleScroll:$,handleScrollend:Z,handleItemResize:q}}function Vt(e,d){let t=e.length-1,u=0,s=0,m=null,h=-1;if(e[t]<d)return t;for(;u<=t;)if(s=u+t>>1,m=e[s],m>d)t=s-1;else if(m<d)h=s,u=s+1;else return m===d?s:u;return h}const bt=j({items:{type:Array,default:()=>[]},renderless:Boolean,...wt(),...Ce(),...st()},"VVirtualScroll"),kt=ne()({name:"VVirtualScroll",props:bt(),setup(e,d){let{slots:t}=d;const u=ze("VVirtualScroll"),{dimensionStyles:s}=it(e),{calculateVisibleItems:m,containerRef:h,markerRef:r,handleScroll:l,handleScrollend:i,handleItemResize:b,scrollToIndex:x,paddingTop:f,paddingBottom:g,computedItems:C}=pt(e,$e(e,"items"));return qe(()=>e.renderless,()=>{function k(){var y,V;const c=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";h.value===document.documentElement?(document[c]("scroll",l,{passive:!0}),document[c]("scrollend",i)):((y=h.value)==null||y[c]("scroll",l,{passive:!0}),(V=h.value)==null||V[c]("scrollend",i))}We(()=>{h.value=ut(u.vnode.el,!0),k(!0)}),Pe(k)}),ae(()=>{const k=C.value.map(a=>w(ht,{key:a.key,renderless:e.renderless,"onUpdate:height":c=>b(a.index,c)},{default:c=>{var y;return(y=t.default)==null?void 0:y.call(t,{item:a.raw,index:a.index,...c})}}));return e.renderless?w(J,null,[w("div",{ref:r,class:"v-virtual-scroll__spacer",style:{paddingTop:le(f.value)}},null),k,w("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:le(g.value)}},null)]):w("div",{ref:h,class:["v-virtual-scroll",e.class],onScrollPassive:l,onScrollend:i,style:[s.value,e.style]},[w("div",{ref:r,class:"v-virtual-scroll__container",style:{paddingTop:le(f.value),paddingBottom:le(g.value)}},[k])])}),{calculateVisibleItems:m,scrollToIndex:x}}});function St(e,d){const t=K(!1);let u;function s(r){cancelAnimationFrame(u),t.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{t.value=!1})})}async function m(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(t.value){const l=H(t,()=>{l(),r()})}else r()})}async function h(r){var b,x;if(r.key==="Tab"&&((b=d.value)==null||b.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const l=(x=e.value)==null?void 0:x.$el;if(!l)return;(r.key==="Home"||r.key==="End")&&l.scrollTo({top:r.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await m();const i=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const f=l.getBoundingClientRect().top;for(const g of i)if(g.getBoundingClientRect().top>=f){g.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const g of[...i].reverse())if(g.getBoundingClientRect().bottom<=f){g.focus();break}}}return{onScrollPassive:s,onKeydown:h}}const Pt=j({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Xe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...lt({itemChildren:!1})},"Select"),Tt=j({...Pt(),...Se(De({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...et({transition:{component:Ie}})},"VSelect"),Bt=ne()({name:"VSelect",props:Tt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,d){let{slots:t}=d;const{t:u}=Ge(),s=_(),m=_(),h=_(),r=ie(e,"menu"),l=M({get:()=>r.value,set:o=>{var n;r.value&&!o&&((n=m.value)!=null&&n.ΨopenChildren.size)||(r.value=o)}}),{items:i,transformIn:b,transformOut:x}=nt(e),f=ie(e,"modelValue",[],o=>b(o===null?[null]:fe(o)),o=>{const n=x(o);return e.multiple?n:n[0]??null}),g=M(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),C=Ze(e),k=M(()=>f.value.map(o=>o.value)),a=K(!1),c=M(()=>l.value?e.closeText:e.openText);let y="",V;const S=M(()=>e.hideSelected?i.value.filter(o=>!f.value.some(n=>e.valueComparator(n,o))):i.value),R=M(()=>e.hideNoData&&!S.value.length||C.isReadonly.value||C.isDisabled.value),q=M(()=>{var o;return{...e.menuProps,activatorProps:{...((o=e.menuProps)==null?void 0:o.activatorProps)||{},"aria-haspopup":"listbox"}}}),A=_(),Y=St(A,s);function N(o){e.openOnClear&&(l.value=!0)}function U(){R.value||(l.value=!l.value)}function W(o){ye(o)&&z(o)}function z(o){var I,p;if(!o.key||C.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(o.key)&&o.preventDefault(),["Enter","ArrowDown"," "].includes(o.key)&&(l.value=!0),["Escape","Tab"].includes(o.key)&&(l.value=!1),o.key==="Home"?(I=A.value)==null||I.focus("first"):o.key==="End"&&((p=A.value)==null||p.focus("last"));const n=1e3;if(e.multiple||!ye(o))return;const v=performance.now();v-V>n&&(y=""),y+=o.key.toLowerCase(),V=v;const T=i.value.find(P=>P.title.toLowerCase().startsWith(y));if(T!==void 0){f.value=[T];const P=S.value.indexOf(T);Q&&window.requestAnimationFrame(()=>{var F;P>=0&&((F=h.value)==null||F.scrollToIndex(P))})}}function $(o){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!o.props.disabled)if(e.multiple){const v=f.value.findIndex(I=>e.valueComparator(I.value,o.value)),T=n??!~v;if(~v){const I=T?[...f.value,o]:[...f.value];I.splice(v,1),f.value=I}else T&&(f.value=[...f.value,o])}else{const v=n!==!1;f.value=v?[o]:[],de(()=>{l.value=!1})}}function Z(o){var n;(n=A.value)!=null&&n.$el.contains(o.relatedTarget)||(l.value=!1)}function ee(){var o;e.eager&&((o=h.value)==null||o.calculateVisibleItems())}function L(){var o;a.value&&((o=s.value)==null||o.focus())}function oe(o){a.value=!0}function te(o){if(o==null)f.value=[];else if(we(s.value,":autofill")||we(s.value,":-webkit-autofill")){const n=i.value.find(v=>v.title===o);n&&$(n)}else s.value&&(s.value.value="")}return H(l,()=>{if(!e.hideSelected&&l.value&&f.value.length){const o=S.value.findIndex(n=>f.value.some(v=>e.valueComparator(v.value,n.value)));Q&&window.requestAnimationFrame(()=>{var n;o>=0&&((n=h.value)==null||n.scrollToIndex(o))})}}),H(()=>e.items,(o,n)=>{l.value||a.value&&!n.length&&o.length&&(l.value=!0)}),ae(()=>{const o=!!(e.chips||t.chip),n=!!(!e.hideNoData||S.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),v=f.value.length>0,T=he.filterProps(e),I=v||!a.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return w(he,B({ref:s},T,{modelValue:f.value.map(p=>p.props.value).join(", "),"onUpdate:modelValue":te,focused:a.value,"onUpdate:focused":p=>a.value=p,validationValue:f.externalValue,counterValue:g.value,dirty:v,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:I,"onClick:clear":N,"onMousedown:control":U,onBlur:Z,onKeydown:z,"aria-label":u(c.value),title:u(c.value)}),{...t,default:()=>w(J,null,[w(vt,B({ref:m,modelValue:l.value,"onUpdate:modelValue":p=>l.value=p,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ee,onAfterLeave:L},q.value),{default:()=>[n&&w(at,B({ref:A,selected:k.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:p=>p.preventDefault(),onKeydown:W,onFocusin:oe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Y,e.listProps),{default:()=>{var p,P,F;return[(p=t["prepend-item"])==null?void 0:p.call(t),!S.value.length&&!e.hideNoData&&(((P=t["no-data"])==null?void 0:P.call(t))??w(pe,{key:"no-data",title:u(e.noDataText)},null)),w(kt,{ref:h,renderless:!0,items:S.value},{default:O=>{var me;let{item:E,index:X,itemRef:D}=O;const ve=B(E.props,{ref:D,key:E.value,onClick:()=>$(E,null)});return((me=t.item)==null?void 0:me.call(t,{item:E,index:X,props:ve}))??w(pe,B(ve,{role:"option"}),{prepend:Fe=>{let{isSelected:Ee}=Fe;return w(J,null,[e.multiple&&!e.hideSelected?w(ct,{key:E.value,modelValue:Ee,ripple:!1,tabindex:"-1"},null):void 0,E.props.prependAvatar&&w(tt,{image:E.props.prependAvatar},null),E.props.prependIcon&&w(ke,{icon:E.props.prependIcon},null)])}})}}),(F=t["append-item"])==null?void 0:F.call(t)]}})]}),f.value.map((p,P)=>{function F(D){D.stopPropagation(),D.preventDefault(),$(p,!1)}const O={"onClick:close":F,onKeydown(D){D.key!=="Enter"&&D.key!==" "||(D.preventDefault(),D.stopPropagation(),F(D))},onMousedown(D){D.preventDefault(),D.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},E=o?!!t.chip:!!t.selection,X=E?Je(o?t.chip({item:p,index:P,props:O}):t.selection({item:p,index:P})):void 0;if(!(E&&!X))return w("div",{key:p.value,class:"v-select__selection"},[o?t.chip?w(xe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:p.title}}},{default:()=>[X]}):w(ft,B({key:"chip",closable:e.closableChips,size:"small",text:p.title,disabled:p.props.disabled},O),null):X??w("span",{class:"v-select__selection-text"},[p.title,e.multiple&&P<f.value.length-1&&w("span",{class:"v-select__selection-comma"},[Qe(",")])])])})]),"append-inner":function(){var O;for(var p=arguments.length,P=new Array(p),F=0;F<p;F++)P[F]=arguments[F];return w(J,null,[(O=t["append-inner"])==null?void 0:O.call(t,...P),e.menuIcon?w(ke,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Te({isFocused:a,menu:l,select:$},s)}}),It=(e,d,t)=>e==null||d==null?-1:e.toString().toLocaleLowerCase().indexOf(d.toString().toLocaleLowerCase()),_t=j({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function xt(e,d,t){var r;const u=[],s=(t==null?void 0:t.default)??It,m=t!=null&&t.filterKeys?fe(t.filterKeys):!1,h=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return u;e:for(let l=0;l<e.length;l++){const[i,b=i]=fe(e[l]),x={},f={};let g=-1;if((d||h>0)&&!(t!=null&&t.noFilter)){if(typeof i=="object"){const a=m||Object.keys(b);for(const c of a){const y=Ye(b,c),V=(r=t==null?void 0:t.customKeyFilter)==null?void 0:r[c];if(g=V?V(y,d,i):s(y,d,i),g!==-1&&g!==!1)V?x[c]=g:f[c]=g;else if((t==null?void 0:t.filterMode)==="every")continue e}}else g=s(i,d,i),g!==-1&&g!==!1&&(f.title=g);const C=Object.keys(f).length,k=Object.keys(x).length;if(!C&&!k||(t==null?void 0:t.filterMode)==="union"&&k!==h&&!C||(t==null?void 0:t.filterMode)==="intersection"&&(k!==h||!C))continue}u.push({index:l,matches:{...f,...x}})}return u}function Ht(e,d,t,u){const s=_([]),m=_(new Map),h=M(()=>u!=null&&u.transform?G(d).map(l=>[l,u.transform(l)]):G(d));ce(()=>{const l=typeof t=="function"?t():G(t),i=typeof l!="string"&&typeof l!="number"?"":String(l),b=xt(h.value,i,{customKeyFilter:{...e.customKeyFilter,...G(u==null?void 0:u.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),x=G(d),f=[],g=new Map;b.forEach(C=>{let{index:k,matches:a}=C;const c=x[k];f.push(c),g.set(c.value,a)}),s.value=f,m.value=g});function r(l){return m.value.get(l.value)}return{filteredItems:s,filteredMatches:m,getMatches:r}}export{Bt as V,_t as a,pt as b,ht as c,Pt as d,St as e,vt as f,kt as g,wt as m,Ht as u};
